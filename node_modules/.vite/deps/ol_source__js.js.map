{
  "version": 3,
  "sources": ["browser-external:http", "browser-external:https", "browser-external:url", "browser-external:fs", "../../ol/tilegrid/TileGrid.js", "../../ol/tilegrid/WMTS.js", "../../ol/tilegrid.js", "../../ol/uri.js", "../../ol/tileurlfunction.js", "../../ol/source/Tile.js", "../../ol/source/TileEventType.js", "../../ol/source/UrlTile.js", "../../ol/source/TileImage.js", "../../ol/source/BingMaps.js", "../../ol/source/XYZ.js", "../../ol/source/CartoDB.js", "../../ol/source/Cluster.js", "../../ol/vec/mat4.js", "../../ol/webgl/Canvas.js", "../../ol/reproj/glreproj.js", "../../ol/reproj/DataTile.js", "../../ol/source/DataTile.js", "../../@petamoriken/float16/src/_util/messages.mjs", "../../@petamoriken/float16/src/_util/primordials.mjs", "../../@petamoriken/float16/src/_util/arrayIterator.mjs", "../../@petamoriken/float16/src/_util/is.mjs", "../../@petamoriken/float16/src/_util/brand.mjs", "../../@petamoriken/float16/src/_util/converter.mjs", "../../@petamoriken/float16/src/_util/spec.mjs", "../../@petamoriken/float16/src/Float16Array.mjs", "../../@petamoriken/float16/src/DataView.mjs", "../../xml-utils/get-attribute.mjs", "../../xml-utils/index-of-match.mjs", "../../xml-utils/index-of-match-end.mjs", "../../xml-utils/count-substring.mjs", "../../xml-utils/find-tag-by-name.mjs", "../../xml-utils/find-tags-by-name.mjs", "../../geotiff/dist-module/rgb.js", "../../geotiff/dist-module/compression/index.js", "../../geotiff/dist-module/resample.js", "../../geotiff/dist-module/geotiffimage.js", "../../geotiff/dist-module/dataview64.js", "../../geotiff/dist-module/dataslice.js", "../../web-worker/src/browser/index.js", "../../geotiff/dist-module/worker/create.js", "../../geotiff/dist-module/pool.js", "../../geotiff/dist-module/source/httputils.js", "../../geotiff/dist-module/source/basesource.js", "../../quick-lru/index.js", "../../geotiff/dist-module/utils.js", "../../geotiff/dist-module/source/blockedsource.js", "../../geotiff/dist-module/source/client/base.js", "../../geotiff/dist-module/source/client/fetch.js", "../../geotiff/dist-module/source/client/xhr.js", "../../geotiff/dist-module/source/client/http.js", "../../geotiff/dist-module/source/remote.js", "../../geotiff/dist-module/source/filereader.js", "../../geotiff/dist-module/source/file.js", "../../geotiff/dist-module/imagefiledirectory.js", "../../geotiff/dist-module/geotiffwriter.js", "../../geotiff/dist-module/logging.js", "../../geotiff/dist-module/geotiff.js", "../../ol/source/GeoTIFF.js", "../../ol/source/Google.js", "../../ol/source/Zoomify.js", "../../ol/source/IIIF.js", "../../ol/resolution.js", "../../ol/reproj/Image.js", "../../ol/source/common.js", "../../ol/source/Image.js", "../../ol/source/arcgisRest.js", "../../ol/source/ImageArcGISRest.js", "../../ol/source/ImageCanvas.js", "../../ol/source/mapguide.js", "../../ol/source/ImageMapGuide.js", "../../ol/source/static.js", "../../ol/source/ImageStatic.js", "../../ol/source/ImageTile.js", "../../ol/source/wms.js", "../../ol/source/ImageWMS.js", "../../ol/net.js", "../../ol/source/ogcTileUtil.js", "../../ol/source/OGCMapTile.js", "../../ol/source/VectorTile.js", "../../ol/source/OGCVectorTile.js", "../../ol/source/OSM.js", "../../ol/renderer/canvas/ImageLayer.js", "../../ol/layer/BaseImage.js", "../../ol/layer/Image.js", "../../ol/source/Raster.js", "../../ol/source/StadiaMaps.js", "../../ol/source/TileArcGISRest.js", "../../ol/source/TileDebug.js", "../../ol/source/TileJSON.js", "../../ol/source/TileWMS.js", "../../ol/source/UTFGrid.js", "../../ol/source/WMTS.js", "../../ol/source.js"],
  "sourcesContent": ["module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"http\" has been externalized for browser compatibility. Cannot access \"http.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"https\" has been externalized for browser compatibility. Cannot access \"https.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"url\" has been externalized for browser compatibility. Cannot access \"url.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"fs\" has been externalized for browser compatibility. Cannot access \"fs.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "/**\r\n * @module ol/tilegrid/TileGrid\r\n */\r\nimport TileRange, {\r\n  createOrUpdate as createOrUpdateTileRange,\r\n} from '../TileRange.js';\r\nimport {isSorted, linearFindNearest} from '../array.js';\r\nimport {assert} from '../asserts.js';\r\nimport {createOrUpdate, getTopLeft} from '../extent.js';\r\nimport {intersectsLinearRing} from '../geom/flat/intersectsextent.js';\r\nimport {ceil, clamp, floor} from '../math.js';\r\nimport {toSize} from '../size.js';\r\nimport {createOrUpdate as createOrUpdateTileCoord} from '../tilecoord.js';\r\nimport {DEFAULT_TILE_SIZE} from './common.js';\r\n\r\n/**\r\n * @private\r\n * @type {import(\"../tilecoord.js\").TileCoord}\r\n */\r\nconst tmpTileCoord = [0, 0, 0];\r\n\r\n/**\r\n * Number of decimal digits to consider in integer values when rounding.\r\n * @type {number}\r\n */\r\nconst DECIMALS = 5;\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"../extent.js\").Extent} [extent] Extent for the tile grid. No tiles outside this\r\n * extent will be requested by {@link module:ol/source/Tile~TileSource} sources. When no `origin` or\r\n * `origins` are configured, the `origin` will be set to the top-left corner of the extent.\r\n * @property {number} [minZoom=0] Minimum zoom.\r\n * @property {import(\"../coordinate.js\").Coordinate} [origin] The tile grid origin, i.e. where the `x`\r\n * and `y` axes meet (`[z, 0, 0]`). Tile coordinates increase left to right and downwards. If not\r\n * specified, `extent` or `origins` must be provided.\r\n * @property {Array<import(\"../coordinate.js\").Coordinate>} [origins] Tile grid origins, i.e. where\r\n * the `x` and `y` axes meet (`[z, 0, 0]`), for each zoom level. If given, the array length\r\n * should match the length of the `resolutions` array, i.e. each resolution can have a different\r\n * origin. Tile coordinates increase left to right and downwards. If not specified, `extent` or\r\n * `origin` must be provided.\r\n * @property {!Array<number>} resolutions Resolutions. The array index of each resolution needs\r\n * to match the zoom level. This means that even if a `minZoom` is configured, the resolutions\r\n * array will have a length of `maxZoom + 1`.\r\n * @property {Array<import(\"../size.js\").Size>} [sizes] Number of tile rows and columns\r\n * of the grid for each zoom level. If specified the values\r\n * define each zoom level's extent together with the `origin` or `origins`.\r\n * A grid `extent` can be configured in addition, and will further limit the extent\r\n * for which tile requests are made by sources. If the bottom-left corner of\r\n * an extent is used as `origin` or `origins`, then the `y` value must be\r\n * negative because OpenLayers tile coordinates use the top left as the origin.\r\n * @property {number|import(\"../size.js\").Size} [tileSize] Tile size.\r\n * Default is `[256, 256]`.\r\n * @property {Array<number|import(\"../size.js\").Size>} [tileSizes] Tile sizes. If given, the array length\r\n * should match the length of the `resolutions` array, i.e. each resolution can have a different\r\n * tile size.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Base class for setting the grid pattern for sources accessing tiled-image\r\n * servers.\r\n * @api\r\n */\r\nclass TileGrid {\r\n  /**\r\n   * @param {Options} options Tile grid options.\r\n   */\r\n  constructor(options) {\r\n    /**\r\n     * @protected\r\n     * @type {number}\r\n     */\r\n    this.minZoom = options.minZoom !== undefined ? options.minZoom : 0;\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Array<number>}\r\n     */\r\n    this.resolutions_ = options.resolutions;\r\n    assert(\r\n      isSorted(\r\n        this.resolutions_,\r\n        /**\r\n         * @param {number} a First resolution\r\n         * @param {number} b Second resolution\r\n         * @return {number} Comparison result\r\n         */\r\n        (a, b) => b - a,\r\n        true,\r\n      ),\r\n      '`resolutions` must be sorted in descending order',\r\n    );\r\n\r\n    // check if we've got a consistent zoom factor and origin\r\n    let zoomFactor;\r\n    if (!options.origins) {\r\n      for (let i = 0, ii = this.resolutions_.length - 1; i < ii; ++i) {\r\n        if (!zoomFactor) {\r\n          zoomFactor = this.resolutions_[i] / this.resolutions_[i + 1];\r\n        } else {\r\n          if (this.resolutions_[i] / this.resolutions_[i + 1] !== zoomFactor) {\r\n            zoomFactor = undefined;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @type {number|undefined}\r\n     */\r\n    this.zoomFactor_ = zoomFactor;\r\n\r\n    /**\r\n     * @protected\r\n     * @type {number}\r\n     */\r\n    this.maxZoom = this.resolutions_.length - 1;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../coordinate.js\").Coordinate|null}\r\n     */\r\n    this.origin_ = options.origin !== undefined ? options.origin : null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {Array<import(\"../coordinate.js\").Coordinate>}\r\n     */\r\n    this.origins_ = null;\r\n    if (options.origins !== undefined) {\r\n      this.origins_ = options.origins;\r\n      assert(\r\n        this.origins_.length == this.resolutions_.length,\r\n        'Number of `origins` and `resolutions` must be equal',\r\n      );\r\n    }\r\n\r\n    const extent = options.extent;\r\n\r\n    if (extent !== undefined && !this.origin_ && !this.origins_) {\r\n      this.origin_ = getTopLeft(extent);\r\n    }\r\n\r\n    assert(\r\n      (!this.origin_ && this.origins_) || (this.origin_ && !this.origins_),\r\n      'Either `origin` or `origins` must be configured, never both',\r\n    );\r\n\r\n    /**\r\n     * @private\r\n     * @type {Array<number|import(\"../size.js\").Size>}\r\n     */\r\n    this.tileSizes_ = null;\r\n    if (options.tileSizes !== undefined) {\r\n      this.tileSizes_ = options.tileSizes;\r\n      assert(\r\n        this.tileSizes_.length == this.resolutions_.length,\r\n        'Number of `tileSizes` and `resolutions` must be equal',\r\n      );\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @type {number|import(\"../size.js\").Size}\r\n     */\r\n    this.tileSize_ =\r\n      options.tileSize !== undefined\r\n        ? options.tileSize\r\n        : !this.tileSizes_\r\n          ? DEFAULT_TILE_SIZE\r\n          : null;\r\n    assert(\r\n      (!this.tileSize_ && this.tileSizes_) ||\r\n        (this.tileSize_ && !this.tileSizes_),\r\n      'Either `tileSize` or `tileSizes` must be configured, never both',\r\n    );\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../extent.js\").Extent}\r\n     */\r\n    this.extent_ = extent !== undefined ? extent : null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {Array<import(\"../TileRange.js\").default>}\r\n     */\r\n    this.fullTileRanges_ = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../size.js\").Size}\r\n     */\r\n    this.tmpSize_ = [0, 0];\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../extent.js\").Extent}\r\n     */\r\n    this.tmpExtent_ = [0, 0, 0, 0];\r\n\r\n    if (options.sizes !== undefined) {\r\n      this.fullTileRanges_ = options.sizes.map((size, z) => {\r\n        const tileRange = new TileRange(\r\n          Math.min(0, size[0]),\r\n          Math.max(size[0] - 1, -1),\r\n          Math.min(0, size[1]),\r\n          Math.max(size[1] - 1, -1),\r\n        );\r\n        if (extent) {\r\n          const restrictedTileRange = this.getTileRangeForExtentAndZ(extent, z);\r\n          tileRange.minX = Math.max(restrictedTileRange.minX, tileRange.minX);\r\n          tileRange.maxX = Math.min(restrictedTileRange.maxX, tileRange.maxX);\r\n          tileRange.minY = Math.max(restrictedTileRange.minY, tileRange.minY);\r\n          tileRange.maxY = Math.min(restrictedTileRange.maxY, tileRange.maxY);\r\n        }\r\n        return tileRange;\r\n      });\r\n    } else if (extent) {\r\n      this.calculateTileRanges_(extent);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Call a function with each tile coordinate for a given extent and zoom level.\r\n   *\r\n   * @param {import(\"../extent.js\").Extent} extent Extent.\r\n   * @param {number} zoom Integer zoom level.\r\n   * @param {function(import(\"../tilecoord.js\").TileCoord): void} callback Function called with each tile coordinate.\r\n   * @api\r\n   */\r\n  forEachTileCoord(extent, zoom, callback) {\r\n    const tileRange = this.getTileRangeForExtentAndZ(extent, zoom);\r\n    for (let i = tileRange.minX, ii = tileRange.maxX; i <= ii; ++i) {\r\n      for (let j = tileRange.minY, jj = tileRange.maxY; j <= jj; ++j) {\r\n        callback([zoom, i, j]);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @param {function(number, import(\"../TileRange.js\").default): boolean} callback Callback.\r\n   * @param {import(\"../TileRange.js\").default} [tempTileRange] Temporary import(\"../TileRange.js\").default object.\r\n   * @param {import(\"../extent.js\").Extent} [tempExtent] Temporary import(\"../extent.js\").Extent object.\r\n   * @return {boolean} Callback succeeded.\r\n   */\r\n  forEachTileCoordParentTileRange(\r\n    tileCoord,\r\n    callback,\r\n    tempTileRange,\r\n    tempExtent,\r\n  ) {\r\n    let tileRange, x, y;\r\n    let tileCoordExtent = null;\r\n    let z = tileCoord[0] - 1;\r\n    if (this.zoomFactor_ === 2) {\r\n      x = tileCoord[1];\r\n      y = tileCoord[2];\r\n    } else {\r\n      tileCoordExtent = this.getTileCoordExtent(tileCoord, tempExtent);\r\n    }\r\n    while (z >= this.minZoom) {\r\n      if (x !== undefined && y !== undefined) {\r\n        x = Math.floor(x / 2);\r\n        y = Math.floor(y / 2);\r\n        tileRange = createOrUpdateTileRange(x, x, y, y, tempTileRange);\r\n      } else {\r\n        tileRange = this.getTileRangeForExtentAndZ(\r\n          tileCoordExtent,\r\n          z,\r\n          tempTileRange,\r\n        );\r\n      }\r\n      if (callback(z, tileRange)) {\r\n        return true;\r\n      }\r\n      --z;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Get the extent for this tile grid, if it was configured.\r\n   * @return {import(\"../extent.js\").Extent} Extent.\r\n   * @api\r\n   */\r\n  getExtent() {\r\n    return this.extent_;\r\n  }\r\n\r\n  /**\r\n   * Get the maximum zoom level for the grid.\r\n   * @return {number} Max zoom.\r\n   * @api\r\n   */\r\n  getMaxZoom() {\r\n    return this.maxZoom;\r\n  }\r\n\r\n  /**\r\n   * Get the minimum zoom level for the grid.\r\n   * @return {number} Min zoom.\r\n   * @api\r\n   */\r\n  getMinZoom() {\r\n    return this.minZoom;\r\n  }\r\n\r\n  /**\r\n   * Get the origin for the grid at the given zoom level.\r\n   * @param {number} z Integer zoom level.\r\n   * @return {import(\"../coordinate.js\").Coordinate} Origin.\r\n   * @api\r\n   */\r\n  getOrigin(z) {\r\n    if (this.origin_) {\r\n      return this.origin_;\r\n    }\r\n    return this.origins_[z];\r\n  }\r\n\r\n  /**\r\n   * Get the list of origins for the grid.\r\n   * @return {Array<import(\"../coordinate.js\").Coordinate>|null} Origin.\r\n   */\r\n  getOrigins() {\r\n    return this.origins_;\r\n  }\r\n\r\n  /**\r\n   * Get the resolution for the given zoom level.\r\n   * @param {number} z Integer zoom level.\r\n   * @return {number} Resolution.\r\n   * @api\r\n   */\r\n  getResolution(z) {\r\n    return this.resolutions_[z];\r\n  }\r\n\r\n  /**\r\n   * Get the list of resolutions for the tile grid.\r\n   * @return {Array<number>} Resolutions.\r\n   * @api\r\n   */\r\n  getResolutions() {\r\n    return this.resolutions_;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @param {import(\"../TileRange.js\").default} [tempTileRange] Temporary import(\"../TileRange.js\").default object.\r\n   * @param {import(\"../extent.js\").Extent} [tempExtent] Temporary import(\"../extent.js\").Extent object.\r\n   * @return {import(\"../TileRange.js\").default|null} Tile range.\r\n   */\r\n  getTileCoordChildTileRange(tileCoord, tempTileRange, tempExtent) {\r\n    if (tileCoord[0] < this.maxZoom) {\r\n      if (this.zoomFactor_ === 2) {\r\n        const minX = tileCoord[1] * 2;\r\n        const minY = tileCoord[2] * 2;\r\n        return createOrUpdateTileRange(\r\n          minX,\r\n          minX + 1,\r\n          minY,\r\n          minY + 1,\r\n          tempTileRange,\r\n        );\r\n      }\r\n      const tileCoordExtent = this.getTileCoordExtent(\r\n        tileCoord,\r\n        tempExtent || this.tmpExtent_,\r\n      );\r\n      return this.getTileRangeForExtentAndZ(\r\n        tileCoordExtent,\r\n        tileCoord[0] + 1,\r\n        tempTileRange,\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @param {number} z Integer zoom level.\r\n   * @param {import(\"../TileRange.js\").default} [tempTileRange] Temporary import(\"../TileRange.js\").default object.\r\n   * @return {import(\"../TileRange.js\").default|null} Tile range.\r\n   */\r\n  getTileRangeForTileCoordAndZ(tileCoord, z, tempTileRange) {\r\n    if (z > this.maxZoom || z < this.minZoom) {\r\n      return null;\r\n    }\r\n\r\n    const tileCoordZ = tileCoord[0];\r\n    const tileCoordX = tileCoord[1];\r\n    const tileCoordY = tileCoord[2];\r\n\r\n    if (z === tileCoordZ) {\r\n      return createOrUpdateTileRange(\r\n        tileCoordX,\r\n        tileCoordY,\r\n        tileCoordX,\r\n        tileCoordY,\r\n        tempTileRange,\r\n      );\r\n    }\r\n\r\n    if (this.zoomFactor_) {\r\n      const factor = Math.pow(this.zoomFactor_, z - tileCoordZ);\r\n      const minX = Math.floor(tileCoordX * factor);\r\n      const minY = Math.floor(tileCoordY * factor);\r\n      if (z < tileCoordZ) {\r\n        return createOrUpdateTileRange(minX, minX, minY, minY, tempTileRange);\r\n      }\r\n\r\n      const maxX = Math.floor(factor * (tileCoordX + 1)) - 1;\r\n      const maxY = Math.floor(factor * (tileCoordY + 1)) - 1;\r\n      return createOrUpdateTileRange(minX, maxX, minY, maxY, tempTileRange);\r\n    }\r\n\r\n    const tileCoordExtent = this.getTileCoordExtent(tileCoord, this.tmpExtent_);\r\n    return this.getTileRangeForExtentAndZ(tileCoordExtent, z, tempTileRange);\r\n  }\r\n\r\n  /**\r\n   * Get a tile range for the given extent and integer zoom level.\r\n   * @param {import(\"../extent.js\").Extent} extent Extent.\r\n   * @param {number} z Integer zoom level.\r\n   * @param {import(\"../TileRange.js\").default} [tempTileRange] Temporary tile range object.\r\n   * @return {import(\"../TileRange.js\").default} Tile range.\r\n   */\r\n  getTileRangeForExtentAndZ(extent, z, tempTileRange) {\r\n    this.getTileCoordForXYAndZ_(extent[0], extent[3], z, false, tmpTileCoord);\r\n    const minX = tmpTileCoord[1];\r\n    const minY = tmpTileCoord[2];\r\n    this.getTileCoordForXYAndZ_(extent[2], extent[1], z, true, tmpTileCoord);\r\n    const maxX = tmpTileCoord[1];\r\n    const maxY = tmpTileCoord[2];\r\n    return createOrUpdateTileRange(minX, maxX, minY, maxY, tempTileRange);\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @return {import(\"../coordinate.js\").Coordinate} Tile center.\r\n   */\r\n  getTileCoordCenter(tileCoord) {\r\n    const origin = this.getOrigin(tileCoord[0]);\r\n    const resolution = this.getResolution(tileCoord[0]);\r\n    const tileSize = toSize(this.getTileSize(tileCoord[0]), this.tmpSize_);\r\n    return [\r\n      origin[0] + (tileCoord[1] + 0.5) * tileSize[0] * resolution,\r\n      origin[1] - (tileCoord[2] + 0.5) * tileSize[1] * resolution,\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Get the extent of a tile coordinate.\r\n   *\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @param {import(\"../extent.js\").Extent} [tempExtent] Temporary extent object.\r\n   * @return {import(\"../extent.js\").Extent} Extent.\r\n   * @api\r\n   */\r\n  getTileCoordExtent(tileCoord, tempExtent) {\r\n    const origin = this.getOrigin(tileCoord[0]);\r\n    const resolution = this.getResolution(tileCoord[0]);\r\n    const tileSize = toSize(this.getTileSize(tileCoord[0]), this.tmpSize_);\r\n    const minX = origin[0] + tileCoord[1] * tileSize[0] * resolution;\r\n    const minY = origin[1] - (tileCoord[2] + 1) * tileSize[1] * resolution;\r\n    const maxX = minX + tileSize[0] * resolution;\r\n    const maxY = minY + tileSize[1] * resolution;\r\n    return createOrUpdate(minX, minY, maxX, maxY, tempExtent);\r\n  }\r\n\r\n  /**\r\n   * Get the tile coordinate for the given map coordinate and resolution.  This\r\n   * method considers that coordinates that intersect tile boundaries should be\r\n   * assigned the higher tile coordinate.\r\n   *\r\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\r\n   * @param {number} resolution Resolution.\r\n   * @param {import(\"../tilecoord.js\").TileCoord} [opt_tileCoord] Destination import(\"../tilecoord.js\").TileCoord object.\r\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\r\n   * @api\r\n   */\r\n  getTileCoordForCoordAndResolution(coordinate, resolution, opt_tileCoord) {\r\n    return this.getTileCoordForXYAndResolution_(\r\n      coordinate[0],\r\n      coordinate[1],\r\n      resolution,\r\n      false,\r\n      opt_tileCoord,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Note that this method should not be called for resolutions that correspond\r\n   * to an integer zoom level.  Instead call the `getTileCoordForXYAndZ_` method.\r\n   * @param {number} x X.\r\n   * @param {number} y Y.\r\n   * @param {number} resolution Resolution (for a non-integer zoom level).\r\n   * @param {boolean} reverseIntersectionPolicy Instead of letting edge\r\n   *     intersections go to the higher tile coordinate, let edge intersections\r\n   *     go to the lower tile coordinate.\r\n   * @param {import(\"../tilecoord.js\").TileCoord} [opt_tileCoord] Temporary import(\"../tilecoord.js\").TileCoord object.\r\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\r\n   * @private\r\n   */\r\n  getTileCoordForXYAndResolution_(\r\n    x,\r\n    y,\r\n    resolution,\r\n    reverseIntersectionPolicy,\r\n    opt_tileCoord,\r\n  ) {\r\n    const z = this.getZForResolution(resolution);\r\n    const scale = resolution / this.getResolution(z);\r\n    const origin = this.getOrigin(z);\r\n    const tileSize = toSize(this.getTileSize(z), this.tmpSize_);\r\n\r\n    let tileCoordX = (scale * (x - origin[0])) / resolution / tileSize[0];\r\n    let tileCoordY = (scale * (origin[1] - y)) / resolution / tileSize[1];\r\n\r\n    if (reverseIntersectionPolicy) {\r\n      tileCoordX = ceil(tileCoordX, DECIMALS) - 1;\r\n      tileCoordY = ceil(tileCoordY, DECIMALS) - 1;\r\n    } else {\r\n      tileCoordX = floor(tileCoordX, DECIMALS);\r\n      tileCoordY = floor(tileCoordY, DECIMALS);\r\n    }\r\n\r\n    return createOrUpdateTileCoord(z, tileCoordX, tileCoordY, opt_tileCoord);\r\n  }\r\n\r\n  /**\r\n   * Although there is repetition between this method and `getTileCoordForXYAndResolution_`,\r\n   * they should have separate implementations.  This method is for integer zoom\r\n   * levels.  The other method should only be called for resolutions corresponding\r\n   * to non-integer zoom levels.\r\n   * @param {number} x Map x coordinate.\r\n   * @param {number} y Map y coordinate.\r\n   * @param {number} z Integer zoom level.\r\n   * @param {boolean} reverseIntersectionPolicy Instead of letting edge\r\n   *     intersections go to the higher tile coordinate, let edge intersections\r\n   *     go to the lower tile coordinate.\r\n   * @param {import(\"../tilecoord.js\").TileCoord} [opt_tileCoord] Temporary import(\"../tilecoord.js\").TileCoord object.\r\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\r\n   * @private\r\n   */\r\n  getTileCoordForXYAndZ_(x, y, z, reverseIntersectionPolicy, opt_tileCoord) {\r\n    const origin = this.getOrigin(z);\r\n    const resolution = this.getResolution(z);\r\n    const tileSize = toSize(this.getTileSize(z), this.tmpSize_);\r\n\r\n    let tileCoordX = (x - origin[0]) / resolution / tileSize[0];\r\n    let tileCoordY = (origin[1] - y) / resolution / tileSize[1];\r\n\r\n    if (reverseIntersectionPolicy) {\r\n      tileCoordX = ceil(tileCoordX, DECIMALS) - 1;\r\n      tileCoordY = ceil(tileCoordY, DECIMALS) - 1;\r\n    } else {\r\n      tileCoordX = floor(tileCoordX, DECIMALS);\r\n      tileCoordY = floor(tileCoordY, DECIMALS);\r\n    }\r\n\r\n    return createOrUpdateTileCoord(z, tileCoordX, tileCoordY, opt_tileCoord);\r\n  }\r\n\r\n  /**\r\n   * Get a tile coordinate given a map coordinate and zoom level.\r\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\r\n   * @param {number} z Integer zoom level, e.g. the result of a `getZForResolution()` method call\r\n   * @param {import(\"../tilecoord.js\").TileCoord} [opt_tileCoord] Destination import(\"../tilecoord.js\").TileCoord object.\r\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\r\n   * @api\r\n   */\r\n  getTileCoordForCoordAndZ(coordinate, z, opt_tileCoord) {\r\n    return this.getTileCoordForXYAndZ_(\r\n      coordinate[0],\r\n      coordinate[1],\r\n      z,\r\n      false,\r\n      opt_tileCoord,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @return {number} Tile resolution.\r\n   */\r\n  getTileCoordResolution(tileCoord) {\r\n    return this.resolutions_[tileCoord[0]];\r\n  }\r\n\r\n  /**\r\n   * Get the tile size for a zoom level. The type of the return value matches the\r\n   * `tileSize` or `tileSizes` that the tile grid was configured with. To always\r\n   * get an {@link import(\"../size.js\").Size}, run the result through {@link module:ol/size.toSize}.\r\n   * @param {number} z Z.\r\n   * @return {number|import(\"../size.js\").Size} Tile size.\r\n   * @api\r\n   */\r\n  getTileSize(z) {\r\n    if (this.tileSize_) {\r\n      return this.tileSize_;\r\n    }\r\n    return this.tileSizes_[z];\r\n  }\r\n\r\n  /**\r\n   * @param {number} z Zoom level.\r\n   * @return {import(\"../TileRange.js\").default|null} Extent tile range for the specified zoom level.\r\n   */\r\n  getFullTileRange(z) {\r\n    if (!this.fullTileRanges_) {\r\n      return this.extent_\r\n        ? this.getTileRangeForExtentAndZ(this.extent_, z)\r\n        : null;\r\n    }\r\n    return this.fullTileRanges_[z];\r\n  }\r\n\r\n  /**\r\n   * @param {number} resolution Resolution.\r\n   * @param {number|import(\"../array.js\").NearestDirectionFunction} [opt_direction]\r\n   *     If 0, the nearest resolution will be used.\r\n   *     If 1, the nearest higher resolution (lower Z) will be used. If -1, the\r\n   *     nearest lower resolution (higher Z) will be used. Default is 0.\r\n   *     Use a {@link module:ol/array~NearestDirectionFunction} for more precise control.\r\n   *\r\n   * For example to change tile Z at the midpoint of zoom levels\r\n   * ```js\r\n   * function(value, high, low) {\r\n   *   return value - low * Math.sqrt(high / low);\r\n   * }\r\n   * ```\r\n   * @return {number} Z.\r\n   * @api\r\n   */\r\n  getZForResolution(resolution, opt_direction) {\r\n    const z = linearFindNearest(\r\n      this.resolutions_,\r\n      resolution,\r\n      opt_direction || 0,\r\n    );\r\n    return clamp(z, this.minZoom, this.maxZoom);\r\n  }\r\n\r\n  /**\r\n   * The tile with the provided tile coordinate intersects the given viewport.\r\n   * @param {import('../tilecoord.js').TileCoord} tileCoord Tile coordinate.\r\n   * @param {Array<number>} viewport Viewport as returned from {@link module:ol/extent.getRotatedViewport}.\r\n   * @return {boolean} The tile with the provided tile coordinate intersects the given viewport.\r\n   */\r\n  tileCoordIntersectsViewport(tileCoord, viewport) {\r\n    return intersectsLinearRing(\r\n      viewport,\r\n      0,\r\n      viewport.length,\r\n      2,\r\n      this.getTileCoordExtent(tileCoord),\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @param {!import(\"../extent.js\").Extent} extent Extent for this tile grid.\r\n   * @private\r\n   */\r\n  calculateTileRanges_(extent) {\r\n    const length = this.resolutions_.length;\r\n    const fullTileRanges = new Array(length);\r\n    for (let z = this.minZoom; z < length; ++z) {\r\n      fullTileRanges[z] = this.getTileRangeForExtentAndZ(extent, z);\r\n    }\r\n    this.fullTileRanges_ = fullTileRanges;\r\n  }\r\n}\r\n\r\nexport default TileGrid;\r\n", "/**\r\n * @module ol/tilegrid/WMTS\r\n */\r\n\r\nimport {get as getProjection} from '../proj.js';\r\nimport TileGrid from './TileGrid.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"../extent.js\").Extent} [extent] Extent for the tile grid. No tiles\r\n * outside this extent will be requested by {@link module:ol/source/Tile~TileSource} sources.\r\n * When no `origin` or `origins` are configured, the `origin` will be set to the\r\n * top-left corner of the extent.\r\n * @property {import(\"../coordinate.js\").Coordinate} [origin] The tile grid origin, i.e.\r\n * where the `x` and `y` axes meet (`[z, 0, 0]`). Tile coordinates increase left\r\n * to right and downwards. If not specified, `extent` or `origins` must be provided.\r\n * @property {Array<import(\"../coordinate.js\").Coordinate>} [origins] Tile grid origins,\r\n * i.e. where the `x` and `y` axes meet (`[z, 0, 0]`), for each zoom level. If\r\n * given, the array length should match the length of the `resolutions` array, i.e.\r\n * each resolution can have a different origin. Tile coordinates increase left to\r\n * right and downwards. If not specified, `extent` or `origin` must be provided.\r\n * @property {!Array<number>} resolutions Resolutions. The array index of each\r\n * resolution needs to match the zoom level. This means that even if a `minZoom`\r\n * is configured, the resolutions array will have a length of `maxZoom + 1`\r\n * @property {!Array<string>} matrixIds matrix IDs. The length of this array needs\r\n * to match the length of the `resolutions` array.\r\n * @property {Array<import(\"../size.js\").Size>} [sizes] Number of tile rows and columns\r\n * of the grid for each zoom level. The values here are the `TileMatrixWidth` and\r\n * `TileMatrixHeight` advertised in the GetCapabilities response of the WMTS, and\r\n * define each zoom level's extent together with the `origin` or `origins`.\r\n * A grid `extent` can be configured in addition, and will further limit the extent for\r\n * which tile requests are made by sources. If the bottom-left corner of\r\n * an extent is used as `origin` or `origins`, then the `y` value must be\r\n * negative because OpenLayers tile coordinates use the top left as the origin.\r\n * @property {number|import(\"../size.js\").Size} [tileSize] Tile size.\r\n * @property {Array<number|import(\"../size.js\").Size>} [tileSizes] Tile sizes. The length of\r\n * this array needs to match the length of the `resolutions` array.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Set the grid pattern for sources accessing WMTS tiled-image servers.\r\n * @api\r\n */\r\nclass WMTSTileGrid extends TileGrid {\r\n  /**\r\n   * @param {Options} options WMTS options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      extent: options.extent,\r\n      origin: options.origin,\r\n      origins: options.origins,\r\n      resolutions: options.resolutions,\r\n      tileSize: options.tileSize,\r\n      tileSizes: options.tileSizes,\r\n      sizes: options.sizes,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Array<string>}\r\n     */\r\n    this.matrixIds_ = options.matrixIds;\r\n  }\r\n\r\n  /**\r\n   * @param {number} z Z.\r\n   * @return {string} MatrixId..\r\n   */\r\n  getMatrixId(z) {\r\n    return this.matrixIds_[z];\r\n  }\r\n\r\n  /**\r\n   * Get the list of matrix identifiers.\r\n   * @return {Array<string>} MatrixIds.\r\n   * @api\r\n   */\r\n  getMatrixIds() {\r\n    return this.matrixIds_;\r\n  }\r\n}\r\n\r\nexport default WMTSTileGrid;\r\n\r\n/**\r\n * Create a tile grid from a WMTS capabilities matrix set and an\r\n * optional TileMatrixSetLimits.\r\n * @param {Object} matrixSet An object representing a matrixSet in the\r\n *     capabilities document.\r\n * @param {import(\"../extent.js\").Extent} [extent] An optional extent to restrict the tile\r\n *     ranges the server provides.\r\n * @param {Array<Object>} [matrixLimits] An optional object representing\r\n *     the available matrices for tileGrid.\r\n * @return {WMTSTileGrid} WMTS tileGrid instance.\r\n * @api\r\n */\r\nexport function createFromCapabilitiesMatrixSet(\r\n  matrixSet,\r\n  extent,\r\n  matrixLimits,\r\n) {\r\n  /** @type {!Array<number>} */\r\n  const resolutions = [];\r\n  /** @type {!Array<string>} */\r\n  const matrixIds = [];\r\n  /** @type {!Array<import(\"../coordinate.js\").Coordinate>} */\r\n  const origins = [];\r\n  /** @type {!Array<number|import(\"../size.js\").Size>} */\r\n  const tileSizes = [];\r\n  /** @type {!Array<import(\"../size.js\").Size>} */\r\n  const sizes = [];\r\n\r\n  matrixLimits = matrixLimits !== undefined ? matrixLimits : [];\r\n\r\n  const supportedCRSPropName = 'SupportedCRS';\r\n  const matrixIdsPropName = 'TileMatrix';\r\n  const identifierPropName = 'Identifier';\r\n  const scaleDenominatorPropName = 'ScaleDenominator';\r\n  const topLeftCornerPropName = 'TopLeftCorner';\r\n  const tileWidthPropName = 'TileWidth';\r\n  const tileHeightPropName = 'TileHeight';\r\n\r\n  const code = matrixSet[supportedCRSPropName];\r\n  const projection = getProjection(code);\r\n  const metersPerUnit = projection.getMetersPerUnit();\r\n  // swap origin x and y coordinates if axis orientation is lat/long\r\n  const switchOriginXY = projection.getAxisOrientation().startsWith('ne');\r\n\r\n  matrixSet[matrixIdsPropName].sort(function (a, b) {\r\n    return b[scaleDenominatorPropName] - a[scaleDenominatorPropName];\r\n  });\r\n\r\n  matrixSet[matrixIdsPropName].forEach(function (elt) {\r\n    let matrixAvailable;\r\n    // use of matrixLimits to filter TileMatrices from GetCapabilities\r\n    // TileMatrixSet from unavailable matrix levels.\r\n    if (matrixLimits.length > 0) {\r\n      matrixAvailable = matrixLimits.find(function (elt_ml) {\r\n        if (elt[identifierPropName] == elt_ml[matrixIdsPropName]) {\r\n          return true;\r\n        }\r\n        // Fallback for tileMatrix identifiers that don't get prefixed\r\n        // by their tileMatrixSet identifiers.\r\n        if (!elt[identifierPropName].includes(':')) {\r\n          return (\r\n            matrixSet[identifierPropName] + ':' + elt[identifierPropName] ===\r\n            elt_ml[matrixIdsPropName]\r\n          );\r\n        }\r\n        return false;\r\n      });\r\n    } else {\r\n      matrixAvailable = true;\r\n    }\r\n\r\n    if (matrixAvailable) {\r\n      matrixIds.push(elt[identifierPropName]);\r\n      const resolution =\r\n        (elt[scaleDenominatorPropName] * 0.28e-3) / metersPerUnit;\r\n      const tileWidth = elt[tileWidthPropName];\r\n      const tileHeight = elt[tileHeightPropName];\r\n      if (switchOriginXY) {\r\n        origins.push([\r\n          elt[topLeftCornerPropName][1],\r\n          elt[topLeftCornerPropName][0],\r\n        ]);\r\n      } else {\r\n        origins.push(elt[topLeftCornerPropName]);\r\n      }\r\n      resolutions.push(resolution);\r\n      tileSizes.push(\r\n        tileWidth == tileHeight ? tileWidth : [tileWidth, tileHeight],\r\n      );\r\n      sizes.push([elt['MatrixWidth'], elt['MatrixHeight']]);\r\n    }\r\n  });\r\n\r\n  return new WMTSTileGrid({\r\n    extent: extent,\r\n    origins: origins,\r\n    resolutions: resolutions,\r\n    matrixIds: matrixIds,\r\n    tileSizes: tileSizes,\r\n    sizes: sizes,\r\n  });\r\n}\r\n", "/**\r\n * @module ol/tilegrid\r\n */\r\nimport {\r\n  containsCoordinate,\r\n  createOrUpdate,\r\n  getCorner,\r\n  getHeight,\r\n  getWidth,\r\n} from './extent.js';\r\nimport {METERS_PER_UNIT, get as getProjection} from './proj.js';\r\nimport {toSize} from './size.js';\r\nimport TileGrid from './tilegrid/TileGrid.js';\r\nimport {DEFAULT_MAX_ZOOM, DEFAULT_TILE_SIZE} from './tilegrid/common.js';\r\n\r\nexport {TileGrid};\r\nexport {default as WMTS} from './tilegrid/WMTS.js';\r\n\r\n/**\r\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\r\n * @return {!TileGrid} Default tile grid for the\r\n * passed projection.\r\n */\r\nexport function getForProjection(projection) {\r\n  let tileGrid = projection.getDefaultTileGrid();\r\n  if (!tileGrid) {\r\n    tileGrid = createForProjection(projection);\r\n    projection.setDefaultTileGrid(tileGrid);\r\n  }\r\n  return tileGrid;\r\n}\r\n\r\n/**\r\n * @param {TileGrid} tileGrid Tile grid.\r\n * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\r\n * @return {import(\"./tilecoord.js\").TileCoord} Tile coordinate.\r\n */\r\nexport function wrapX(tileGrid, tileCoord, projection) {\r\n  const z = tileCoord[0];\r\n  const center = tileGrid.getTileCoordCenter(tileCoord);\r\n  const projectionExtent = extentFromProjection(projection);\r\n  if (!containsCoordinate(projectionExtent, center)) {\r\n    const worldWidth = getWidth(projectionExtent);\r\n    const worldsAway = Math.ceil(\r\n      (projectionExtent[0] - center[0]) / worldWidth,\r\n    );\r\n    center[0] += worldWidth * worldsAway;\r\n    return tileGrid.getTileCoordForCoordAndZ(center, z);\r\n  }\r\n  return tileCoord;\r\n}\r\n\r\n/**\r\n * @param {import(\"./extent.js\").Extent} extent Extent.\r\n * @param {number} [maxZoom] Maximum zoom level (default is\r\n *     DEFAULT_MAX_ZOOM).\r\n * @param {number|import(\"./size.js\").Size} [tileSize] Tile size (default uses\r\n *     DEFAULT_TILE_SIZE).\r\n * @param {import(\"./extent.js\").Corner} [corner] Extent corner (default is `'top-left'`).\r\n * @return {!TileGrid} TileGrid instance.\r\n */\r\nexport function createForExtent(extent, maxZoom, tileSize, corner) {\r\n  corner = corner !== undefined ? corner : 'top-left';\r\n\r\n  const resolutions = resolutionsFromExtent(extent, maxZoom, tileSize);\r\n\r\n  return new TileGrid({\r\n    extent: extent,\r\n    origin: getCorner(extent, corner),\r\n    resolutions: resolutions,\r\n    tileSize: tileSize,\r\n  });\r\n}\r\n\r\n/**\r\n * @typedef {Object} XYZOptions\r\n * @property {import(\"./extent.js\").Extent} [extent] Extent for the tile grid. The origin for an XYZ tile grid is the\r\n * top-left corner of the extent. If `maxResolution` is not provided the zero level of the grid is defined by the resolution\r\n * at which one tile fits in the provided extent. If not provided, the extent of the EPSG:3857 projection is used.\r\n * @property {number} [maxResolution] Resolution at level zero.\r\n * @property {number} [maxZoom] Maximum zoom. The default is `42`. This determines the number of levels\r\n * in the grid set. For example, a `maxZoom` of 21 means there are 22 levels in the grid set.\r\n * @property {number} [minZoom=0] Minimum zoom.\r\n * @property {number|import(\"./size.js\").Size} [tileSize=[256, 256]] Tile size in pixels.\r\n */\r\n\r\n/**\r\n * Creates a tile grid with a standard XYZ tiling scheme.\r\n * @param {XYZOptions} [options] Tile grid options.\r\n * @return {!TileGrid} Tile grid instance.\r\n * @api\r\n */\r\nexport function createXYZ(options) {\r\n  const xyzOptions = options || {};\r\n\r\n  const extent = xyzOptions.extent || getProjection('EPSG:3857').getExtent();\r\n\r\n  const gridOptions = {\r\n    extent: extent,\r\n    minZoom: xyzOptions.minZoom,\r\n    tileSize: xyzOptions.tileSize,\r\n    resolutions: resolutionsFromExtent(\r\n      extent,\r\n      xyzOptions.maxZoom,\r\n      xyzOptions.tileSize,\r\n      xyzOptions.maxResolution,\r\n    ),\r\n  };\r\n  return new TileGrid(gridOptions);\r\n}\r\n\r\n/**\r\n * Create a resolutions array from an extent.  A zoom factor of 2 is assumed.\r\n * @param {import(\"./extent.js\").Extent} extent Extent.\r\n * @param {number} [maxZoom] Maximum zoom level (default is\r\n *     DEFAULT_MAX_ZOOM).\r\n * @param {number|import(\"./size.js\").Size} [tileSize] Tile size (default uses\r\n *     DEFAULT_TILE_SIZE).\r\n * @param {number} [maxResolution] Resolution at level zero.\r\n * @return {!Array<number>} Resolutions array.\r\n */\r\nfunction resolutionsFromExtent(extent, maxZoom, tileSize, maxResolution) {\r\n  maxZoom = maxZoom !== undefined ? maxZoom : DEFAULT_MAX_ZOOM;\r\n  tileSize = toSize(tileSize !== undefined ? tileSize : DEFAULT_TILE_SIZE);\r\n\r\n  const height = getHeight(extent);\r\n  const width = getWidth(extent);\r\n\r\n  maxResolution =\r\n    maxResolution > 0\r\n      ? maxResolution\r\n      : Math.max(width / tileSize[0], height / tileSize[1]);\r\n\r\n  const length = maxZoom + 1;\r\n  const resolutions = new Array(length);\r\n  for (let z = 0; z < length; ++z) {\r\n    resolutions[z] = maxResolution / Math.pow(2, z);\r\n  }\r\n  return resolutions;\r\n}\r\n\r\n/**\r\n * @param {import(\"./proj.js\").ProjectionLike} projection Projection.\r\n * @param {number} [maxZoom] Maximum zoom level (default is\r\n *     DEFAULT_MAX_ZOOM).\r\n * @param {number|import(\"./size.js\").Size} [tileSize] Tile size (default uses\r\n *     DEFAULT_TILE_SIZE).\r\n * @param {import(\"./extent.js\").Corner} [corner] Extent corner (default is `'top-left'`).\r\n * @return {!TileGrid} TileGrid instance.\r\n */\r\nexport function createForProjection(projection, maxZoom, tileSize, corner) {\r\n  const extent = extentFromProjection(projection);\r\n  return createForExtent(extent, maxZoom, tileSize, corner);\r\n}\r\n\r\n/**\r\n * Generate a tile grid extent from a projection.  If the projection has an\r\n * extent, it is used.  If not, a global extent is assumed.\r\n * @param {import(\"./proj.js\").ProjectionLike} projection Projection.\r\n * @return {import(\"./extent.js\").Extent} Extent.\r\n */\r\nexport function extentFromProjection(projection) {\r\n  projection = getProjection(projection);\r\n  let extent = projection.getExtent();\r\n  if (!extent) {\r\n    const half =\r\n      (180 * METERS_PER_UNIT.degrees) / projection.getMetersPerUnit();\r\n    extent = createOrUpdate(-half, -half, half, half);\r\n  }\r\n  return extent;\r\n}\r\n", "/**\r\n * @module ol/uri\r\n */\r\n\r\nimport {modulo} from './math.js';\r\nimport {hashZXY} from './tilecoord.js';\r\n\r\n/**\r\n * Appends query parameters to a URI.\r\n *\r\n * @param {string} uri The original URI, which may already have query data.\r\n * @param {!Object} params An object where keys are URI-encoded parameter keys,\r\n *     and the values are arbitrary types or arrays.\r\n * @return {string} The new URI.\r\n */\r\nexport function appendParams(uri, params) {\r\n  /** @type {Array<string>} */\r\n  const keyParams = [];\r\n  // Skip any null or undefined parameter values\r\n  Object.keys(params).forEach(function (k) {\r\n    if (params[k] !== null && params[k] !== undefined) {\r\n      keyParams.push(k + '=' + encodeURIComponent(params[k]));\r\n    }\r\n  });\r\n  const qs = keyParams.join('&');\r\n  // remove any trailing ? or &\r\n  uri = uri.replace(/[?&]$/, '');\r\n  // append ? or & depending on whether uri has existing parameters\r\n  uri += uri.includes('?') ? '&' : '?';\r\n  return uri + qs;\r\n}\r\n\r\nconst zRegEx = /\\{z\\}/g;\r\nconst xRegEx = /\\{x\\}/g;\r\nconst yRegEx = /\\{y\\}/g;\r\nconst dashYRegEx = /\\{-y\\}/g;\r\n\r\n/**\r\n * @param {string} template The URL template.  Should have `{x}`, `{y}`, and `{z}` placeholders.  If\r\n * the template has a `{-y}` placeholder, the `maxY` parameter must be supplied.\r\n * @param {number} z The tile z coordinate.\r\n * @param {number} x The tile x coordinate.\r\n * @param {number} y The tile y coordinate.\r\n * @param {number} [maxY] The maximum y coordinate at the given z level.\r\n * @return {string} The URL.\r\n */\r\nexport function renderXYZTemplate(template, z, x, y, maxY) {\r\n  return template\r\n    .replace(zRegEx, z.toString())\r\n    .replace(xRegEx, x.toString())\r\n    .replace(yRegEx, y.toString())\r\n    .replace(dashYRegEx, function () {\r\n      if (maxY === undefined) {\r\n        throw new Error(\r\n          'If the URL template has a {-y} placeholder, the grid extent must be known',\r\n        );\r\n      }\r\n      return (maxY - y).toString();\r\n    });\r\n}\r\n\r\n/**\r\n * @param {Array<string>} urls List of URLs.\r\n * @param {number} z The tile z coordinate.\r\n * @param {number} x The tile x coordinate.\r\n * @param {number} y The tile y coordinate.\r\n * @return {string} The chosen URL.\r\n */\r\nexport function pickUrl(urls, z, x, y) {\r\n  const hash = hashZXY(z, x, y);\r\n  const index = modulo(hash, urls.length);\r\n  return urls[index];\r\n}\r\n\r\n/**\r\n * @param {string} url URL.\r\n * @return {Array<string>} Array of urls.\r\n */\r\nexport function expandUrl(url) {\r\n  const urls = [];\r\n  let match = /\\{([a-z])-([a-z])\\}/.exec(url);\r\n  if (match) {\r\n    // char range\r\n    const startCharCode = match[1].charCodeAt(0);\r\n    const stopCharCode = match[2].charCodeAt(0);\r\n    let charCode;\r\n    for (charCode = startCharCode; charCode <= stopCharCode; ++charCode) {\r\n      urls.push(url.replace(match[0], String.fromCharCode(charCode)));\r\n    }\r\n    return urls;\r\n  }\r\n  match = /\\{(\\d+)-(\\d+)\\}/.exec(url);\r\n  if (match) {\r\n    // number range\r\n    const stop = parseInt(match[2], 10);\r\n    for (let i = parseInt(match[1], 10); i <= stop; i++) {\r\n      urls.push(url.replace(match[0], i.toString()));\r\n    }\r\n    return urls;\r\n  }\r\n  urls.push(url);\r\n  return urls;\r\n}\r\n", "/**\r\n * @module ol/tileurlfunction\r\n */\r\nimport {modulo} from './math.js';\r\nimport {hash as tileCoordHash} from './tilecoord.js';\r\nimport {renderXYZTemplate} from './uri.js';\r\n\r\n/**\r\n * @param {string} template Template.\r\n * @param {import(\"./tilegrid/TileGrid.js\").default|null} tileGrid Tile grid.\r\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\r\n */\r\nexport function createFromTemplate(template, tileGrid) {\r\n  return (\r\n    /**\r\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\r\n     * @param {number} pixelRatio Pixel ratio.\r\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\r\n     * @return {string|undefined} Tile URL.\r\n     */\r\n    function (tileCoord, pixelRatio, projection) {\r\n      if (!tileCoord) {\r\n        return undefined;\r\n      }\r\n      let maxY;\r\n      const z = tileCoord[0];\r\n      if (tileGrid) {\r\n        // The `{-y}` placeholder only works for sources that have a tile grid at construction\r\n        const range = tileGrid.getFullTileRange(z);\r\n        if (range) {\r\n          maxY = range.getHeight() - 1;\r\n        }\r\n      }\r\n      return renderXYZTemplate(template, z, tileCoord[1], tileCoord[2], maxY);\r\n    }\r\n  );\r\n}\r\n\r\n/**\r\n * @param {Array<string>} templates Templates.\r\n * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\r\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\r\n */\r\nexport function createFromTemplates(templates, tileGrid) {\r\n  const len = templates.length;\r\n  const tileUrlFunctions = new Array(len);\r\n  for (let i = 0; i < len; ++i) {\r\n    tileUrlFunctions[i] = createFromTemplate(templates[i], tileGrid);\r\n  }\r\n  return createFromTileUrlFunctions(tileUrlFunctions);\r\n}\r\n\r\n/**\r\n * @param {Array<import(\"./Tile.js\").UrlFunction>} tileUrlFunctions Tile URL Functions.\r\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\r\n */\r\nexport function createFromTileUrlFunctions(tileUrlFunctions) {\r\n  if (tileUrlFunctions.length === 1) {\r\n    return tileUrlFunctions[0];\r\n  }\r\n  return (\r\n    /**\r\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\r\n     * @param {number} pixelRatio Pixel ratio.\r\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\r\n     * @return {string|undefined} Tile URL.\r\n     */\r\n    function (tileCoord, pixelRatio, projection) {\r\n      if (!tileCoord) {\r\n        return undefined;\r\n      }\r\n      const h = tileCoordHash(tileCoord);\r\n      const index = modulo(h, tileUrlFunctions.length);\r\n      return tileUrlFunctions[index](tileCoord, pixelRatio, projection);\r\n    }\r\n  );\r\n}\r\n\r\n/**\r\n * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n * @param {number} pixelRatio Pixel ratio.\r\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\r\n * @return {string|undefined} Tile URL.\r\n */\r\nexport function nullTileUrlFunction(tileCoord, pixelRatio, projection) {\r\n  return undefined;\r\n}\r\n", "/**\r\n * @module ol/source/Tile\r\n */\r\nimport Event from '../events/Event.js';\r\nimport {scale as scaleSize, toSize} from '../size.js';\r\nimport {withinExtentAndZ} from '../tilecoord.js';\r\nimport {\r\n  getForProjection as getTileGridForProjection,\r\n  wrapX,\r\n} from '../tilegrid.js';\r\nimport {abstract, getUid} from '../util.js';\r\nimport Source from './Source.js';\r\n\r\n/***\r\n * @template Return\r\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\r\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\r\n *   import(\"../Observable\").OnSignature<import(\"./TileEventType\").TileSourceEventTypes, TileSourceEvent, Return> &\r\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\r\n *     import(\"./TileEventType\").TileSourceEventTypes, Return>} TileSourceOnSignature\r\n */\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {number} [tilePixelRatio] TilePixelRatio.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection.\r\n * @property {import(\"./Source.js\").State} [state] State.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] TileGrid.\r\n * @property {boolean} [wrapX=false] WrapX.\r\n * @property {number} [transition] Transition.\r\n * @property {string} [key] Key.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0] ZDirection.\r\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\r\n * the nearest neighbor is used when resampling.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Abstract base class; normally only used for creating subclasses and not\r\n * instantiated in apps.\r\n * Base class for sources providing images divided into a tile grid.\r\n *\r\n * @template {import(\"../Tile.js\").default} [TileType=import(\"../Tile.js\").default]\r\n * @abstract\r\n * @api\r\n */\r\nclass TileSource extends Source {\r\n  /**\r\n   * @param {Options} options SourceTile source options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      attributions: options.attributions,\r\n      attributionsCollapsible: options.attributionsCollapsible,\r\n      projection: options.projection,\r\n      state: options.state,\r\n      wrapX: options.wrapX,\r\n      interpolate: options.interpolate,\r\n    });\r\n\r\n    /***\r\n     * @type {TileSourceOnSignature<import(\"../events\").EventsKey>}\r\n     */\r\n    this.on;\r\n\r\n    /***\r\n     * @type {TileSourceOnSignature<import(\"../events\").EventsKey>}\r\n     */\r\n    this.once;\r\n\r\n    /***\r\n     * @type {TileSourceOnSignature<void>}\r\n     */\r\n    this.un;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.tilePixelRatio_ =\r\n      options.tilePixelRatio !== undefined ? options.tilePixelRatio : 1;\r\n\r\n    /**\r\n     * @type {import(\"../tilegrid/TileGrid.js\").default|null}\r\n     * @protected\r\n     */\r\n    this.tileGrid = options.tileGrid !== undefined ? options.tileGrid : null;\r\n\r\n    const tileSize = [256, 256];\r\n    if (this.tileGrid) {\r\n      toSize(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()), tileSize);\r\n    }\r\n\r\n    /**\r\n     * @protected\r\n     * @type {import(\"../size.js\").Size}\r\n     */\r\n    this.tmpSize = [0, 0];\r\n\r\n    /**\r\n     * @private\r\n     * @type {string}\r\n     */\r\n    this.key_ = options.key || getUid(this);\r\n\r\n    /**\r\n     * @protected\r\n     * @type {import(\"../Tile.js\").Options}\r\n     */\r\n    this.tileOptions = {\r\n      transition: options.transition,\r\n      interpolate: options.interpolate,\r\n    };\r\n\r\n    /**\r\n     * zDirection hint, read by the renderer. Indicates which resolution should be used\r\n     * by a renderer if the views resolution does not match any resolution of the tile source.\r\n     * If 0, the nearest resolution will be used. If 1, the nearest lower resolution\r\n     * will be used. If -1, the nearest higher resolution will be used.\r\n     * @type {number|import(\"../array.js\").NearestDirectionFunction}\r\n     */\r\n    this.zDirection = options.zDirection ? options.zDirection : 0;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {number} Gutter.\r\n   */\r\n  getGutterForProjection(projection) {\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * Return the key to be used for all tiles in the source.\r\n   * @return {string} The key for all tiles.\r\n   */\r\n  getKey() {\r\n    return this.key_;\r\n  }\r\n\r\n  /**\r\n   * Set the value to be used as the key for all tiles in the source.\r\n   * @param {string} key The key for tiles.\r\n   * @protected\r\n   */\r\n  setKey(key) {\r\n    if (this.key_ !== key) {\r\n      this.key_ = key;\r\n      this.changed();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../proj/Projection\").default} [projection] Projection.\r\n   * @return {Array<number>|null} Resolutions.\r\n   * @override\r\n   */\r\n  getResolutions(projection) {\r\n    const tileGrid = projection\r\n      ? this.getTileGridForProjection(projection)\r\n      : this.tileGrid;\r\n    if (!tileGrid) {\r\n      return null;\r\n    }\r\n    return tileGrid.getResolutions();\r\n  }\r\n\r\n  /**\r\n   * @abstract\r\n   * @param {number} z Tile coordinate z.\r\n   * @param {number} x Tile coordinate x.\r\n   * @param {number} y Tile coordinate y.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @param {import(\"../structs/LRUCache.js\").default<import(\"../Tile.js\").default>} [tileCache] Tile cache.\r\n   * @return {TileType|null} Tile.\r\n   */\r\n  getTile(z, x, y, pixelRatio, projection, tileCache) {\r\n    return abstract();\r\n  }\r\n\r\n  /**\r\n   * Return the tile grid of the tile source.\r\n   * @return {import(\"../tilegrid/TileGrid.js\").default|null} Tile grid.\r\n   * @api\r\n   */\r\n  getTileGrid() {\r\n    return this.tileGrid;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\r\n   */\r\n  getTileGridForProjection(projection) {\r\n    if (!this.tileGrid) {\r\n      return getTileGridForProjection(projection);\r\n    }\r\n    return this.tileGrid;\r\n  }\r\n\r\n  /**\r\n   * Get the tile pixel ratio for this source. Subclasses may override this\r\n   * method, which is meant to return a supported pixel ratio that matches the\r\n   * provided `pixelRatio` as close as possible.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @return {number} Tile pixel ratio.\r\n   */\r\n  getTilePixelRatio(pixelRatio) {\r\n    return this.tilePixelRatio_;\r\n  }\r\n\r\n  /**\r\n   * @param {number} z Z.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {import(\"../size.js\").Size} Tile size.\r\n   */\r\n  getTilePixelSize(z, pixelRatio, projection) {\r\n    const tileGrid = this.getTileGridForProjection(projection);\r\n    const tilePixelRatio = this.getTilePixelRatio(pixelRatio);\r\n    const tileSize = toSize(tileGrid.getTileSize(z), this.tmpSize);\r\n    if (tilePixelRatio == 1) {\r\n      return tileSize;\r\n    }\r\n    return scaleSize(tileSize, tilePixelRatio, this.tmpSize);\r\n  }\r\n\r\n  /**\r\n   * Returns a tile coordinate wrapped around the x-axis. When the tile coordinate\r\n   * is outside the resolution and extent range of the tile grid, `null` will be\r\n   * returned.\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @param {import(\"../proj/Projection.js\").default} [projection] Projection.\r\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate to be passed to the tileUrlFunction or\r\n   *     null if no tile URL should be created for the passed `tileCoord`.\r\n   */\r\n  getTileCoordForTileUrlFunction(tileCoord, projection) {\r\n    const gridProjection =\r\n      projection !== undefined ? projection : this.getProjection();\r\n    const tileGrid =\r\n      projection !== undefined\r\n        ? this.getTileGridForProjection(gridProjection)\r\n        : this.tileGrid || this.getTileGridForProjection(gridProjection);\r\n    if (this.getWrapX() && gridProjection.isGlobal()) {\r\n      tileCoord = wrapX(tileGrid, tileCoord, gridProjection);\r\n    }\r\n    return withinExtentAndZ(tileCoord, tileGrid) ? tileCoord : null;\r\n  }\r\n\r\n  /**\r\n   * Remove all cached reprojected tiles from the source. The next render cycle will create new tiles.\r\n   * @api\r\n   */\r\n  clear() {}\r\n\r\n  /**\r\n   * @override\r\n   */\r\n  refresh() {\r\n    this.clear();\r\n    super.refresh();\r\n  }\r\n}\r\n\r\n/**\r\n * @classdesc\r\n * Events emitted by {@link module:ol/source/Tile~TileSource} instances are instances of this\r\n * type.\r\n */\r\nexport class TileSourceEvent extends Event {\r\n  /**\r\n   * @param {string} type Type.\r\n   * @param {import(\"../Tile.js\").default} tile The tile.\r\n   */\r\n  constructor(type, tile) {\r\n    super(type);\r\n\r\n    /**\r\n     * The tile related to the event.\r\n     * @type {import(\"../Tile.js\").default}\r\n     * @api\r\n     */\r\n    this.tile = tile;\r\n  }\r\n}\r\n\r\nexport default TileSource;\r\n", "/**\r\n * @module ol/source/TileEventType\r\n */\r\n\r\n/**\r\n * @enum {string}\r\n */\r\nexport default {\r\n  /**\r\n   * Triggered when a tile starts loading.\r\n   * @event module:ol/source/Tile.TileSourceEvent#tileloadstart\r\n   * @api\r\n   */\r\n  TILELOADSTART: 'tileloadstart',\r\n\r\n  /**\r\n   * Triggered when a tile finishes loading, either when its data is loaded,\r\n   * or when loading was aborted because the tile is no longer needed.\r\n   * @event module:ol/source/Tile.TileSourceEvent#tileloadend\r\n   * @api\r\n   */\r\n  TILELOADEND: 'tileloadend',\r\n\r\n  /**\r\n   * Triggered if tile loading results in an error. Note that this is not the\r\n   * right place to re-fetch tiles. See {@link module:ol/ImageTile~ImageTile#load}\r\n   * for details.\r\n   * @event module:ol/source/Tile.TileSourceEvent#tileloaderror\r\n   * @api\r\n   */\r\n  TILELOADERROR: 'tileloaderror',\r\n};\r\n\r\n/**\r\n * @typedef {'tileloadstart'|'tileloadend'|'tileloaderror'} TileSourceEventTypes\r\n */\r\n", "/**\r\n * @module ol/source/UrlTile\r\n */\r\nimport TileState from '../TileState.js';\r\nimport {createFromTemplates} from '../tileurlfunction.js';\r\nimport {expandUrl} from '../uri.js';\r\nimport {getUid} from '../util.js';\r\nimport TileSource, {TileSourceEvent} from './Tile.js';\r\nimport TileEventType from './TileEventType.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection.\r\n * @property {import(\"./Source.js\").State} [state] State.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] TileGrid.\r\n * @property {import(\"../Tile.js\").LoadFunction} tileLoadFunction TileLoadFunction.\r\n * @property {number} [tilePixelRatio] TilePixelRatio.\r\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Deprecated.  Use an ImageTile source and provide a function\r\n * for the url option instead.\r\n * @property {string} [url] Url.\r\n * @property {Array<string>} [urls] Urls.\r\n * @property {boolean} [wrapX=true] WrapX.\r\n * @property {number} [transition] Transition.\r\n * @property {string} [key] Key.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0] ZDirection.\r\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\r\n * the nearest neighbor is used when resampling.\r\n */\r\n\r\n/**\r\n * @deprecated Use the ol/source/ImageTile.js instead.\r\n *\r\n * @fires import(\"./Tile.js\").TileSourceEvent\r\n */\r\nclass UrlTile extends TileSource {\r\n  /**\r\n   * @param {Options} options Image tile options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      attributions: options.attributions,\r\n      cacheSize: options.cacheSize,\r\n      projection: options.projection,\r\n      state: options.state,\r\n      tileGrid: options.tileGrid,\r\n      tilePixelRatio: options.tilePixelRatio,\r\n      wrapX: options.wrapX,\r\n      transition: options.transition,\r\n      interpolate: options.interpolate,\r\n      key: options.key,\r\n      attributionsCollapsible: options.attributionsCollapsible,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.generateTileUrlFunction_ =\r\n      this.tileUrlFunction === UrlTile.prototype.tileUrlFunction;\r\n\r\n    /**\r\n     * @protected\r\n     * @type {import(\"../Tile.js\").LoadFunction}\r\n     */\r\n    this.tileLoadFunction = options.tileLoadFunction;\r\n\r\n    if (options.tileUrlFunction) {\r\n      this.tileUrlFunction = options.tileUrlFunction;\r\n    }\r\n\r\n    /**\r\n     * @protected\r\n     * @type {!Array<string>|null}\r\n     */\r\n    this.urls = null;\r\n\r\n    if (options.urls) {\r\n      this.setUrls(options.urls);\r\n    } else if (options.url) {\r\n      this.setUrl(options.url);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Object<string, boolean>}\r\n     */\r\n    this.tileLoadingKeys_ = {};\r\n  }\r\n\r\n  /**\r\n   * Deprecated.  Use an ImageTile source instead.\r\n   * Return the tile load function of the source.\r\n   * @return {import(\"../Tile.js\").LoadFunction} TileLoadFunction\r\n   * @api\r\n   */\r\n  getTileLoadFunction() {\r\n    return this.tileLoadFunction;\r\n  }\r\n\r\n  /**\r\n   * Deprecated.  Use an ImageTile source instead.\r\n   * Return the tile URL function of the source.\r\n   * @return {import(\"../Tile.js\").UrlFunction} TileUrlFunction\r\n   * @api\r\n   */\r\n  getTileUrlFunction() {\r\n    return Object.getPrototypeOf(this).tileUrlFunction === this.tileUrlFunction\r\n      ? this.tileUrlFunction.bind(this)\r\n      : this.tileUrlFunction;\r\n  }\r\n\r\n  /**\r\n   * Deprecated.  Use an ImageTile source instead.\r\n   * Return the URLs used for this source.\r\n   * When a tileUrlFunction is used instead of url or urls,\r\n   * null will be returned.\r\n   * @return {!Array<string>|null} URLs.\r\n   * @api\r\n   */\r\n  getUrls() {\r\n    return this.urls;\r\n  }\r\n\r\n  /**\r\n   * Handle tile change events.\r\n   * @param {import(\"../events/Event.js\").default} event Event.\r\n   * @protected\r\n   */\r\n  handleTileChange(event) {\r\n    const tile = /** @type {import(\"../Tile.js\").default} */ (event.target);\r\n    const uid = getUid(tile);\r\n    const tileState = tile.getState();\r\n    let type;\r\n    if (tileState == TileState.LOADING) {\r\n      this.tileLoadingKeys_[uid] = true;\r\n      type = TileEventType.TILELOADSTART;\r\n    } else if (uid in this.tileLoadingKeys_) {\r\n      delete this.tileLoadingKeys_[uid];\r\n      type =\r\n        tileState == TileState.ERROR\r\n          ? TileEventType.TILELOADERROR\r\n          : tileState == TileState.LOADED\r\n            ? TileEventType.TILELOADEND\r\n            : undefined;\r\n    }\r\n    if (type != undefined) {\r\n      this.dispatchEvent(new TileSourceEvent(type, tile));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Deprecated.  Use an ImageTile source instead.\r\n   * Set the tile load function of the source.\r\n   * @param {import(\"../Tile.js\").LoadFunction} tileLoadFunction Tile load function.\r\n   * @api\r\n   */\r\n  setTileLoadFunction(tileLoadFunction) {\r\n    this.tileLoadFunction = tileLoadFunction;\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * Deprecated.  Use an ImageTile source instead.\r\n   * Set the tile URL function of the source.\r\n   * @param {import(\"../Tile.js\").UrlFunction} tileUrlFunction Tile URL function.\r\n   * @param {string} [key] Optional new tile key for the source.\r\n   * @api\r\n   */\r\n  setTileUrlFunction(tileUrlFunction, key) {\r\n    this.tileUrlFunction = tileUrlFunction;\r\n    if (typeof key !== 'undefined') {\r\n      this.setKey(key);\r\n    } else {\r\n      this.changed();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the URL to use for requests.\r\n   * @param {string} url URL.\r\n   * @api\r\n   */\r\n  setUrl(url) {\r\n    const urls = expandUrl(url);\r\n    this.urls = urls;\r\n    this.setUrls(urls);\r\n  }\r\n\r\n  /**\r\n   * Deprecated.  Use an ImageTile source instead.\r\n   * Set the URLs to use for requests.\r\n   * @param {Array<string>} urls URLs.\r\n   * @api\r\n   */\r\n  setUrls(urls) {\r\n    this.urls = urls;\r\n    const key = urls.join('\\n');\r\n    if (this.generateTileUrlFunction_) {\r\n      this.setTileUrlFunction(createFromTemplates(urls, this.tileGrid), key);\r\n    } else {\r\n      this.setKey(key);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {string|undefined} Tile URL.\r\n   */\r\n  tileUrlFunction(tileCoord, pixelRatio, projection) {\r\n    return undefined;\r\n  }\r\n}\r\n\r\nexport default UrlTile;\r\n", "/**\r\n * @module ol/source/TileImage\r\n */\r\nimport ImageTile from '../ImageTile.js';\r\nimport TileState from '../TileState.js';\r\nimport EventType from '../events/EventType.js';\r\nimport {WORKER_OFFSCREEN_CANVAS} from '../has.js';\r\nimport {equivalent, get as getProjection} from '../proj.js';\r\nimport ReprojTile from '../reproj/Tile.js';\r\nimport {getCacheKey} from '../tilecoord.js';\r\nimport {getForProjection as getTileGridForProjection} from '../tilegrid.js';\r\nimport {getUid} from '../util.js';\r\nimport UrlTile from './UrlTile.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {import(\"./Source.js\").State} [state] Source state.\r\n * @property {typeof import(\"../ImageTile.js\").default} [tileClass] Class used to instantiate image tiles.\r\n * Default is {@link module:ol/ImageTile~ImageTile}.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\r\n * ```js\r\n * function(imageTile, src) {\r\n *   imageTile.getImage().src = src;\r\n * };\r\n * ```\r\n * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service. For example, if the tile\r\n * service advertizes 256px by 256px tiles but actually sends 512px\r\n * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\r\n * should be set to `2`.\r\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Deprecated.  Use an ImageTile source and provide a function\r\n * for the url option instead.\r\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\r\n * A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`, may be\r\n * used instead of defining each one separately in the `urls` option.\r\n * @property {Array<string>} [urls] An array of URL templates.\r\n * @property {boolean} [wrapX] Whether to wrap the world horizontally. The default, is to\r\n * request out-of-bounds tiles from the server. When set to `false`, only one\r\n * world will be rendered. When set to `true`, tiles will be requested for one\r\n * world only, but they will be wrapped horizontally to render multiple worlds.\r\n * @property {number} [transition] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {string} [key] Optional tile key for proper cache fetching\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @deprecated Use the ol/source/ImageTile.js instead.\r\n *\r\n * @fires import(\"./Tile.js\").TileSourceEvent\r\n * @api\r\n */\r\nclass TileImage extends UrlTile {\r\n  /**\r\n   * @param {!Options} options Image tile options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      attributions: options.attributions,\r\n      cacheSize: options.cacheSize,\r\n      projection: options.projection,\r\n      state: options.state,\r\n      tileGrid: options.tileGrid,\r\n      tileLoadFunction: options.tileLoadFunction\r\n        ? options.tileLoadFunction\r\n        : defaultTileLoadFunction,\r\n      tilePixelRatio: options.tilePixelRatio,\r\n      tileUrlFunction: options.tileUrlFunction,\r\n      url: options.url,\r\n      urls: options.urls,\r\n      wrapX: options.wrapX,\r\n      transition: options.transition,\r\n      interpolate:\r\n        options.interpolate !== undefined ? options.interpolate : true,\r\n      key: options.key,\r\n      attributionsCollapsible: options.attributionsCollapsible,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @protected\r\n     * @type {?string}\r\n     */\r\n    this.crossOrigin =\r\n      options.crossOrigin !== undefined ? options.crossOrigin : null;\r\n\r\n    /**\r\n     * @protected\r\n     * @type {ReferrerPolicy}\r\n     */\r\n    this.referrerPolicy = options.referrerPolicy;\r\n\r\n    /**\r\n     * @protected\r\n     * @type {typeof ImageTile}\r\n     */\r\n    this.tileClass =\r\n      options.tileClass !== undefined ? options.tileClass : ImageTile;\r\n\r\n    /**\r\n     * @protected\r\n     * @type {!Object<string, import(\"../tilegrid/TileGrid.js\").default>}\r\n     */\r\n    this.tileGridForProjection = {};\r\n\r\n    /**\r\n     * @private\r\n     * @type {number|undefined}\r\n     */\r\n    this.reprojectionErrorThreshold_ = options.reprojectionErrorThreshold;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.renderReprojectionEdges_ = false;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {number} Gutter.\r\n   * @override\r\n   */\r\n  getGutterForProjection(projection) {\r\n    if (\r\n      this.getProjection() &&\r\n      projection &&\r\n      !equivalent(this.getProjection(), projection)\r\n    ) {\r\n      return 0;\r\n    }\r\n    return this.getGutter();\r\n  }\r\n\r\n  /**\r\n   * @return {number} Gutter.\r\n   */\r\n  getGutter() {\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * Return the key to be used for all tiles in the source.\r\n   * @return {string} The key for all tiles.\r\n   * @override\r\n   */\r\n  getKey() {\r\n    let key = super.getKey();\r\n    if (!this.getInterpolate()) {\r\n      key += ':disable-interpolation';\r\n    }\r\n    return key;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\r\n   * @override\r\n   */\r\n  getTileGridForProjection(projection) {\r\n    const thisProj = this.getProjection();\r\n    if (this.tileGrid && (!thisProj || equivalent(thisProj, projection))) {\r\n      return this.tileGrid;\r\n    }\r\n    const projKey = getUid(projection);\r\n    if (!(projKey in this.tileGridForProjection)) {\r\n      this.tileGridForProjection[projKey] =\r\n        getTileGridForProjection(projection);\r\n    }\r\n    return this.tileGridForProjection[projKey];\r\n  }\r\n\r\n  /**\r\n   * @param {number} z Tile coordinate z.\r\n   * @param {number} x Tile coordinate x.\r\n   * @param {number} y Tile coordinate y.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @param {string} key The key set on the tile.\r\n   * @return {!ImageTile} Tile.\r\n   * @private\r\n   */\r\n  createTile_(z, x, y, pixelRatio, projection, key) {\r\n    const tileCoord = [z, x, y];\r\n    const urlTileCoord = this.getTileCoordForTileUrlFunction(\r\n      tileCoord,\r\n      projection,\r\n    );\r\n    const tileUrl = urlTileCoord\r\n      ? this.tileUrlFunction(urlTileCoord, pixelRatio, projection)\r\n      : undefined;\r\n    const tile = new this.tileClass(\r\n      tileCoord,\r\n      tileUrl !== undefined ? TileState.IDLE : TileState.EMPTY,\r\n      tileUrl !== undefined ? tileUrl : '',\r\n      {\r\n        crossOrigin: this.crossOrigin,\r\n        referrerPolicy: this.referrerPolicy,\r\n      },\r\n      this.tileLoadFunction,\r\n      this.tileOptions,\r\n    );\r\n    tile.key = key;\r\n    tile.addEventListener(EventType.CHANGE, this.handleTileChange.bind(this));\r\n    return tile;\r\n  }\r\n\r\n  /**\r\n   * @param {number} z Tile coordinate z.\r\n   * @param {number} x Tile coordinate x.\r\n   * @param {number} y Tile coordinate y.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @param {import(\"../structs/LRUCache.js\").default<import(\"../Tile.js\").default>} [tileCache] Tile cache.\r\n   * @return {!(ImageTile|ReprojTile)} Tile.\r\n   * @override\r\n   */\r\n  getTile(z, x, y, pixelRatio, projection, tileCache) {\r\n    const sourceProjection = this.getProjection();\r\n    if (\r\n      !sourceProjection ||\r\n      !projection ||\r\n      equivalent(sourceProjection, projection)\r\n    ) {\r\n      return this.getTileInternal(\r\n        z,\r\n        x,\r\n        y,\r\n        pixelRatio,\r\n        sourceProjection || projection,\r\n      );\r\n    }\r\n    const tileCoord = [z, x, y];\r\n    const key = this.getKey();\r\n    const sourceTileGrid = this.getTileGridForProjection(sourceProjection);\r\n    const targetTileGrid = this.getTileGridForProjection(projection);\r\n    const wrappedTileCoord = this.getTileCoordForTileUrlFunction(\r\n      tileCoord,\r\n      projection,\r\n    );\r\n    const tile = new ReprojTile(\r\n      sourceProjection,\r\n      sourceTileGrid,\r\n      projection,\r\n      targetTileGrid,\r\n      tileCoord,\r\n      wrappedTileCoord,\r\n      this.getTilePixelRatio(pixelRatio),\r\n      this.getGutter(),\r\n      (z, x, y, pixelRatio) =>\r\n        this.getTileInternal(z, x, y, pixelRatio, sourceProjection, tileCache),\r\n      this.reprojectionErrorThreshold_,\r\n      this.renderReprojectionEdges_,\r\n      this.tileOptions,\r\n    );\r\n    tile.key = key;\r\n    return tile;\r\n  }\r\n\r\n  /**\r\n   * @param {number} z Tile coordinate z.\r\n   * @param {number} x Tile coordinate x.\r\n   * @param {number} y Tile coordinate y.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {!import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @param {import(\"../structs/LRUCache.js\").default<import(\"../Tile.js\").default>} [tileCache] Tile cache.\r\n   * @return {!ImageTile} Tile.\r\n   * @protected\r\n   */\r\n  getTileInternal(z, x, y, pixelRatio, projection, tileCache) {\r\n    const key = this.getKey();\r\n    const cacheKey = getCacheKey(this, key, z, x, y);\r\n    if (tileCache && tileCache.containsKey(cacheKey)) {\r\n      const tile = /** @type {!ImageTile} */ (tileCache.get(cacheKey));\r\n      return tile;\r\n    }\r\n    const tile = this.createTile_(z, x, y, pixelRatio, projection, key);\r\n    tileCache?.set(cacheKey, tile);\r\n    return tile;\r\n  }\r\n\r\n  /**\r\n   * Sets whether to render reprojection edges or not (usually for debugging).\r\n   * @param {boolean} render Render the edges.\r\n   * @api\r\n   */\r\n  setRenderReprojectionEdges(render) {\r\n    if (this.renderReprojectionEdges_ == render) {\r\n      return;\r\n    }\r\n    this.renderReprojectionEdges_ = render;\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * Sets the tile grid to use when reprojecting the tiles to the given\r\n   * projection instead of the default tile grid for the projection.\r\n   *\r\n   * This can be useful when the default tile grid cannot be created\r\n   * (e.g. projection has no extent defined) or\r\n   * for optimization reasons (custom tile size, resolutions, ...).\r\n   *\r\n   * @param {import(\"../proj.js\").ProjectionLike} projection Projection.\r\n   * @param {import(\"../tilegrid/TileGrid.js\").default} tilegrid Tile grid to use for the projection.\r\n   * @api\r\n   */\r\n  setTileGridForProjection(projection, tilegrid) {\r\n    const proj = getProjection(projection);\r\n    if (proj) {\r\n      const projKey = getUid(proj);\r\n      if (!(projKey in this.tileGridForProjection)) {\r\n        this.tileGridForProjection[projKey] = tilegrid;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param {ImageTile} imageTile Image tile.\r\n * @param {string} src Source.\r\n */\r\nexport function defaultTileLoadFunction(imageTile, src) {\r\n  if (WORKER_OFFSCREEN_CANVAS) {\r\n    // special treatment for offscreen canvas\r\n    const crossOrigin = imageTile.getCrossOrigin();\r\n\r\n    /** @type {RequestMode} */\r\n    let mode = 'same-origin';\r\n    /** @type {RequestCredentials} */\r\n    let credentials = 'same-origin';\r\n    if (crossOrigin === 'anonymous' || crossOrigin === '') {\r\n      mode = 'cors';\r\n      credentials = 'omit';\r\n    } else if (crossOrigin === 'use-credentials') {\r\n      mode = 'cors';\r\n      credentials = 'include';\r\n    }\r\n\r\n    const options = {\r\n      mode,\r\n      credentials,\r\n      referrerPolicy: imageTile.getReferrerPolicy(),\r\n    };\r\n\r\n    fetch(src, options)\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP ${response.status}`);\r\n        }\r\n        return response.blob();\r\n      })\r\n      .then((blob) => {\r\n        return createImageBitmap(blob);\r\n      })\r\n      .then((imageBitmap) => {\r\n        const canvas = imageTile.getImage();\r\n        canvas.width = imageBitmap.width;\r\n        canvas.height = imageBitmap.height;\r\n        const ctx = /** @type {OffscreenCanvas} */ (canvas).getContext('2d');\r\n        ctx.drawImage(imageBitmap, 0, 0);\r\n        imageBitmap.close?.();\r\n        // mock the image 'load' event\r\n        canvas.dispatchEvent(new Event('load'));\r\n      })\r\n      .catch(() => {\r\n        const canvas = imageTile.getImage();\r\n        canvas.dispatchEvent(new Event('error'));\r\n      });\r\n    return;\r\n  }\r\n\r\n  /** @type {HTMLImageElement|HTMLVideoElement} */ (imageTile.getImage()).src =\r\n    src;\r\n}\r\n\r\nexport default TileImage;\r\n", "/**\r\n * @module ol/source/BingMaps\r\n */\r\n\r\nimport {applyTransform, intersects} from '../extent.js';\r\nimport {get as getProjection, getTransformFromProjections} from '../proj.js';\r\nimport {createOrUpdate} from '../tilecoord.js';\r\nimport {createXYZ, extentFromProjection} from '../tilegrid.js';\r\nimport {createFromTileUrlFunctions} from '../tileurlfunction.js';\r\nimport TileImage from './TileImage.js';\r\n\r\n/**\r\n * @param {import('../tilecoord.js').TileCoord} tileCoord Tile coord.\r\n * @return {string} Quad key.\r\n */\r\nexport function quadKey(tileCoord) {\r\n  const z = tileCoord[0];\r\n  const digits = new Array(z);\r\n  let mask = 1 << (z - 1);\r\n  let i, charCode;\r\n  for (i = 0; i < z; ++i) {\r\n    // 48 is charCode for 0 - '0'.charCodeAt(0)\r\n    charCode = 48;\r\n    if (tileCoord[1] & mask) {\r\n      charCode += 1;\r\n    }\r\n    if (tileCoord[2] & mask) {\r\n      charCode += 2;\r\n    }\r\n    digits[i] = String.fromCharCode(charCode);\r\n    mask >>= 1;\r\n  }\r\n  return digits.join('');\r\n}\r\n\r\n/**\r\n * The attribution containing a link to the Microsoft Bing Maps Platform APIs\r\n * Terms Of Use.\r\n * @const\r\n * @type {string}\r\n */\r\nconst TOS_ATTRIBUTION =\r\n  '<a class=\"ol-attribution-bing-tos\" ' +\r\n  'href=\"https://www.microsoft.com/maps/product/terms.html\" target=\"_blank\">' +\r\n  'Terms of Use</a>';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {boolean} [hidpi=false] If `true` hidpi tiles will be requested.\r\n * @property {string} [culture='en-us'] Culture code.\r\n * @property {string} key Bing Maps API key. Get yours at https://www.bingmapsportal.com/.\r\n * @property {string} imagerySet Type of imagery.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {number} [maxZoom=21] Max zoom. Default is what's advertized by the BingMaps service.\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\r\n * ```js\r\n * function(imageTile, src) {\r\n *   imageTile.getImage().src = src;\r\n * };\r\n * ```\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * @property {number} [transition] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n * @property {boolean} [placeholderTiles] Whether to show BingMaps placeholder tiles when zoomed past the maximum level provided in an area. When `false`, requests beyond\r\n * the maximum zoom level will return no tile. When `true`, the placeholder tile will be returned. When not set, the default behaviour of the imagery set takes place,\r\n * which is unique for each imagery set in BingMaps.\r\n * @property {string} [url='https://dev.virtualearth.net/REST/v1/Imagery/Metadata/'] The Bing Map Metadata API URL.\r\n */\r\n\r\n/**\r\n * @typedef {Object} BingMapsImageryMetadataResponse\r\n * @property {number} statusCode The response status code\r\n * @property {string} statusDescription The response status description\r\n * @property {string} authenticationResultCode The authentication result code\r\n * @property {Array<ResourceSet>} resourceSets The array of resource sets\r\n */\r\n\r\n/**\r\n * @typedef {Object} ResourceSet\r\n * @property {Array<Resource>} resources Resources.\r\n */\r\n\r\n/**\r\n * @typedef {Object} Resource\r\n * @property {number} imageHeight The image height\r\n * @property {number} imageWidth The image width\r\n * @property {number} zoomMin The minimum zoom level\r\n * @property {number} zoomMax The maximum zoom level\r\n * @property {string} imageUrl The image URL\r\n * @property {Array<string>} imageUrlSubdomains The image URL subdomains for rotation\r\n * @property {Array<ImageryProvider>} [imageryProviders] The array of ImageryProviders\r\n */\r\n\r\n/**\r\n * @typedef {Object} ImageryProvider\r\n * @property {Array<CoverageArea>} coverageAreas The coverage areas\r\n * @property {string} [attribution] The attribution\r\n */\r\n\r\n/**\r\n * @typedef {Object} CoverageArea\r\n * @property {number} zoomMin The minimum zoom\r\n * @property {number} zoomMax The maximum zoom\r\n * @property {Array<number>} bbox The coverage bounding box\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for Bing Maps tile data.\r\n * @api\r\n */\r\nclass BingMaps extends TileImage {\r\n  /**\r\n   * @param {Options} options Bing Maps options.\r\n   */\r\n  constructor(options) {\r\n    const hidpi = options.hidpi !== undefined ? options.hidpi : false;\r\n\r\n    super({\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin: 'anonymous',\r\n      interpolate: options.interpolate,\r\n      projection: getProjection('EPSG:3857'),\r\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\r\n      state: 'loading',\r\n      tileLoadFunction: options.tileLoadFunction,\r\n      tilePixelRatio: hidpi ? 2 : 1,\r\n      wrapX: options.wrapX !== undefined ? options.wrapX : true,\r\n      transition: options.transition,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.hidpi_ = hidpi;\r\n\r\n    /**\r\n     * @private\r\n     * @type {string}\r\n     */\r\n    this.culture_ = options.culture !== undefined ? options.culture : 'en-us';\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.maxZoom_ = options.maxZoom !== undefined ? options.maxZoom : -1;\r\n\r\n    /**\r\n     * @private\r\n     * @type {string}\r\n     */\r\n    this.apiKey_ = options.key;\r\n\r\n    /**\r\n     * @private\r\n     * @type {string}\r\n     */\r\n    this.imagerySet_ = options.imagerySet;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean|undefined}\r\n     */\r\n    this.placeholderTiles_ = options.placeholderTiles;\r\n\r\n    const url =\r\n      (options.url ||\r\n        'https://dev.virtualearth.net/REST/v1/Imagery/Metadata/') +\r\n      this.imagerySet_ +\r\n      '?uriScheme=https&include=ImageryProviders&key=' +\r\n      this.apiKey_ +\r\n      '&c=' +\r\n      this.culture_;\r\n\r\n    fetch(url)\r\n      .then((response) => response.json())\r\n      .then((json) => this.handleImageryMetadataResponse(json));\r\n  }\r\n\r\n  /**\r\n   * Get the api key used for this source.\r\n   *\r\n   * @return {string} The api key.\r\n   * @api\r\n   */\r\n  getApiKey() {\r\n    return this.apiKey_;\r\n  }\r\n\r\n  /**\r\n   * Get the imagery set associated with this source.\r\n   *\r\n   * @return {string} The imagery set.\r\n   * @api\r\n   */\r\n  getImagerySet() {\r\n    return this.imagerySet_;\r\n  }\r\n\r\n  /**\r\n   * @param {BingMapsImageryMetadataResponse} response Response.\r\n   */\r\n  handleImageryMetadataResponse(response) {\r\n    if (\r\n      response.statusCode != 200 ||\r\n      response.statusDescription != 'OK' ||\r\n      response.authenticationResultCode != 'ValidCredentials' ||\r\n      response.resourceSets.length != 1 ||\r\n      response.resourceSets[0].resources.length != 1\r\n    ) {\r\n      this.setState('error');\r\n      return;\r\n    }\r\n\r\n    const resource = response.resourceSets[0].resources[0];\r\n    const maxZoom = this.maxZoom_ == -1 ? resource.zoomMax : this.maxZoom_;\r\n\r\n    const sourceProjection = this.getProjection();\r\n    const extent = extentFromProjection(sourceProjection);\r\n    const scale = this.hidpi_ ? 2 : 1;\r\n    const tileSize =\r\n      resource.imageWidth == resource.imageHeight\r\n        ? resource.imageWidth / scale\r\n        : [resource.imageWidth / scale, resource.imageHeight / scale];\r\n\r\n    const tileGrid = createXYZ({\r\n      extent: extent,\r\n      minZoom: resource.zoomMin,\r\n      maxZoom: maxZoom,\r\n      tileSize: tileSize,\r\n    });\r\n    this.tileGrid = tileGrid;\r\n\r\n    const culture = this.culture_;\r\n    const hidpi = this.hidpi_;\r\n    const placeholderTiles = this.placeholderTiles_;\r\n    this.tileUrlFunction = createFromTileUrlFunctions(\r\n      resource.imageUrlSubdomains.map(function (subdomain) {\r\n        /** @type {import('../tilecoord.js').TileCoord} */\r\n        const quadKeyTileCoord = [0, 0, 0];\r\n        const imageUrl = resource.imageUrl\r\n          .replace('{subdomain}', subdomain)\r\n          .replace('{culture}', culture);\r\n        return (\r\n          /**\r\n           * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n           * @param {number} pixelRatio Pixel ratio.\r\n           * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n           * @return {string|undefined} Tile URL.\r\n           */\r\n          function (tileCoord, pixelRatio, projection) {\r\n            if (!tileCoord) {\r\n              return undefined;\r\n            }\r\n            createOrUpdate(\r\n              tileCoord[0],\r\n              tileCoord[1],\r\n              tileCoord[2],\r\n              quadKeyTileCoord,\r\n            );\r\n            const url = new URL(\r\n              imageUrl.replace('{quadkey}', quadKey(quadKeyTileCoord)),\r\n            );\r\n            const params = url.searchParams;\r\n            if (hidpi) {\r\n              params.set('dpi', 'd1');\r\n              params.set('device', 'mobile');\r\n            }\r\n            if (placeholderTiles === true) {\r\n              params.delete('n');\r\n            } else if (placeholderTiles === false) {\r\n              params.set('n', 'z');\r\n            }\r\n            return url.toString();\r\n          }\r\n        );\r\n      }),\r\n    );\r\n\r\n    if (resource.imageryProviders) {\r\n      const transform = getTransformFromProjections(\r\n        getProjection('EPSG:4326'),\r\n        this.getProjection(),\r\n      );\r\n\r\n      this.setAttributions((frameState) => {\r\n        const attributions = [];\r\n        const viewState = frameState.viewState;\r\n        const tileGrid = this.getTileGrid();\r\n        const z = tileGrid.getZForResolution(\r\n          viewState.resolution,\r\n          this.zDirection,\r\n        );\r\n        const tileCoord = tileGrid.getTileCoordForCoordAndZ(\r\n          viewState.center,\r\n          z,\r\n        );\r\n        const zoom = tileCoord[0];\r\n        resource.imageryProviders.map(function (imageryProvider) {\r\n          let intersecting = false;\r\n          const coverageAreas = imageryProvider.coverageAreas;\r\n          for (let i = 0, ii = coverageAreas.length; i < ii; ++i) {\r\n            const coverageArea = coverageAreas[i];\r\n            if (zoom >= coverageArea.zoomMin && zoom <= coverageArea.zoomMax) {\r\n              const bbox = coverageArea.bbox;\r\n              const epsg4326Extent = [bbox[1], bbox[0], bbox[3], bbox[2]];\r\n              const extent = applyTransform(epsg4326Extent, transform);\r\n              if (intersects(extent, frameState.extent)) {\r\n                intersecting = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          if (intersecting) {\r\n            attributions.push(imageryProvider.attribution);\r\n          }\r\n        });\r\n\r\n        attributions.push(TOS_ATTRIBUTION);\r\n        return attributions;\r\n      });\r\n    }\r\n\r\n    this.setState('ready');\r\n  }\r\n}\r\n\r\nexport default BingMaps;\r\n", "/**\r\n * @module ol/source/XYZ\r\n */\r\n\r\nimport {createXYZ, extentFromProjection} from '../tilegrid.js';\r\nimport TileImage from './TileImage.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Projection.\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {number} [maxZoom=42] Optional max zoom level. Not used if `tileGrid` is provided.\r\n * @property {number} [minZoom=0] Optional min zoom level. Not used if `tileGrid` is provided.\r\n * @property {number} [maxResolution] Optional tile grid resolution at level zero. Not used if `tileGrid` is provided.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Deprecated.  Use an ImageTile source with a loader\r\n * instead.  Optional function to load a tile given a URL. The default is\r\n * ```js\r\n * function(imageTile, src) {\r\n *   imageTile.getImage().src = src;\r\n * };\r\n * ```\r\n * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service.\r\n * For example, if the tile service advertizes 256px by 256px tiles but actually sends 512px\r\n * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\r\n * should be set to `2`.\r\n * @property {number|import(\"../size.js\").Size} [tileSize=[256, 256]] The tile size used by the tile service.\r\n * Not used if `tileGrid` is provided.\r\n * @property {number} [gutter=0] The size in pixels of the gutter around image tiles to ignore.\r\n * This allows artifacts of rendering at tile edges to be ignored.\r\n * Supported images should be wider and taller than the tile size by a value of `2 x gutter`.\r\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Deprecated.  Use an ImageTile source and provide a function\r\n * for the url option instead.\r\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`,\r\n * and `{z}` placeholders. A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`,\r\n * may be used instead of defining each one separately in the `urls` option.\r\n * @property {Array<string>} [urls] Deprecated.  Use an ImageTile source and provide an array of URLs for the\r\n * url option instead.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for tile data with URLs in a set XYZ format that are\r\n * defined in a URL template. By default, this follows the widely-used\r\n * Google grid where `x` 0 and `y` 0 are in the top left. Grids like\r\n * TMS where `x` 0 and `y` 0 are in the bottom left can be used by\r\n * using the `{-y}` placeholder in the URL template, so long as the\r\n * source does not have a custom tile grid. In this case\r\n * a `tileUrlFunction` can be used, such as:\r\n * ```js\r\n *  tileUrlFunction: function(coordinate) {\r\n *    return 'http://mapserver.com/' + coordinate[0] + '/' +\r\n *      coordinate[1] + '/' + (-coordinate[2] - 1) + '.png';\r\n *  }\r\n * ```\r\n * @api\r\n */\r\nclass XYZ extends TileImage {\r\n  /**\r\n   * @param {Options} [options] XYZ options.\r\n   */\r\n  constructor(options) {\r\n    options = options || {};\r\n\r\n    const projection =\r\n      options.projection !== undefined ? options.projection : 'EPSG:3857';\r\n\r\n    const tileGrid =\r\n      options.tileGrid !== undefined\r\n        ? options.tileGrid\r\n        : createXYZ({\r\n            extent: extentFromProjection(projection),\r\n            maxResolution: options.maxResolution,\r\n            maxZoom: options.maxZoom,\r\n            minZoom: options.minZoom,\r\n            tileSize: options.tileSize,\r\n          });\r\n\r\n    super({\r\n      attributions: options.attributions,\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin: options.crossOrigin,\r\n      referrerPolicy: options.referrerPolicy,\r\n      interpolate: options.interpolate,\r\n      projection: projection,\r\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\r\n      tileGrid: tileGrid,\r\n      tileLoadFunction: options.tileLoadFunction,\r\n      tilePixelRatio: options.tilePixelRatio,\r\n      tileUrlFunction: options.tileUrlFunction,\r\n      url: options.url,\r\n      urls: options.urls,\r\n      wrapX: options.wrapX !== undefined ? options.wrapX : true,\r\n      transition: options.transition,\r\n      attributionsCollapsible: options.attributionsCollapsible,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.gutter_ = options.gutter !== undefined ? options.gutter : 0;\r\n  }\r\n\r\n  /**\r\n   * @return {number} Gutter.\r\n   * @override\r\n   */\r\n  getGutter() {\r\n    return this.gutter_;\r\n  }\r\n}\r\n\r\nexport default XYZ;\r\n", "/**\r\n * @module ol/source/CartoDB\r\n */\r\n\r\nimport XYZ from './XYZ.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Projection.\r\n * @property {number} [maxZoom=18] Max zoom.\r\n * @property {number} [minZoom] Minimum zoom.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * @property {Object} [config] If using anonymous maps, the CartoDB config to use. See\r\n * https://carto.com/developers/maps-api/guides/anonymous-maps/\r\n * for more detail.\r\n * If using named maps, a key-value lookup with the template parameters.\r\n * See https://carto.com/developers/maps-api/guides/named-maps/\r\n * for more detail.\r\n * @property {string} [map] If using named maps, this will be the name of the template to load.\r\n * See https://carto.com/developers/maps-api/guides/named-maps/\r\n * for more detail.\r\n * @property {string} [account] Username as used to access public Carto dashboard at https://{username}.carto.com/.\r\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @typedef {Object} CartoDBLayerInfo\r\n * @property {string} layergroupid The layer group ID\r\n * @property {{https: string}} cdn_url The CDN URL\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for the CartoDB Maps API.\r\n * @api\r\n */\r\nclass CartoDB extends XYZ {\r\n  /**\r\n   * @param {Options} options CartoDB options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      attributions: options.attributions,\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin: options.crossOrigin,\r\n      maxZoom: options.maxZoom !== undefined ? options.maxZoom : 18,\r\n      minZoom: options.minZoom,\r\n      projection: options.projection,\r\n      transition: options.transition,\r\n      wrapX: options.wrapX,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @type {string}\r\n     * @private\r\n     */\r\n    this.account_ = options.account;\r\n\r\n    /**\r\n     * @type {string}\r\n     * @private\r\n     */\r\n    this.mapId_ = options.map || '';\r\n\r\n    /**\r\n     * @type {!Object}\r\n     * @private\r\n     */\r\n    this.config_ = options.config || {};\r\n\r\n    /**\r\n     * @type {!Object<string, CartoDBLayerInfo>}\r\n     * @private\r\n     */\r\n    this.templateCache_ = {};\r\n\r\n    this.initializeMap_();\r\n  }\r\n\r\n  /**\r\n   * Returns the current config.\r\n   * @return {!Object} The current configuration.\r\n   * @api\r\n   */\r\n  getConfig() {\r\n    return this.config_;\r\n  }\r\n\r\n  /**\r\n   * Updates the carto db config.\r\n   * @param {Object} config a key-value lookup. Values will replace current values\r\n   *     in the config.\r\n   * @api\r\n   */\r\n  updateConfig(config) {\r\n    Object.assign(this.config_, config);\r\n    this.initializeMap_();\r\n  }\r\n\r\n  /**\r\n   * Sets the CartoDB config\r\n   * @param {Object} config In the case of anonymous maps, a CartoDB configuration\r\n   *     object.\r\n   * If using named maps, a key-value lookup with the template parameters.\r\n   * @api\r\n   */\r\n  setConfig(config) {\r\n    this.config_ = config || {};\r\n    this.initializeMap_();\r\n  }\r\n\r\n  /**\r\n   * Issue a request to initialize the CartoDB map.\r\n   * @private\r\n   */\r\n  initializeMap_() {\r\n    const paramHash = JSON.stringify(this.config_);\r\n    if (this.templateCache_[paramHash]) {\r\n      this.applyTemplate_(this.templateCache_[paramHash]);\r\n      return;\r\n    }\r\n    let mapUrl = 'https://' + this.account_ + '.carto.com/api/v1/map';\r\n\r\n    if (this.mapId_) {\r\n      mapUrl += '/named/' + this.mapId_;\r\n    }\r\n\r\n    const client = new XMLHttpRequest();\r\n    client.addEventListener(\r\n      'load',\r\n      this.handleInitResponse_.bind(this, paramHash),\r\n    );\r\n    client.addEventListener('error', this.handleInitError_.bind(this));\r\n    client.open('POST', mapUrl);\r\n    client.setRequestHeader('Content-type', 'application/json');\r\n    client.send(JSON.stringify(this.config_));\r\n  }\r\n\r\n  /**\r\n   * Handle map initialization response.\r\n   * @param {string} paramHash a hash representing the parameter set that was used\r\n   *     for the request\r\n   * @param {Event} event Event.\r\n   * @private\r\n   */\r\n  handleInitResponse_(paramHash, event) {\r\n    const client = /** @type {XMLHttpRequest} */ (event.target);\r\n    // status will be 0 for file:// urls\r\n    if (!client.status || (client.status >= 200 && client.status < 300)) {\r\n      let response;\r\n      try {\r\n        response = /** @type {CartoDBLayerInfo} */ (\r\n          JSON.parse(client.responseText)\r\n        );\r\n      } catch {\r\n        this.setState('error');\r\n        return;\r\n      }\r\n      this.applyTemplate_(response);\r\n      this.templateCache_[paramHash] = response;\r\n      this.setState('ready');\r\n    } else {\r\n      this.setState('error');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Event} event Event.\r\n   */\r\n  handleInitError_(event) {\r\n    this.setState('error');\r\n  }\r\n\r\n  /**\r\n   * Apply the new tile urls returned by carto db\r\n   * @param {CartoDBLayerInfo} data Result of carto db call.\r\n   * @private\r\n   */\r\n  applyTemplate_(data) {\r\n    const tilesUrl =\r\n      'https://' +\r\n      data.cdn_url.https +\r\n      '/' +\r\n      this.account_ +\r\n      '/api/v1/map/' +\r\n      data.layergroupid +\r\n      '/{z}/{x}/{y}.png';\r\n    this.setUrl(tilesUrl);\r\n  }\r\n}\r\n\r\nexport default CartoDB;\r\n", "/**\r\n * @module ol/source/Cluster\r\n */\r\n\r\nimport Feature from '../Feature.js';\r\nimport {assert} from '../asserts.js';\r\nimport {add as addCoordinate, scale as scaleCoordinate} from '../coordinate.js';\r\nimport EventType from '../events/EventType.js';\r\nimport {\r\n  buffer,\r\n  createEmpty,\r\n  createOrUpdateFromCoordinate,\r\n  getCenter,\r\n} from '../extent.js';\r\nimport Point from '../geom/Point.js';\r\nimport {getUid} from '../util.js';\r\nimport VectorSource from './Vector.js';\r\n\r\n/**\r\n * @template {import(\"../Feature.js\").FeatureLike} [FeatureType=import(\"../Feature.js\").FeatureLike]\r\n * @typedef {(feature: FeatureType) => (Point|null)} GeometryFunction\r\n */\r\n\r\n/**\r\n * @template {import(\"../Feature.js\").FeatureLike} [FeatureType=import(\"../Feature.js\").default]\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {number} [distance=20] Distance in pixels within which features will\r\n * be clustered together.\r\n * @property {number} [minDistance=0] Minimum distance in pixels between clusters.\r\n * Will be capped at the configured distance.\r\n * By default no minimum distance is guaranteed. This config can be used to avoid\r\n * overlapping icons. As a tradoff, the cluster feature's position will no longer be\r\n * the center of all its features.\r\n * @property {GeometryFunction<FeatureType>} [geometryFunction]\r\n * Function that takes a {@link module:ol/Feature~Feature} as argument and returns a\r\n * {@link module:ol/geom/Point~Point} as cluster calculation point for the feature. When a\r\n * feature should not be considered for clustering, the function should return\r\n * `null`. The default, which works when the underlying source contains point\r\n * features only, is\r\n * ```js\r\n * function(feature) {\r\n *   return feature.getGeometry();\r\n * }\r\n * ```\r\n * See {@link module:ol/geom/Polygon~Polygon#getInteriorPoint} for a way to get a cluster\r\n * calculation point for polygons.\r\n * @property {function(Point, Array<FeatureType>):Feature} [createCluster]\r\n * Function that takes the cluster's center {@link module:ol/geom/Point~Point} and an array\r\n * of {@link module:ol/Feature~Feature} included in this cluster. Must return a\r\n * {@link module:ol/Feature~Feature} that will be used to render. Default implementation is:\r\n * ```js\r\n * function(point, features) {\r\n *   return new Feature({\r\n *     geometry: point,\r\n *     features: features\r\n *   });\r\n * }\r\n * ```\r\n * @property {VectorSource<FeatureType>} [source=null] Source.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source to cluster vector data. Works out of the box with point\r\n * geometries. For other geometry types, or if not all geometries should be\r\n * considered for clustering, a custom `geometryFunction` can be defined.\r\n *\r\n * If the instance is disposed without also disposing the underlying\r\n * source `setSource(null)` has to be called to remove the listener reference\r\n * from the wrapped source.\r\n * @api\r\n * @template {import('../Feature.js').FeatureLike} [FeatureType=import('../Feature.js').default]\r\n * @extends {VectorSource<Feature<import(\"../geom/Geometry.js\").default>>}\r\n */\r\nclass Cluster extends VectorSource {\r\n  /**\r\n   * @param {Options<FeatureType>} [options] Cluster options.\r\n   */\r\n  constructor(options) {\r\n    options = options || {};\r\n    super({\r\n      attributions: options.attributions,\r\n      wrapX: options.wrapX,\r\n    });\r\n\r\n    /**\r\n     * @type {number|undefined}\r\n     * @protected\r\n     */\r\n    this.resolution = undefined;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @protected\r\n     */\r\n    this.distance = options.distance !== undefined ? options.distance : 20;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @protected\r\n     */\r\n    this.minDistance = options.minDistance || 0;\r\n\r\n    /**\r\n     * @type {number}\r\n     * @protected\r\n     */\r\n    this.interpolationRatio = 0;\r\n\r\n    /**\r\n     * @type {Array<Feature>}\r\n     * @protected\r\n     */\r\n    this.features = [];\r\n\r\n    /**\r\n     * @type {GeometryFunction<import(\"../Feature.js\").FeatureLike>}\r\n     * @protected\r\n     */\r\n    this.geometryFunction =\r\n      options.geometryFunction ||\r\n      function (feature) {\r\n        const geometry = /** @type {Point} */ (feature.getGeometry());\r\n        assert(\r\n          !geometry || geometry.getType() === 'Point',\r\n          'The default `geometryFunction` can only handle `Point` or null geometries',\r\n        );\r\n        return geometry;\r\n      };\r\n\r\n    /**\r\n     * @type {function(Point, Array<FeatureType>):Feature}\r\n     * @private\r\n     */\r\n    this.createCustomCluster_ = options.createCluster;\r\n\r\n    /**\r\n     * @type {VectorSource<FeatureType>|null}\r\n     * @protected\r\n     */\r\n    this.source = null;\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    this.boundRefresh_ = this.refresh.bind(this);\r\n\r\n    this.updateDistance(this.distance, this.minDistance);\r\n    this.setSource(options.source || null);\r\n  }\r\n\r\n  /**\r\n   * Remove all features from the source.\r\n   * @param {boolean} [fast] Skip dispatching of {@link module:ol/source/VectorEventType~VectorEventType#removefeature} events.\r\n   * @api\r\n   * @override\r\n   */\r\n  clear(fast) {\r\n    this.features.length = 0;\r\n    super.clear(fast);\r\n  }\r\n\r\n  /**\r\n   * Get the distance in pixels between clusters.\r\n   * @return {number} Distance.\r\n   * @api\r\n   */\r\n  getDistance() {\r\n    return this.distance;\r\n  }\r\n\r\n  /**\r\n   * Get a reference to the wrapped source.\r\n   * @return {VectorSource<FeatureType>|null} Source.\r\n   * @api\r\n   */\r\n  getSource() {\r\n    return this.source;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../extent.js\").Extent} extent Extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @override\r\n   */\r\n  loadFeatures(extent, resolution, projection) {\r\n    this.source?.loadFeatures(extent, resolution, projection);\r\n    if (resolution !== this.resolution) {\r\n      this.resolution = resolution;\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the distance within which features will be clusterd together.\r\n   * @param {number} distance The distance in pixels.\r\n   * @api\r\n   */\r\n  setDistance(distance) {\r\n    this.updateDistance(distance, this.minDistance);\r\n  }\r\n\r\n  /**\r\n   * Set the minimum distance between clusters. Will be capped at the\r\n   * configured distance.\r\n   * @param {number} minDistance The minimum distance in pixels.\r\n   * @api\r\n   */\r\n  setMinDistance(minDistance) {\r\n    this.updateDistance(this.distance, minDistance);\r\n  }\r\n\r\n  /**\r\n   * The configured minimum distance between clusters.\r\n   * @return {number} The minimum distance in pixels.\r\n   * @api\r\n   */\r\n  getMinDistance() {\r\n    return this.minDistance;\r\n  }\r\n\r\n  /**\r\n   * Replace the wrapped source.\r\n   * @param {VectorSource<FeatureType>|null} source The new source for this instance.\r\n   * @api\r\n   */\r\n  setSource(source) {\r\n    if (this.source) {\r\n      this.source.removeEventListener(EventType.CHANGE, this.boundRefresh_);\r\n    }\r\n    this.source = source;\r\n    if (source) {\r\n      source.addEventListener(EventType.CHANGE, this.boundRefresh_);\r\n    }\r\n    this.refresh();\r\n  }\r\n\r\n  /**\r\n   * Handle the source changing.\r\n   * @override\r\n   */\r\n  refresh() {\r\n    this.clear();\r\n    this.cluster();\r\n    this.addFeatures(this.features);\r\n  }\r\n\r\n  /**\r\n   * Update the distances and refresh the source if necessary.\r\n   * @param {number} distance The new distance.\r\n   * @param {number} minDistance The new minimum distance.\r\n   */\r\n  updateDistance(distance, minDistance) {\r\n    const ratio =\r\n      distance === 0 ? 0 : Math.min(minDistance, distance) / distance;\r\n    const changed =\r\n      distance !== this.distance || this.interpolationRatio !== ratio;\r\n    this.distance = distance;\r\n    this.minDistance = minDistance;\r\n    this.interpolationRatio = ratio;\r\n    if (changed) {\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   */\r\n  cluster() {\r\n    if (this.resolution === undefined || !this.source) {\r\n      return;\r\n    }\r\n    const extent = createEmpty();\r\n    const mapDistance = this.distance * this.resolution;\r\n    const features = this.source.getFeatures();\r\n\r\n    /** @type {Object<string, true>} */\r\n    const clustered = {};\r\n\r\n    for (let i = 0, ii = features.length; i < ii; i++) {\r\n      const feature = features[i];\r\n      if (!(getUid(feature) in clustered)) {\r\n        const geometry = this.geometryFunction(feature);\r\n        if (geometry) {\r\n          const coordinates = geometry.getCoordinates();\r\n          createOrUpdateFromCoordinate(coordinates, extent);\r\n          buffer(extent, mapDistance, extent);\r\n\r\n          const neighbors = this.source\r\n            .getFeaturesInExtent(extent)\r\n            .filter(function (neighbor) {\r\n              const uid = getUid(neighbor);\r\n              if (uid in clustered) {\r\n                return false;\r\n              }\r\n              clustered[uid] = true;\r\n              return true;\r\n            });\r\n          this.features.push(this.createCluster(neighbors, extent));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {Array<FeatureType>} features Features\r\n   * @param {import(\"../extent.js\").Extent} extent The searched extent for these features.\r\n   * @return {Feature} The cluster feature.\r\n   * @protected\r\n   */\r\n  createCluster(features, extent) {\r\n    const centroid = [0, 0];\r\n    for (let i = features.length - 1; i >= 0; --i) {\r\n      const geometry = this.geometryFunction(features[i]);\r\n      if (geometry) {\r\n        addCoordinate(centroid, geometry.getCoordinates());\r\n      } else {\r\n        features.splice(i, 1);\r\n      }\r\n    }\r\n    scaleCoordinate(centroid, 1 / features.length);\r\n    const searchCenter = getCenter(extent);\r\n    const ratio = this.interpolationRatio;\r\n    const geometry = new Point([\r\n      centroid[0] * (1 - ratio) + searchCenter[0] * ratio,\r\n      centroid[1] * (1 - ratio) + searchCenter[1] * ratio,\r\n    ]);\r\n    if (this.createCustomCluster_) {\r\n      return this.createCustomCluster_(geometry, features);\r\n    }\r\n    return new Feature({\r\n      geometry,\r\n      features,\r\n    });\r\n  }\r\n}\r\n\r\nexport default Cluster;\r\n", "/**\r\n * @module ol/vec/mat4\r\n */\r\n\r\n/** @typedef {Array<number>} Mat4 */\r\n\r\n/**\r\n * @return {Mat4} \"4x4 matrix representing a 3D identity transform.\"\r\n */\r\nexport function create() {\r\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n}\r\n\r\n/**\r\n * @param {Mat4} mat4 Flattened 4x4 matrix receiving the result.\r\n * @param {import(\"../transform.js\").Transform} transform Transformation matrix.\r\n * @return {Mat4} \"2D transformation matrix as flattened 4x4 matrix.\"\r\n */\r\nexport function fromTransform(mat4, transform) {\r\n  mat4[0] = transform[0];\r\n  mat4[1] = transform[1];\r\n  mat4[4] = transform[2];\r\n  mat4[5] = transform[3];\r\n  mat4[12] = transform[4];\r\n  mat4[13] = transform[5];\r\n  return mat4;\r\n}\r\n\r\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @param {Mat4} [out] mat4 frustum matrix will be written into\r\n * @return {Mat4} out\r\n */\r\nexport function orthographic(left, right, bottom, top, near, far, out) {\r\n  out = out ?? create();\r\n  const lr = 1 / (left - right),\r\n    bt = 1 / (bottom - top),\r\n    nf = 1 / (near - far);\r\n  out[0] = -2 * lr;\r\n  out[1] = 0;\r\n  out[2] = 0;\r\n  out[3] = 0;\r\n  out[4] = 0;\r\n  out[5] = -2 * bt;\r\n  out[6] = 0;\r\n  out[7] = 0;\r\n  out[8] = 0;\r\n  out[9] = 0;\r\n  out[10] = 2 * nf;\r\n  out[11] = 0;\r\n  out[12] = (left + right) * lr;\r\n  out[13] = (top + bottom) * bt;\r\n  out[14] = (far + near) * nf;\r\n  out[15] = 1;\r\n  return out;\r\n}\r\n\r\n/**\r\n * Scales the mat4 by the dimensions in the given vec3\r\n *\r\n * @param {Mat4} m The matrix to scale.\r\n * @param {number} x How much to scale in the x direction.\r\n * @param {number} y How much to scale in the y direction.\r\n * @param {number} z How much to scale in the z direction.\r\n * @param {Mat4} [out] The matrix to write to.\r\n * @return {Mat4} out\r\n */\r\nexport function scale(m, x, y, z, out) {\r\n  out = out ?? create();\r\n  out[0] = m[0] * x;\r\n  out[1] = m[1] * x;\r\n  out[2] = m[2] * x;\r\n  out[3] = m[3] * x;\r\n  out[4] = m[4] * y;\r\n  out[5] = m[5] * y;\r\n  out[6] = m[6] * y;\r\n  out[7] = m[7] * y;\r\n  out[8] = m[8] * z;\r\n  out[9] = m[9] * z;\r\n  out[10] = m[10] * z;\r\n  out[11] = m[11] * z;\r\n  out[12] = m[12];\r\n  out[13] = m[13];\r\n  out[14] = m[14];\r\n  out[15] = m[15];\r\n  return out;\r\n}\r\n\r\n/**\r\n * Translate a matrix.\r\n *\r\n * @param {Mat4} m the matrix to translate\r\n * @param {number} x How much to translate in the x direction.\r\n * @param {number} y How much to translate in the y direction.\r\n * @param {number} z How much to translate in the z direction.\r\n * @param {Mat4} [out] the receiving matrix\r\n * @return {Mat4} out\r\n */\r\nexport function translate(m, x, y, z, out) {\r\n  out = out ?? create();\r\n  let a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23;\r\n\r\n  if (m === out) {\r\n    out[12] = m[0] * x + m[4] * y + m[8] * z + m[12];\r\n    out[13] = m[1] * x + m[5] * y + m[9] * z + m[13];\r\n    out[14] = m[2] * x + m[6] * y + m[10] * z + m[14];\r\n    out[15] = m[3] * x + m[7] * y + m[11] * z + m[15];\r\n  } else {\r\n    a00 = m[0];\r\n    a01 = m[1];\r\n    a02 = m[2];\r\n    a03 = m[3];\r\n    a10 = m[4];\r\n    a11 = m[5];\r\n    a12 = m[6];\r\n    a13 = m[7];\r\n    a20 = m[8];\r\n    a21 = m[9];\r\n    a22 = m[10];\r\n    a23 = m[11];\r\n\r\n    out[0] = a00;\r\n    out[1] = a01;\r\n    out[2] = a02;\r\n    out[3] = a03;\r\n    out[4] = a10;\r\n    out[5] = a11;\r\n    out[6] = a12;\r\n    out[7] = a13;\r\n    out[8] = a20;\r\n    out[9] = a21;\r\n    out[10] = a22;\r\n    out[11] = a23;\r\n\r\n    out[12] = a00 * x + a10 * y + a20 * z + m[12];\r\n    out[13] = a01 * x + a11 * y + a21 * z + m[13];\r\n    out[14] = a02 * x + a12 * y + a22 * z + m[14];\r\n    out[15] = a03 * x + a13 * y + a23 * z + m[15];\r\n  }\r\n\r\n  return out;\r\n}\r\n\r\n/**\r\n * @param {number} x x translation.\r\n * @param {number} y y translation.\r\n * @param {number} z z translation.\r\n * @param {Mat4} [out] optional matrix to store result\r\n * @return {Mat4} out\r\n */\r\nexport function translation(x, y, z, out) {\r\n  out = out ?? create();\r\n\r\n  out[0] = 1;\r\n  out[1] = 0;\r\n  out[2] = 0;\r\n  out[3] = 0;\r\n  out[4] = 0;\r\n  out[5] = 1;\r\n  out[6] = 0;\r\n  out[7] = 0;\r\n  out[8] = 0;\r\n  out[9] = 0;\r\n  out[10] = 1;\r\n  out[11] = 0;\r\n  out[12] = x;\r\n  out[13] = y;\r\n  out[14] = z;\r\n  out[15] = 1;\r\n\r\n  return out;\r\n}\r\n", "import * as mat4 from '../vec/mat4.js';\r\n\r\n/**\r\n * @module ol/webgl/Canvas\r\n */\r\n\r\nconst VERTEX_SHADER = `\r\n  attribute vec4 a_position;\r\n  attribute vec4 a_texcoord;\r\n\r\n  uniform mat4 u_matrix;\r\n  uniform mat4 u_textureMatrix;\r\n\r\n  varying vec2 v_texcoord;\r\n\r\n  void main() {\r\n    gl_Position = u_matrix * a_position;\r\n    vec2 texcoord = (u_textureMatrix * a_texcoord).xy;\r\n    v_texcoord = texcoord;\r\n  }\r\n`;\r\n\r\nconst FRAGMENT_SHADER = `\r\n  precision mediump float;\r\n\r\n  varying vec2 v_texcoord;\r\n\r\n  uniform sampler2D u_texture;\r\n\r\n  void main() {\r\n    if (\r\n      v_texcoord.x < 0.0 ||\r\n      v_texcoord.y < 0.0 ||\r\n      v_texcoord.x > 1.0 ||\r\n      v_texcoord.y > 1.0\r\n    ) {\r\n      discard;\r\n    }\r\n    gl_FragColor = texture2D(u_texture, v_texcoord);\r\n  }\r\n`;\r\n\r\n/** @typedef {import(\"../transform.js\").Transform} Matrix */\r\n\r\n/**\r\n * Canvas-like operations implemented in webgl.\r\n */\r\nexport class Canvas {\r\n  /**\r\n   * @param {WebGLRenderingContext} gl Context to render in.\r\n   */\r\n  constructor(gl) {\r\n    /**\r\n     * @private\r\n     * @type {WebGLRenderingContext}\r\n     */\r\n    this.gl_ = gl;\r\n\r\n    /**\r\n     * @private\r\n     * @type {WebGLProgram}\r\n     */\r\n    this.program_ = createProgram(gl, FRAGMENT_SHADER, VERTEX_SHADER);\r\n\r\n    this.positionLocation = gl.getAttribLocation(this.program_, 'a_position');\r\n    this.texcoordLocation = gl.getAttribLocation(this.program_, 'a_texcoord');\r\n\r\n    this.matrixLocation = gl.getUniformLocation(this.program_, 'u_matrix');\r\n    this.textureMatrixLocation = gl.getUniformLocation(\r\n      this.program_,\r\n      'u_textureMatrix',\r\n    );\r\n    this.textureLocation = gl.getUniformLocation(this.program_, 'u_texture');\r\n\r\n    this.positionBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.positionBuffer);\r\n\r\n    this.positions = [0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1];\r\n    gl.bufferData(\r\n      gl.ARRAY_BUFFER,\r\n      new Float32Array(this.positions),\r\n      gl.STATIC_DRAW,\r\n    );\r\n\r\n    this.texcoordBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.texcoordBuffer);\r\n\r\n    this.texcoords = [0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1];\r\n    gl.bufferData(\r\n      gl.ARRAY_BUFFER,\r\n      new Float32Array(this.texcoords),\r\n      gl.STATIC_DRAW,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 2dContext drawImage call implemented in webgl.\r\n   * Unlike images, textures do not have a width and height associated\r\n   * with them so we'll pass in the width and height of the texture.\r\n   *\r\n   * @param {WebGLTexture} tex Image to draw.\r\n   * @param {number} texWidth Image width.\r\n   * @param {number} texHeight Image height.\r\n   * @param {number} srcX Top-left x-point to read src image.\r\n   * @param {number} srcY Top-left y-point to read src image.\r\n   * @param {number} [srcWidth] Width of source to read.\r\n   * @param {number} [srcHeight] Height of source to read.\r\n   * @param {number} [dstX] Top-left x-point of destination.\r\n   * @param {number} [dstY] Top-left y-point of destination.\r\n   * @param {number} [dstWidth] Width of written image in destination.\r\n   * @param {number} [dstHeight] Height of written image in destination.\r\n   * @param {number} [width] Width of canvas.\r\n   * @param {number} [height] Height of canvas.\r\n   */\r\n  drawImage(\r\n    tex,\r\n    texWidth,\r\n    texHeight,\r\n    srcX,\r\n    srcY,\r\n    srcWidth,\r\n    srcHeight,\r\n    dstX,\r\n    dstY,\r\n    dstWidth,\r\n    dstHeight,\r\n    width,\r\n    height,\r\n  ) {\r\n    const gl = this.gl_;\r\n\r\n    if (dstX === undefined) {\r\n      dstX = srcX;\r\n    }\r\n    if (dstY === undefined) {\r\n      dstY = srcY;\r\n    }\r\n    if (srcWidth === undefined) {\r\n      srcWidth = texWidth;\r\n    }\r\n    if (srcHeight === undefined) {\r\n      srcHeight = texHeight;\r\n    }\r\n    if (dstWidth === undefined) {\r\n      dstWidth = srcWidth;\r\n    }\r\n    if (dstHeight === undefined) {\r\n      dstHeight = srcHeight;\r\n    }\r\n    if (width === undefined) {\r\n      width = gl.canvas.width;\r\n    }\r\n    if (height === undefined) {\r\n      height = gl.canvas.height;\r\n    }\r\n\r\n    gl.bindTexture(gl.TEXTURE_2D, tex);\r\n\r\n    gl.useProgram(this.program_);\r\n\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.positionBuffer);\r\n    gl.enableVertexAttribArray(this.positionLocation);\r\n    gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, 0, 0);\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.texcoordBuffer);\r\n    gl.enableVertexAttribArray(this.texcoordLocation);\r\n    gl.vertexAttribPointer(this.texcoordLocation, 2, gl.FLOAT, false, 0, 0);\r\n\r\n    // matrix for converting pixels to clip space\r\n    let matrix = mat4.orthographic(0, width, 0, height, -1, 1);\r\n    matrix = mat4.translate(matrix, dstX, dstY, 0);\r\n    matrix = mat4.scale(matrix, dstWidth, dstHeight, 1);\r\n    gl.uniformMatrix4fv(this.matrixLocation, false, matrix);\r\n\r\n    let texMatrix = mat4.translation(srcX / texWidth, srcY / texHeight, 0);\r\n    texMatrix = mat4.scale(\r\n      texMatrix,\r\n      srcWidth / texWidth,\r\n      srcHeight / texHeight,\r\n      1,\r\n    );\r\n\r\n    gl.uniformMatrix4fv(this.textureMatrixLocation, false, texMatrix);\r\n    gl.uniform1i(this.textureLocation, 0);\r\n    gl.drawArrays(gl.TRIANGLES, 0, this.positions.length / 2);\r\n  }\r\n}\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl Rendering Context.\r\n * @param {GLenum} type Type of shader.\r\n * @param {string} source source of shader.\r\n * @return {WebGLShader} [progam] The program.\r\n */\r\nfunction createShader(gl, type, source) {\r\n  const shader = gl.createShader(type);\r\n\r\n  if (shader === null) {\r\n    throw new Error('Shader compilation failed');\r\n  }\r\n\r\n  gl.shaderSource(shader, source);\r\n\r\n  gl.compileShader(shader);\r\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n    const log = gl.getShaderInfoLog(shader);\r\n    if (log === null) {\r\n      throw new Error('Shader info log creation failed');\r\n    }\r\n    throw new Error(log);\r\n  }\r\n\r\n  return shader;\r\n}\r\n\r\n/**\r\n * @param {WebGLRenderingContext} gl Rendering Context.\r\n * @param {string} fragmentSource Fragment shader source.\r\n * @param {string} vertexSource Vertex shader source.\r\n * @return {WebGLProgram} [progam] The program.\r\n */\r\nexport function createProgram(gl, fragmentSource, vertexSource) {\r\n  const program = gl.createProgram();\r\n\r\n  const vertexShader = createShader(gl, gl.VERTEX_SHADER, vertexSource);\r\n  const fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, fragmentSource);\r\n  if (program === null) {\r\n    throw new Error('Program creation failed');\r\n  }\r\n\r\n  gl.attachShader(program, vertexShader);\r\n  gl.attachShader(program, fragmentShader);\r\n\r\n  gl.linkProgram(program);\r\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n    const log = gl.getProgramInfoLog(program);\r\n    if (log === null) {\r\n      throw new Error('Program info log creation failed');\r\n    }\r\n    throw new Error();\r\n  }\r\n  return program;\r\n}\r\n", "/**\r\n * @module ol/reproj/glreproj\r\n */\r\nimport {\r\n  createEmpty,\r\n  extend,\r\n  getHeight,\r\n  getTopLeft,\r\n  getWidth,\r\n} from '../extent.js';\r\nimport {WORKER_OFFSCREEN_CANVAS} from '../has.js';\r\nimport * as mat4 from '../vec/mat4.js';\r\nimport {Canvas as WebGLCanvas, createProgram} from '../webgl/Canvas.js';\r\n\r\nconst EDGE_VERTEX_SHADER = `\r\n  attribute vec4 a_position;\r\n\r\n  uniform mat4 u_matrix;\r\n\r\n  void main() {\r\n     gl_Position = u_matrix * a_position;\r\n  }\r\n`;\r\nconst EDGE_FRAGMENT_SHADER = `\r\n  precision mediump float;\r\n\r\n  uniform vec4 u_val;\r\n  void main() {\r\n     gl_FragColor = u_val;\r\n  }\r\n`;\r\n\r\nconst TRIANGLE_VERTEX_SHADER = `\r\n  attribute vec4 a_position;\r\n  attribute vec2 a_texcoord;\r\n\r\n  varying vec2 v_texcoord;\r\n\r\n  uniform mat4 u_matrix;\r\n\r\n  void main() {\r\n     gl_Position = u_matrix * a_position;\r\n     v_texcoord = a_texcoord;\r\n  }\r\n`;\r\nconst TRIANGLE_FRAGMENT_SHADER = `\r\n  precision mediump float;\r\n\r\n  varying vec2 v_texcoord;\r\n\r\n  uniform sampler2D u_texture;\r\n\r\n  void main() {\r\n    if (v_texcoord.x < 0.0 || v_texcoord.x > 1.0 || v_texcoord.y < 0.0 || v_texcoord.y > 1.0) {\r\n      discard;\r\n    }\r\n    gl_FragColor = texture2D(u_texture, v_texcoord);\r\n  }\r\n`;\r\n\r\n/**\r\n * Create an html canvas element and returns its webgl context.\r\n * @param {number} [width] Canvas width.\r\n * @param {number} [height] Canvas height.\r\n * @param {Array<HTMLCanvasElement | OffscreenCanvas>} [canvasPool] Canvas pool to take existing canvas from.\r\n * @param {WebGLContextAttributes} [settings] CanvasRenderingContext2DSettings\r\n * @return {WebGLRenderingContext} The context.\r\n */\r\nexport function createCanvasContextWebGL(width, height, canvasPool, settings) {\r\n  /** @type {HTMLCanvasElement|OffscreenCanvas} */\r\n  let canvas;\r\n  if (canvasPool && canvasPool.length) {\r\n    canvas = /** @type {HTMLCanvasElement} */ (canvasPool.shift());\r\n  } else if (WORKER_OFFSCREEN_CANVAS) {\r\n    canvas = new OffscreenCanvas(width || 300, height || 300);\r\n  } else {\r\n    canvas = document.createElement('canvas');\r\n  }\r\n  if (width) {\r\n    canvas.width = width;\r\n  }\r\n  if (height) {\r\n    canvas.height = height;\r\n  }\r\n  //FIXME Allow OffscreenCanvasRenderingContext2D as return type\r\n  return /** @type {WebGLRenderingContext} */ (\r\n    canvas.getContext('webgl', settings)\r\n  );\r\n}\r\n\r\n/**\r\n * Releases canvas memory to avoid exceeding memory limits in Safari.\r\n * See https://pqina.nl/blog/total-canvas-memory-use-exceeds-the-maximum-limit/\r\n * @param {WebGLRenderingContext} gl Context.\r\n */\r\nexport function releaseGLCanvas(gl) {\r\n  const canvas = gl.canvas;\r\n  canvas.width = 1;\r\n  canvas.height = 1;\r\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n}\r\n\r\n/**\r\n * @type {Array<HTMLCanvasElement | OffscreenCanvas>}\r\n */\r\nexport const canvasGLPool = [];\r\n\r\n/**\r\n * @typedef {Object} ImageExtent\r\n * @property {import(\"../extent.js\").Extent} extent Extent.\r\n * @property {import(\"../extent.js\").Extent} [clipExtent] Clip extent.\r\n * @property {WebGLTexture} texture Texture.\r\n * @property {number} width Width of texture.\r\n * @property {number} height Height of texture.\r\n */\r\n\r\n/**\r\n * Renders the source data into new canvas based on the triangulation.\r\n *\r\n * @param {WebGLRenderingContext} gl the context to render in.\r\n * @param {number} width_ Width of the canvas.\r\n * @param {number} height_ Height of the canvas.\r\n * @param {number} pixelRatio Pixel ratio.\r\n * @param {number} sourceResolution Source resolution.\r\n * @param {number} targetResolution Target resolution.\r\n * @param {import(\"../extent.js\").Extent} targetExtent Target extent (tile).\r\n * @param {import(\"../reproj/Triangulation.js\").default} triangulation Calculated triangulation.\r\n * @param {Array<ImageExtent>} sources Array of sources.\r\n * @param {number} gutter Gutter of the sources.\r\n * @param {number} dataType What kind of data is the textures, must be gl.FLOAT or gl.UNSIGNED_BYTE\r\n * TODO: Allow setting renderEdges value in the data as this is done in \"data-space\".\r\n * @param {boolean | Array<number>} [renderEdges] Render reprojection edges.\r\n * @param {boolean} [interpolate] Use linear interpolation when resampling.\r\n * @param {boolean} [drawSingle] Draw single source images directly without stitchTexture.\r\n * @return {{framebuffer: WebGLFramebuffer, width: number, height: number, texture: WebGLTexture}} Canvas with reprojected data.\r\n */\r\nexport function render(\r\n  gl,\r\n  width_,\r\n  height_,\r\n  pixelRatio,\r\n  sourceResolution,\r\n  targetResolution,\r\n  targetExtent,\r\n  triangulation,\r\n  sources,\r\n  gutter,\r\n  dataType,\r\n  renderEdges,\r\n  interpolate,\r\n  drawSingle,\r\n) {\r\n  const width = Math.round(pixelRatio * width_);\r\n  const height = Math.round(pixelRatio * height_);\r\n  gl.canvas.width = width;\r\n  gl.canvas.height = height;\r\n\r\n  /** @type {WebGLFramebuffer | null} */\r\n  let resultFrameBuffer;\r\n  /** @type {WebGLTexture | null} */\r\n  let resultTexture;\r\n  {\r\n    resultTexture = gl.createTexture();\r\n    gl.bindTexture(gl.TEXTURE_2D, resultTexture);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n    if (interpolate) {\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n    } else {\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n    }\r\n    gl.texImage2D(\r\n      gl.TEXTURE_2D,\r\n      0,\r\n      gl.RGBA,\r\n      width,\r\n      height,\r\n      0,\r\n      gl.RGBA,\r\n      dataType,\r\n      null,\r\n    );\r\n\r\n    resultFrameBuffer = gl.createFramebuffer();\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, resultFrameBuffer);\r\n    gl.framebufferTexture2D(\r\n      gl.FRAMEBUFFER,\r\n      gl.COLOR_ATTACHMENT0,\r\n      gl.TEXTURE_2D,\r\n      resultTexture,\r\n      0,\r\n    );\r\n  }\r\n\r\n  if (resultFrameBuffer === null) {\r\n    throw new Error('Could not create framebuffer');\r\n  }\r\n  if (resultTexture === null) {\r\n    throw new Error('Could not create texture');\r\n  }\r\n\r\n  if (sources.length === 0) {\r\n    return {\r\n      width,\r\n      height,\r\n      framebuffer: resultFrameBuffer,\r\n      texture: resultTexture,\r\n    };\r\n  }\r\n\r\n  const sourceDataExtent = createEmpty();\r\n  sources.forEach(function (src, i, arr) {\r\n    extend(sourceDataExtent, src.extent);\r\n  });\r\n\r\n  /** @type {WebGLTexture | null} */\r\n  let stitchTexture;\r\n  /** @type {number} */\r\n  let stitchWidth;\r\n  /** @type {number} */\r\n  let stitchHeight;\r\n  const stitchScale = 1 / sourceResolution;\r\n\r\n  if (!drawSingle || sources.length !== 1 || gutter !== 0) {\r\n    stitchTexture = gl.createTexture();\r\n    if (resultTexture === null) {\r\n      throw new Error('Could not create texture');\r\n    }\r\n    stitchWidth = Math.round(getWidth(sourceDataExtent) * stitchScale);\r\n    stitchHeight = Math.round(getHeight(sourceDataExtent) * stitchScale);\r\n\r\n    // Make sure we do not exceed the max texture size by lowering the resolution for this image.\r\n    // https://github.com/openlayers/openlayers/pull/15860#issuecomment-2254123580\r\n    const maxTexSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\r\n    const largeSide = Math.max(stitchWidth, stitchHeight);\r\n    const scaleFactor = largeSide > maxTexSize ? maxTexSize / largeSide : 1;\r\n    const stitchWidthFixed = Math.round(stitchWidth * scaleFactor);\r\n    const stitchHeightFixed = Math.round(stitchHeight * scaleFactor);\r\n\r\n    gl.bindTexture(gl.TEXTURE_2D, stitchTexture);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n    if (interpolate) {\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n    } else {\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n    }\r\n    gl.texImage2D(\r\n      gl.TEXTURE_2D,\r\n      0,\r\n      gl.RGBA,\r\n      stitchWidthFixed,\r\n      stitchHeightFixed,\r\n      0,\r\n      gl.RGBA,\r\n      dataType,\r\n      null,\r\n    );\r\n\r\n    const fb = gl.createFramebuffer();\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\r\n    gl.framebufferTexture2D(\r\n      gl.FRAMEBUFFER,\r\n      gl.COLOR_ATTACHMENT0,\r\n      gl.TEXTURE_2D,\r\n      stitchTexture,\r\n      0,\r\n    );\r\n    const webGLCanvas = new WebGLCanvas(gl);\r\n\r\n    sources.forEach(function (src, i, arr) {\r\n      const xPos =\r\n        (src.extent[0] - sourceDataExtent[0]) * stitchScale * scaleFactor;\r\n      const yPos =\r\n        -(src.extent[3] - sourceDataExtent[3]) * stitchScale * scaleFactor;\r\n      const srcWidth = getWidth(src.extent) * stitchScale * scaleFactor;\r\n      const srcHeight = getHeight(src.extent) * stitchScale * scaleFactor;\r\n      gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\r\n      gl.viewport(0, 0, stitchWidthFixed, stitchHeightFixed);\r\n\r\n      if (src.clipExtent) {\r\n        const xPos =\r\n          (src.clipExtent[0] - sourceDataExtent[0]) * stitchScale * scaleFactor;\r\n        const yPos =\r\n          -(src.clipExtent[3] - sourceDataExtent[3]) *\r\n          stitchScale *\r\n          scaleFactor;\r\n        const width = getWidth(src.clipExtent) * stitchScale * scaleFactor;\r\n        const height = getHeight(src.clipExtent) * stitchScale * scaleFactor;\r\n        gl.enable(gl.SCISSOR_TEST);\r\n        gl.scissor(\r\n          interpolate ? xPos : Math.round(xPos),\r\n          interpolate ? yPos : Math.round(yPos),\r\n          interpolate ? width : Math.round(xPos + width) - Math.round(xPos),\r\n          interpolate ? height : Math.round(yPos + height) - Math.round(yPos),\r\n        );\r\n      }\r\n\r\n      webGLCanvas.drawImage(\r\n        src.texture,\r\n        src.width,\r\n        src.height,\r\n        gutter,\r\n        gutter,\r\n        src.width - 2 * gutter,\r\n        src.height - 2 * gutter,\r\n        interpolate ? xPos : Math.round(xPos),\r\n        interpolate ? yPos : Math.round(yPos),\r\n        interpolate ? srcWidth : Math.round(xPos + srcWidth) - Math.round(xPos),\r\n        interpolate\r\n          ? srcHeight\r\n          : Math.round(yPos + srcHeight) - Math.round(yPos),\r\n        stitchWidthFixed,\r\n        stitchHeightFixed,\r\n      );\r\n\r\n      gl.disable(gl.SCISSOR_TEST);\r\n    });\r\n    gl.deleteFramebuffer(fb);\r\n  } else {\r\n    stitchTexture = sources[0].texture;\r\n    stitchWidth = sources[0].width;\r\n    stitchHeight = sources[0].width;\r\n  }\r\n\r\n  const targetTopLeft = getTopLeft(targetExtent);\r\n  const sourceTopLeft = getTopLeft(sourceDataExtent);\r\n\r\n  const getUVs = (\r\n    /** @type {Array<import(\"../coordinate.js\").Coordinate>} */ target,\r\n  ) => {\r\n    const u0 =\r\n      ((target[0][0] - targetTopLeft[0]) / targetResolution) * pixelRatio;\r\n    const v0 =\r\n      (-(target[0][1] - targetTopLeft[1]) / targetResolution) * pixelRatio;\r\n    const u1 =\r\n      ((target[1][0] - targetTopLeft[0]) / targetResolution) * pixelRatio;\r\n    const v1 =\r\n      (-(target[1][1] - targetTopLeft[1]) / targetResolution) * pixelRatio;\r\n    const u2 =\r\n      ((target[2][0] - targetTopLeft[0]) / targetResolution) * pixelRatio;\r\n    const v2 =\r\n      (-(target[2][1] - targetTopLeft[1]) / targetResolution) * pixelRatio;\r\n    return {u1, v1, u0, v0, u2, v2};\r\n  };\r\n\r\n  gl.bindFramebuffer(gl.FRAMEBUFFER, resultFrameBuffer);\r\n  gl.viewport(0, 0, width, height);\r\n\r\n  // Draw source to reprojtile\r\n  {\r\n    /** @type {Array<number>} */\r\n    const vertices = [];\r\n    /** @type {Array<number>} */\r\n    const texcoords = [];\r\n\r\n    const triProgram = createProgram(\r\n      gl,\r\n      TRIANGLE_FRAGMENT_SHADER,\r\n      TRIANGLE_VERTEX_SHADER,\r\n    );\r\n    gl.useProgram(triProgram);\r\n\r\n    // Bind image\r\n    const textureLocation = gl.getUniformLocation(triProgram, 'u_texture');\r\n    gl.bindTexture(gl.TEXTURE_2D, stitchTexture);\r\n\r\n    // Tell the shader to get the texture from texture unit 0\r\n    gl.uniform1i(textureLocation, 0);\r\n\r\n    // Calculate vert and tex coordinates.\r\n    triangulation.getTriangles().forEach(function (triangle, i, arr) {\r\n      const source = triangle.source;\r\n      const target = triangle.target;\r\n      // Make sure that everything is on pixel boundaries\r\n      const {u1, v1, u0, v0, u2, v2} = getUVs(target);\r\n\r\n      const su0 =\r\n        (source[0][0] - sourceTopLeft[0]) / sourceResolution / stitchWidth;\r\n      const sv0 =\r\n        -(source[0][1] - sourceTopLeft[1]) / sourceResolution / stitchHeight;\r\n      const su1 =\r\n        (source[1][0] - sourceTopLeft[0]) / sourceResolution / stitchWidth;\r\n      const sv1 =\r\n        -(source[1][1] - sourceTopLeft[1]) / sourceResolution / stitchHeight;\r\n      const su2 =\r\n        (source[2][0] - sourceTopLeft[0]) / sourceResolution / stitchWidth;\r\n      const sv2 =\r\n        -(source[2][1] - sourceTopLeft[1]) / sourceResolution / stitchHeight;\r\n\r\n      vertices.push(u1, v1, u0, v0, u2, v2);\r\n      texcoords.push(su1, sv1, su0, sv0, su2, sv2);\r\n    });\r\n\r\n    // Convert pixel space to clip space.\r\n    const matrix = mat4.orthographic(0, width, height, 0, -1, 1);\r\n    const matrixLocation = gl.getUniformLocation(triProgram, 'u_matrix');\r\n    gl.uniformMatrix4fv(matrixLocation, false, matrix);\r\n\r\n    const positionLocation = gl.getAttribLocation(triProgram, 'a_position');\r\n    const positionBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\r\n    gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\r\n    gl.enableVertexAttribArray(positionLocation);\r\n\r\n    const texcoordLocation = gl.getAttribLocation(triProgram, 'a_texcoord');\r\n    const texcoordBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, texcoordBuffer);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(texcoords), gl.STATIC_DRAW);\r\n    gl.vertexAttribPointer(texcoordLocation, 2, gl.FLOAT, false, 0, 0);\r\n    gl.enableVertexAttribArray(texcoordLocation);\r\n\r\n    gl.drawArrays(gl.TRIANGLES, 0, vertices.length / 2);\r\n  }\r\n\r\n  if (renderEdges) {\r\n    const edgeProgram = createProgram(\r\n      gl,\r\n      EDGE_FRAGMENT_SHADER,\r\n      EDGE_VERTEX_SHADER,\r\n    );\r\n    gl.useProgram(edgeProgram);\r\n    const matrix = mat4.orthographic(0, width, height, 0, -1, 1);\r\n    const matrixLocation = gl.getUniformLocation(edgeProgram, 'u_matrix');\r\n    gl.uniformMatrix4fv(matrixLocation, false, matrix);\r\n\r\n    const burnval = Array.isArray(renderEdges) ? renderEdges : [0, 0, 0, 255];\r\n    const burnvalLocation = gl.getUniformLocation(edgeProgram, 'u_val');\r\n    const isFloat = true;\r\n    if (isFloat) {\r\n      gl.uniform4fv(burnvalLocation, burnval);\r\n    } else {\r\n      gl.uniform4iv(burnvalLocation, burnval);\r\n    }\r\n\r\n    const positionLocation = gl.getAttribLocation(edgeProgram, 'a_position');\r\n    const positionBuffer = gl.createBuffer();\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n    gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\r\n    gl.enableVertexAttribArray(positionLocation);\r\n\r\n    /** @type {Array<number>} */\r\n    const lines = triangulation.getTriangles().reduce(function (\r\n      /** @type {Array<number>} */ lines,\r\n      triangle,\r\n    ) {\r\n      const target = triangle.target;\r\n      const {u1, v1, u0, v0, u2, v2} = getUVs(target);\r\n\r\n      return lines.concat([u1, v1, u0, v0, u0, v0, u2, v2, u2, v2, u1, v1]);\r\n    }, []);\r\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(lines), gl.STATIC_DRAW);\r\n    gl.drawArrays(gl.LINES, 0, lines.length / 2);\r\n  }\r\n\r\n  return {\r\n    width,\r\n    height,\r\n    framebuffer: resultFrameBuffer,\r\n    texture: resultTexture,\r\n  };\r\n}\r\n", "/**\r\n * @module ol/reproj/DataTile\r\n */\r\n\r\nimport DataTile, {asArrayLike, asImageLike, toArray} from '../DataTile.js';\r\nimport TileState from '../TileState.js';\r\nimport {createCanvasContext2D} from '../dom.js';\r\nimport EventType from '../events/EventType.js';\r\nimport {listen, unlistenByKey} from '../events.js';\r\nimport {getArea, getIntersection, getWidth, wrapAndSliceX} from '../extent.js';\r\nimport {clamp} from '../math.js';\r\nimport {calculateSourceExtentResolution} from '../reproj.js';\r\nimport Triangulation from './Triangulation.js';\r\nimport {ERROR_THRESHOLD} from './common.js';\r\nimport {\r\n  canvasGLPool,\r\n  createCanvasContextWebGL,\r\n  releaseGLCanvas,\r\n  render as renderReprojected,\r\n} from './glreproj.js';\r\n\r\n/**\r\n * @typedef {function(number, number, number, number) : import(\"../DataTile.js\").default} TileGetter\r\n */\r\n\r\n/**\r\n * @typedef {Object} TileOffset\r\n * @property {DataTile} tile Tile.\r\n * @property {number} offset Offset.\r\n */\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"../proj/Projection.js\").default} sourceProj Source projection.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} sourceTileGrid Source tile grid.\r\n * @property {import(\"../proj/Projection.js\").default} targetProj Target projection.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} targetTileGrid Target tile grid.\r\n * @property {import(\"../tilecoord.js\").TileCoord} tileCoord Coordinate of the tile.\r\n * @property {import(\"../tilecoord.js\").TileCoord} [wrappedTileCoord] Coordinate of the tile wrapped in X.\r\n * @property {number} pixelRatio Pixel ratio.\r\n * @property {number} gutter Gutter of the source tiles.\r\n * @property {TileGetter} getTileFunction Function returning source tiles (z, x, y, pixelRatio).\r\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\r\n * the nearest neighbor is used when resampling.\r\n * @property {number} [errorThreshold] Acceptable reprojection error (in px).\r\n * @property {number} [transition=250] A duration for tile opacity\r\n * transitions in milliseconds. A duration of 0 disables the opacity transition.\r\n * @property {import(\"../transform.js\").Transform} [transformMatrix] Source transform matrix.\r\n * @property {boolean} [renderEdges] Render reprojection edges.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Class encapsulating single reprojected data tile.\r\n * See {@link module:ol/source/DataTile~DataTileSource}.\r\n *\r\n */\r\nclass ReprojDataTile extends DataTile {\r\n  /**\r\n   * @param {Options} options Tile options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      tileCoord: options.tileCoord,\r\n      loader: () => Promise.resolve(new Uint8ClampedArray(4)),\r\n      interpolate: options.interpolate,\r\n      transition: options.transition,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean | Array<number>}\r\n     */\r\n    this.renderEdges_ =\r\n      options.renderEdges !== undefined ? options.renderEdges : false;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.pixelRatio_ = options.pixelRatio;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.gutter_ = options.gutter;\r\n\r\n    /**\r\n     * @type {import(\"../DataTile.js\").Data}\r\n     * @private\r\n     */\r\n    this.reprojData_ = null;\r\n\r\n    /**\r\n     * @type {Error}\r\n     * @private\r\n     */\r\n    this.reprojError_ = null;\r\n\r\n    /**\r\n     * @type {import('../size.js').Size}\r\n     * @private\r\n     */\r\n    this.reprojSize_ = undefined;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../tilegrid/TileGrid.js\").default}\r\n     */\r\n    this.sourceTileGrid_ = options.sourceTileGrid;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../tilegrid/TileGrid.js\").default}\r\n     */\r\n    this.targetTileGrid_ = options.targetTileGrid;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../tilecoord.js\").TileCoord}\r\n     */\r\n    this.wrappedTileCoord_ = options.wrappedTileCoord || options.tileCoord;\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Array<TileOffset>}\r\n     */\r\n    this.sourceTiles_ = [];\r\n\r\n    /**\r\n     * @private\r\n     * @type {?Array<import(\"../events.js\").EventsKey>}\r\n     */\r\n    this.sourcesListenerKeys_ = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.sourceZ_ = 0;\r\n\r\n    const sourceProj = options.sourceProj;\r\n    const sourceProjExtent = sourceProj.getExtent();\r\n    const sourceTileGridExtent = options.sourceTileGrid.getExtent();\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../extent.js\").Extent}\r\n     */\r\n    this.clipExtent_ = sourceProj.canWrapX()\r\n      ? sourceTileGridExtent\r\n        ? getIntersection(sourceProjExtent, sourceTileGridExtent)\r\n        : sourceProjExtent\r\n      : sourceTileGridExtent;\r\n\r\n    const targetExtent = this.targetTileGrid_.getTileCoordExtent(\r\n      this.wrappedTileCoord_,\r\n    );\r\n    const maxTargetExtent = this.targetTileGrid_.getExtent();\r\n    let maxSourceExtent = this.sourceTileGrid_.getExtent();\r\n\r\n    const limitedTargetExtent = maxTargetExtent\r\n      ? getIntersection(targetExtent, maxTargetExtent)\r\n      : targetExtent;\r\n\r\n    if (getArea(limitedTargetExtent) === 0) {\r\n      // Tile is completely outside range -> EMPTY\r\n      // TODO: is it actually correct that the source even creates the tile ?\r\n      this.state = TileState.EMPTY;\r\n      return;\r\n    }\r\n\r\n    if (sourceProjExtent) {\r\n      if (!maxSourceExtent) {\r\n        maxSourceExtent = sourceProjExtent;\r\n      } else {\r\n        maxSourceExtent = getIntersection(maxSourceExtent, sourceProjExtent);\r\n      }\r\n    }\r\n\r\n    const targetResolution = this.targetTileGrid_.getResolution(\r\n      this.wrappedTileCoord_[0],\r\n    );\r\n\r\n    const targetProj = options.targetProj;\r\n    const sourceResolution = calculateSourceExtentResolution(\r\n      sourceProj,\r\n      targetProj,\r\n      limitedTargetExtent,\r\n      targetResolution,\r\n    );\r\n\r\n    if (!isFinite(sourceResolution) || sourceResolution <= 0) {\r\n      // invalid sourceResolution -> EMPTY\r\n      // probably edges of the projections when no extent is defined\r\n      this.state = TileState.EMPTY;\r\n      return;\r\n    }\r\n\r\n    const errorThresholdInPixels =\r\n      options.errorThreshold !== undefined\r\n        ? options.errorThreshold\r\n        : ERROR_THRESHOLD;\r\n\r\n    /**\r\n     * @private\r\n     * @type {!import(\"./Triangulation.js\").default}\r\n     */\r\n    this.triangulation_ = new Triangulation(\r\n      sourceProj,\r\n      targetProj,\r\n      limitedTargetExtent,\r\n      maxSourceExtent,\r\n      sourceResolution * errorThresholdInPixels,\r\n      targetResolution,\r\n      options.transformMatrix,\r\n    );\r\n\r\n    if (this.triangulation_.getTriangles().length === 0) {\r\n      // no valid triangles -> EMPTY\r\n      this.state = TileState.EMPTY;\r\n      return;\r\n    }\r\n\r\n    this.sourceZ_ = this.sourceTileGrid_.getZForResolution(sourceResolution);\r\n    let sourceExtent = this.triangulation_.calculateSourceExtent();\r\n\r\n    if (maxSourceExtent) {\r\n      if (sourceProj.canWrapX()) {\r\n        sourceExtent[1] = clamp(\r\n          sourceExtent[1],\r\n          maxSourceExtent[1],\r\n          maxSourceExtent[3],\r\n        );\r\n        sourceExtent[3] = clamp(\r\n          sourceExtent[3],\r\n          maxSourceExtent[1],\r\n          maxSourceExtent[3],\r\n        );\r\n      } else {\r\n        sourceExtent = getIntersection(sourceExtent, maxSourceExtent);\r\n      }\r\n    }\r\n\r\n    if (!getArea(sourceExtent)) {\r\n      this.state = TileState.EMPTY;\r\n    } else {\r\n      let worldWidth = 0;\r\n      let worldsAway = 0;\r\n      if (sourceProj.canWrapX()) {\r\n        worldWidth = getWidth(sourceProjExtent);\r\n        worldsAway = Math.floor(\r\n          (sourceExtent[0] - sourceProjExtent[0]) / worldWidth,\r\n        );\r\n      }\r\n\r\n      const sourceExtents = wrapAndSliceX(\r\n        sourceExtent.slice(),\r\n        sourceProj,\r\n        true,\r\n      );\r\n      sourceExtents.forEach((extent) => {\r\n        const sourceRange = this.sourceTileGrid_.getTileRangeForExtentAndZ(\r\n          extent,\r\n          this.sourceZ_,\r\n        );\r\n        const getTile = options.getTileFunction;\r\n        for (let srcX = sourceRange.minX; srcX <= sourceRange.maxX; srcX++) {\r\n          for (let srcY = sourceRange.minY; srcY <= sourceRange.maxY; srcY++) {\r\n            const tile = getTile(this.sourceZ_, srcX, srcY, this.pixelRatio_);\r\n            if (tile) {\r\n              const offset = worldsAway * worldWidth;\r\n              this.sourceTiles_.push({tile, offset});\r\n            }\r\n          }\r\n        }\r\n        ++worldsAway;\r\n      });\r\n\r\n      if (this.sourceTiles_.length === 0) {\r\n        this.state = TileState.EMPTY;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the tile size.\r\n   * @return {import('../size.js').Size} Tile size.\r\n   * @override\r\n   */\r\n  getSize() {\r\n    return this.reprojSize_;\r\n  }\r\n\r\n  /**\r\n   * Get the data for the tile.\r\n   * @return {import(\"../DataTile.js\").Data} Tile data.\r\n   * @override\r\n   */\r\n  getData() {\r\n    return this.reprojData_;\r\n  }\r\n\r\n  /**\r\n   * Get any loading error.\r\n   * @return {Error} Loading error.\r\n   * @override\r\n   */\r\n  getError() {\r\n    return this.reprojError_;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  reproject_() {\r\n    const dataSources = [];\r\n    let imageLike = false;\r\n    this.sourceTiles_.forEach((source) => {\r\n      const tile = source.tile;\r\n      if (!tile || tile.getState() !== TileState.LOADED) {\r\n        return;\r\n      }\r\n      const size = tile.getSize();\r\n      const gutter = this.gutter_;\r\n      /**\r\n       * @type {import(\"../DataTile.js\").ArrayLike}\r\n       */\r\n      let tileData;\r\n      const arrayData = asArrayLike(tile.getData());\r\n      if (arrayData) {\r\n        tileData = arrayData;\r\n      } else {\r\n        imageLike = true;\r\n        tileData = toArray(asImageLike(tile.getData()));\r\n      }\r\n      const pixelSize = [size[0] + 2 * gutter, size[1] + 2 * gutter];\r\n      const isFloat = tileData instanceof Float32Array;\r\n      const pixelCount = pixelSize[0] * pixelSize[1];\r\n      const DataType = isFloat ? Float32Array : Uint8ClampedArray;\r\n      const tileDataR = new DataType(\r\n        /** @type {ArrayBuffer} */ (tileData.buffer),\r\n      );\r\n      const bytesPerElement = DataType.BYTES_PER_ELEMENT;\r\n      const bytesPerPixel = (bytesPerElement * tileDataR.length) / pixelCount;\r\n      const bytesPerRow = tileDataR.byteLength / pixelSize[1];\r\n      const bandCount = Math.floor(\r\n        bytesPerRow / bytesPerElement / pixelSize[0],\r\n      );\r\n      const extent = this.sourceTileGrid_.getTileCoordExtent(tile.tileCoord);\r\n      extent[0] += source.offset;\r\n      extent[2] += source.offset;\r\n      const clipExtent = this.clipExtent_?.slice();\r\n      if (clipExtent) {\r\n        clipExtent[0] += source.offset;\r\n        clipExtent[2] += source.offset;\r\n      }\r\n      dataSources.push({\r\n        extent: extent,\r\n        clipExtent: clipExtent,\r\n        data: tileDataR,\r\n        dataType: DataType,\r\n        bytesPerPixel: bytesPerPixel,\r\n        pixelSize: pixelSize,\r\n        bandCount: bandCount,\r\n      });\r\n    });\r\n    this.sourceTiles_.length = 0;\r\n\r\n    if (dataSources.length === 0) {\r\n      this.state = TileState.ERROR;\r\n      this.changed();\r\n      return;\r\n    }\r\n\r\n    const z = this.wrappedTileCoord_[0];\r\n    const size = this.targetTileGrid_.getTileSize(z);\r\n    const targetWidth = typeof size === 'number' ? size : size[0];\r\n    const targetHeight = typeof size === 'number' ? size : size[1];\r\n    const outWidth = Math.round(targetWidth * this.pixelRatio_);\r\n    const outHeight = Math.round(targetHeight * this.pixelRatio_);\r\n    const targetResolution = this.targetTileGrid_.getResolution(z);\r\n    const sourceResolution = this.sourceTileGrid_.getResolution(this.sourceZ_);\r\n\r\n    const targetExtent = this.targetTileGrid_.getTileCoordExtent(\r\n      this.wrappedTileCoord_,\r\n    );\r\n\r\n    const bandCount = dataSources[0].bandCount;\r\n    const dataR = new dataSources[0].dataType(bandCount * outWidth * outHeight);\r\n\r\n    const gl = createCanvasContextWebGL(outWidth, outHeight, canvasGLPool, {\r\n      premultipliedAlpha: false,\r\n      antialias: false,\r\n    });\r\n\r\n    let willInterpolate;\r\n    const format = gl.RGBA;\r\n    let textureType;\r\n    if (dataSources[0].dataType == Float32Array) {\r\n      textureType = gl.FLOAT;\r\n      gl.getExtension('WEBGL_color_buffer_float');\r\n      gl.getExtension('OES_texture_float');\r\n      gl.getExtension('EXT_float_blend');\r\n      const extension = gl.getExtension('OES_texture_float_linear');\r\n      const canInterpolate = extension !== null;\r\n      willInterpolate = canInterpolate && this.interpolate;\r\n    } else {\r\n      textureType = gl.UNSIGNED_BYTE;\r\n      willInterpolate = this.interpolate;\r\n    }\r\n\r\n    const BANDS_PR_REPROJ = 4;\r\n    const reprojs = Math.ceil(bandCount / BANDS_PR_REPROJ);\r\n    for (let reproj = reprojs - 1; reproj >= 0; --reproj) {\r\n      const sources = [];\r\n      for (let i = 0, len = dataSources.length; i < len; ++i) {\r\n        const dataSource = dataSources[i];\r\n\r\n        const pixelSize = dataSource.pixelSize;\r\n        const width = pixelSize[0];\r\n        const height = pixelSize[1];\r\n\r\n        const data = new dataSource.dataType(BANDS_PR_REPROJ * width * height);\r\n        const dataS = dataSource.data;\r\n        let offset = reproj * BANDS_PR_REPROJ;\r\n        for (let j = 0, len = data.length; j < len; j += BANDS_PR_REPROJ) {\r\n          data[j] = dataS[offset];\r\n          data[j + 1] = dataS[offset + 1];\r\n          data[j + 2] = dataS[offset + 2];\r\n          data[j + 3] = dataS[offset + 3];\r\n          offset += bandCount;\r\n        }\r\n\r\n        const texture = gl.createTexture();\r\n        gl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n        if (willInterpolate) {\r\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n        } else {\r\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n        }\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        gl.texImage2D(\r\n          gl.TEXTURE_2D,\r\n          0,\r\n          format,\r\n          width,\r\n          height,\r\n          0,\r\n          format,\r\n          textureType,\r\n          data,\r\n        );\r\n\r\n        sources.push({\r\n          extent: dataSource.extent,\r\n          clipExtent: dataSource.clipExtent,\r\n          texture: texture,\r\n          width: width,\r\n          height: height,\r\n        });\r\n      }\r\n\r\n      const {framebuffer, width, height} = renderReprojected(\r\n        gl,\r\n        targetWidth,\r\n        targetHeight,\r\n        this.pixelRatio_,\r\n        sourceResolution,\r\n        targetResolution,\r\n        targetExtent,\r\n        this.triangulation_,\r\n        sources,\r\n        this.gutter_,\r\n        textureType,\r\n        this.renderEdges_,\r\n        willInterpolate,\r\n      );\r\n\r\n      // The texture is always RGBA.\r\n      const rows = width;\r\n      const cols = height * BANDS_PR_REPROJ;\r\n      const data = new dataSources[0].dataType(rows * cols);\r\n      gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n      gl.readPixels(0, 0, width, height, gl.RGBA, textureType, data);\r\n\r\n      let offset = reproj * BANDS_PR_REPROJ;\r\n      for (let i = 0, len = data.length; i < len; i += BANDS_PR_REPROJ) {\r\n        // The data read by `readPixels` is flipped in the y-axis so flip it again.\r\n        const flipY = (rows - 1 - ((i / cols) | 0)) * cols + (i % cols);\r\n        dataR[offset] = data[flipY];\r\n        dataR[offset + 1] = data[flipY + 1];\r\n        dataR[offset + 2] = data[flipY + 2];\r\n        dataR[offset + 3] = data[flipY + 3];\r\n        offset += bandCount;\r\n      }\r\n    }\r\n\r\n    releaseGLCanvas(gl);\r\n    canvasGLPool.push(gl.canvas);\r\n\r\n    if (imageLike) {\r\n      const context = createCanvasContext2D(targetWidth, targetHeight);\r\n      const imageData = new ImageData(dataR, targetWidth);\r\n      context.putImageData(imageData, 0, 0);\r\n      this.reprojData_ = context.canvas;\r\n    } else {\r\n      this.reprojData_ = dataR;\r\n    }\r\n    this.reprojSize_ = [outWidth, outHeight];\r\n    this.state = TileState.LOADED;\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * Load not yet loaded URI.\r\n   * @override\r\n   */\r\n  load() {\r\n    if (this.state !== TileState.IDLE && this.state !== TileState.ERROR) {\r\n      return;\r\n    }\r\n    this.state = TileState.LOADING;\r\n    this.changed();\r\n\r\n    let leftToLoad = 0;\r\n\r\n    this.sourcesListenerKeys_ = [];\r\n    this.sourceTiles_.forEach(({tile}) => {\r\n      const state = tile.getState();\r\n      if (state !== TileState.IDLE && state !== TileState.LOADING) {\r\n        return;\r\n      }\r\n      leftToLoad++;\r\n\r\n      const sourceListenKey = listen(tile, EventType.CHANGE, () => {\r\n        const state = tile.getState();\r\n        if (\r\n          state == TileState.LOADED ||\r\n          state == TileState.ERROR ||\r\n          state == TileState.EMPTY\r\n        ) {\r\n          unlistenByKey(sourceListenKey);\r\n          leftToLoad--;\r\n          if (leftToLoad === 0) {\r\n            this.unlistenSources_();\r\n            this.reproject_();\r\n          }\r\n        }\r\n      });\r\n      this.sourcesListenerKeys_.push(sourceListenKey);\r\n    });\r\n\r\n    if (leftToLoad === 0) {\r\n      setTimeout(this.reproject_.bind(this), 0);\r\n    } else {\r\n      this.sourceTiles_.forEach(function ({tile}) {\r\n        const state = tile.getState();\r\n        if (state == TileState.IDLE) {\r\n          tile.load();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  unlistenSources_() {\r\n    this.sourcesListenerKeys_.forEach(unlistenByKey);\r\n    this.sourcesListenerKeys_ = null;\r\n  }\r\n}\r\n\r\nexport default ReprojDataTile;\r\n", "/**\r\n * @module ol/source/DataTile\r\n */\r\nimport DataTile from '../DataTile.js';\r\nimport TileState from '../TileState.js';\r\nimport EventType from '../events/EventType.js';\r\nimport {toPromise} from '../functions.js';\r\nimport {equivalent, get as getProjection} from '../proj.js';\r\nimport ReprojDataTile from '../reproj/DataTile.js';\r\nimport {toSize} from '../size.js';\r\nimport {getCacheKey} from '../tilecoord.js';\r\nimport {\r\n  createXYZ,\r\n  extentFromProjection,\r\n  getForProjection as getTileGridForProjection,\r\n} from '../tilegrid.js';\r\nimport {getUid} from '../util.js';\r\nimport TileSource, {TileSourceEvent} from './Tile.js';\r\nimport TileEventType from './TileEventType.js';\r\n\r\n/**\r\n * @typedef {'anonymous'|'use-credentials'} CrossOriginAttribute\r\n */\r\n\r\n/**\r\n * @typedef {Object} LoaderOptions\r\n * @property {AbortSignal} signal An abort controller signal.\r\n * @property {CrossOriginAttribute} [crossOrigin] The cross-origin attribute for images.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for images.\r\n * @property {number} [maxY] The maximum y coordinate at the given z level.  Will be undefined if the\r\n * underlying tile grid does not have a known extent.\r\n */\r\n\r\n/**\r\n * Data tile loading function.  The function is called with z, x, and y tile coordinates and\r\n * returns {@link import(\"../DataTile.js\").Data data} for a tile or a promise for the same.\r\n * @typedef {function(number, number, number, LoaderOptions) : (import(\"../DataTile.js\").Data|Promise<import(\"../DataTile.js\").Data>)} Loader\r\n */\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {Loader} [loader] Data loader.  Called with z, x, and y tile coordinates.\r\n * Returns {@link import(\"../DataTile.js\").Data data} for a tile or a promise for the same.\r\n * For loaders that generate images, the promise should not resolve until the image is loaded.\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\r\n * @property {number} [maxZoom=42] Optional max zoom level. Not used if `tileGrid` is provided.\r\n * @property {number} [minZoom=0] Optional min zoom level. Not used if `tileGrid` is provided.\r\n * @property {number|import(\"../size.js\").Size} [tileSize=[256, 256]] The pixel width and height of the source tiles.\r\n * This may be different than the rendered pixel size if a `tileGrid` is provided.\r\n * @property {number} [gutter=0] The size in pixels of the gutter around data tiles to ignore.\r\n * This allows artifacts of rendering at tile edges to be ignored.\r\n * Supported data should be wider and taller than the tile size by a value of `2 x gutter`.\r\n * @property {number} [maxResolution] Optional tile grid resolution at level zero. Not used if `tileGrid` is provided.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Tile projection.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\r\n * @property {import(\"./Source.js\").State} [state] The source state.\r\n * @property {boolean} [wrapX=false] Render tiles beyond the antimeridian.\r\n * @property {number} [transition] Transition time when fading in new tiles (in milliseconds).\r\n * @property {number} [bandCount=4] Number of bands represented in the data.\r\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\r\n * the nearest neighbor is used when resampling.\r\n * @property {CrossOriginAttribute} [crossOrigin='anonymous'] The crossOrigin property to pass to loaders for image data.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {string} [key] Key for use in caching tiles.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * A source for typed array data tiles.\r\n *\r\n * @fires import(\"./Tile.js\").TileSourceEvent\r\n * @template {import(\"../Tile.js\").default} [TileType=DataTile]\r\n * @extends TileSource<TileType>\r\n * @api\r\n */\r\nclass DataTileSource extends TileSource {\r\n  /**\r\n   * @param {Options} options DataTile source options.\r\n   */\r\n  constructor(options) {\r\n    const projection =\r\n      options.projection === undefined ? 'EPSG:3857' : options.projection;\r\n\r\n    let tileGrid = options.tileGrid;\r\n    if (tileGrid === undefined && projection) {\r\n      tileGrid = createXYZ({\r\n        extent: extentFromProjection(projection),\r\n        maxResolution: options.maxResolution,\r\n        maxZoom: options.maxZoom,\r\n        minZoom: options.minZoom,\r\n        tileSize: options.tileSize,\r\n      });\r\n    }\r\n\r\n    super({\r\n      cacheSize: 0.1, // don't cache on the source\r\n      attributions: options.attributions,\r\n      attributionsCollapsible: options.attributionsCollapsible,\r\n      projection: projection,\r\n      tileGrid: tileGrid,\r\n      state: options.state,\r\n      wrapX: options.wrapX,\r\n      transition: options.transition,\r\n      interpolate: options.interpolate,\r\n      key: options.key,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.gutter_ = options.gutter !== undefined ? options.gutter : 0;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import('../size.js').Size|null}\r\n     */\r\n    this.tileSize_ = options.tileSize ? toSize(options.tileSize) : null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {Array<import('../size.js').Size>|null}\r\n     */\r\n    this.tileSizes_ = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Object<string, boolean>}\r\n     */\r\n    this.tileLoadingKeys_ = {};\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    this.loader_ = options.loader;\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    this.handleTileChange_ = this.handleTileChange_.bind(this);\r\n\r\n    /**\r\n     * @type {number}\r\n     */\r\n    this.bandCount = options.bandCount === undefined ? 4 : options.bandCount; // assume RGBA if undefined\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Object<string, import(\"../tilegrid/TileGrid.js\").default>}\r\n     */\r\n    this.tileGridForProjection_ = {};\r\n\r\n    /**\r\n     * @private\r\n     * @type {CrossOriginAttribute}\r\n     */\r\n    this.crossOrigin_ = options.crossOrigin || 'anonymous';\r\n\r\n    /**\r\n     * @private\r\n     * @type {ReferrerPolicy}\r\n     */\r\n    this.referrerPolicy_ = options.referrerPolicy;\r\n\r\n    /**\r\n     * @type {import(\"../transform.js\").Transform|null}\r\n     */\r\n    this.transformMatrix = null;\r\n  }\r\n\r\n  /**\r\n   * Set the source tile sizes.  The length of the array is expected to match the number of\r\n   * levels in the tile grid.\r\n   * @protected\r\n   * @param {Array<import('../size.js').Size>} tileSizes An array of tile sizes.\r\n   */\r\n  setTileSizes(tileSizes) {\r\n    this.tileSizes_ = tileSizes;\r\n  }\r\n\r\n  /**\r\n   * Get the source tile size at the given zoom level.  This may be different than the rendered tile\r\n   * size.\r\n   * @protected\r\n   * @param {number} z Tile zoom level.\r\n   * @return {import('../size.js').Size} The source tile size.\r\n   */\r\n  getTileSize(z) {\r\n    if (this.tileSizes_) {\r\n      return this.tileSizes_[z];\r\n    }\r\n    if (this.tileSize_) {\r\n      return this.tileSize_;\r\n    }\r\n    const tileGrid = this.getTileGrid();\r\n    return tileGrid ? toSize(tileGrid.getTileSize(z)) : [256, 256];\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {number} Gutter.\r\n   * @override\r\n   */\r\n  getGutterForProjection(projection) {\r\n    const thisProj = this.getProjection();\r\n    if (\r\n      (!thisProj || equivalent(thisProj, projection)) &&\r\n      !this.transformMatrix\r\n    ) {\r\n      return this.gutter_;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * @param {Loader} loader The data loader.\r\n   * @protected\r\n   */\r\n  setLoader(loader) {\r\n    this.loader_ = loader;\r\n  }\r\n\r\n  /**\r\n   * @param {number} z Tile coordinate z.\r\n   * @param {number} x Tile coordinate x.\r\n   * @param {number} y Tile coordinate y.\r\n   * @param {import(\"../proj/Projection.js\").default} targetProj The output projection.\r\n   * @param {import(\"../proj/Projection.js\").default} sourceProj The input projection.\r\n   * @param {import(\"../structs/LRUCache.js\").default<import(\"../Tile.js\").default>} [tileCache] Tile cache.\r\n   * @return {!TileType} Tile.\r\n   */\r\n  getReprojTile_(z, x, y, targetProj, sourceProj, tileCache) {\r\n    const sourceTileGrid =\r\n      this.tileGrid || this.getTileGridForProjection(sourceProj || targetProj);\r\n    const reprojTilePixelRatio = Math.max.apply(\r\n      null,\r\n      sourceTileGrid.getResolutions().map((r, z) => {\r\n        const tileSize = toSize(sourceTileGrid.getTileSize(z));\r\n        const textureSize = this.getTileSize(z);\r\n        return Math.max(\r\n          textureSize[0] / tileSize[0],\r\n          textureSize[1] / tileSize[1],\r\n        );\r\n      }),\r\n    );\r\n\r\n    const targetTileGrid = this.getTileGridForProjection(targetProj);\r\n    const tileCoord = [z, x, y];\r\n    const wrappedTileCoord = this.getTileCoordForTileUrlFunction(\r\n      tileCoord,\r\n      targetProj,\r\n    );\r\n\r\n    const options = Object.assign(\r\n      {\r\n        sourceProj: sourceProj || targetProj,\r\n        sourceTileGrid,\r\n        targetProj,\r\n        targetTileGrid,\r\n        tileCoord,\r\n        wrappedTileCoord,\r\n        pixelRatio: reprojTilePixelRatio,\r\n        gutter: this.gutter_,\r\n        getTileFunction: (z, x, y, pixelRatio) =>\r\n          this.getTile(z, x, y, pixelRatio, undefined, tileCache),\r\n        transformMatrix: this.transformMatrix,\r\n      },\r\n      /** @type {import(\"../reproj/DataTile.js\").Options} */ (this.tileOptions),\r\n    );\r\n    const tile = /** @type {TileType} */ (\r\n      /** @type {*} */ (new ReprojDataTile(options))\r\n    );\r\n    tile.key = this.getKey();\r\n    return tile;\r\n  }\r\n\r\n  /**\r\n   * @param {number} z Tile coordinate z.\r\n   * @param {number} x Tile coordinate x.\r\n   * @param {number} y Tile coordinate y.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} [projection] Projection.\r\n   * @param {import(\"../structs/LRUCache.js\").default<import(\"../Tile.js\").default>} [tileCache] Tile cache.\r\n   * @return {TileType|null} Tile (or null if outside source extent).\r\n   * @override\r\n   */\r\n  getTile(z, x, y, pixelRatio, projection, tileCache) {\r\n    const sourceProjection = this.getProjection();\r\n    if (\r\n      projection &&\r\n      ((sourceProjection && !equivalent(sourceProjection, projection)) ||\r\n        this.transformMatrix)\r\n    ) {\r\n      return this.getReprojTile_(\r\n        z,\r\n        x,\r\n        y,\r\n        projection,\r\n        sourceProjection,\r\n        tileCache,\r\n      );\r\n    }\r\n\r\n    const size = this.getTileSize(z);\r\n\r\n    const sourceLoader = this.loader_;\r\n\r\n    const controller = new AbortController();\r\n\r\n    /**\r\n     * @type {LoaderOptions}\r\n     */\r\n    const loaderOptions = {\r\n      signal: controller.signal,\r\n      crossOrigin: this.crossOrigin_,\r\n      referrerPolicy: this.referrerPolicy_,\r\n    };\r\n\r\n    const tileCoord = this.getTileCoordForTileUrlFunction([z, x, y]);\r\n    if (!tileCoord) {\r\n      return null;\r\n    }\r\n\r\n    const key = this.getKey();\r\n    const cacheKey = getCacheKey(this, key, z, x, y);\r\n    if (tileCache && tileCache.containsKey(cacheKey)) {\r\n      return /** @type {TileType} */ (tileCache.get(cacheKey));\r\n    }\r\n\r\n    const requestZ = tileCoord[0];\r\n    const requestX = tileCoord[1];\r\n    const requestY = tileCoord[2];\r\n    const range = this.getTileGrid()?.getFullTileRange(requestZ);\r\n    if (range) {\r\n      loaderOptions.maxY = range.getHeight() - 1;\r\n    }\r\n    function loader() {\r\n      return toPromise(function () {\r\n        return sourceLoader(requestZ, requestX, requestY, loaderOptions);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * @type {import(\"../DataTile.js\").Options}\r\n     */\r\n    const options = Object.assign(\r\n      {\r\n        tileCoord: [z, x, y],\r\n        loader: loader,\r\n        size: size,\r\n        controller: controller,\r\n      },\r\n      this.tileOptions,\r\n    );\r\n\r\n    const tile = /** @type {TileType} */ (\r\n      /** @type {*} */ (new DataTile(options))\r\n    );\r\n    tile.key = this.getKey();\r\n    tile.addEventListener(EventType.CHANGE, this.handleTileChange_);\r\n\r\n    tileCache?.set(cacheKey, tile);\r\n    return tile;\r\n  }\r\n\r\n  /**\r\n   * Handle tile change events.\r\n   * @param {import(\"../events/Event.js\").default} event Event.\r\n   */\r\n  handleTileChange_(event) {\r\n    const tile = /** @type {import(\"../Tile.js\").default} */ (event.target);\r\n    const uid = getUid(tile);\r\n    const tileState = tile.getState();\r\n    let type;\r\n    if (tileState == TileState.LOADING) {\r\n      this.tileLoadingKeys_[uid] = true;\r\n      type = TileEventType.TILELOADSTART;\r\n    } else if (uid in this.tileLoadingKeys_) {\r\n      delete this.tileLoadingKeys_[uid];\r\n      type =\r\n        tileState == TileState.ERROR\r\n          ? TileEventType.TILELOADERROR\r\n          : tileState == TileState.LOADED\r\n            ? TileEventType.TILELOADEND\r\n            : undefined;\r\n    }\r\n    if (type) {\r\n      this.dispatchEvent(new TileSourceEvent(type, tile));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\r\n   * @override\r\n   */\r\n  getTileGridForProjection(projection) {\r\n    const thisProj = this.getProjection();\r\n    if (\r\n      this.tileGrid &&\r\n      (!thisProj || equivalent(thisProj, projection)) &&\r\n      !this.transformMatrix\r\n    ) {\r\n      return this.tileGrid;\r\n    }\r\n\r\n    const projKey = getUid(projection);\r\n    if (!(projKey in this.tileGridForProjection_)) {\r\n      this.tileGridForProjection_[projKey] =\r\n        getTileGridForProjection(projection);\r\n    }\r\n    return this.tileGridForProjection_[projKey];\r\n  }\r\n\r\n  /**\r\n   * Sets the tile grid to use when reprojecting the tiles to the given\r\n   * projection instead of the default tile grid for the projection.\r\n   *\r\n   * This can be useful when the default tile grid cannot be created\r\n   * (e.g. projection has no extent defined) or\r\n   * for optimization reasons (custom tile size, resolutions, ...).\r\n   *\r\n   * @param {import(\"../proj.js\").ProjectionLike} projection Projection.\r\n   * @param {import(\"../tilegrid/TileGrid.js\").default} tilegrid Tile grid to use for the projection.\r\n   * @api\r\n   */\r\n  setTileGridForProjection(projection, tilegrid) {\r\n    const proj = getProjection(projection);\r\n    if (proj) {\r\n      const projKey = getUid(proj);\r\n      if (!(projKey in this.tileGridForProjection_)) {\r\n        this.tileGridForProjection_[projKey] = tilegrid;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default DataTileSource;\r\n", "export const THIS_IS_NOT_AN_OBJECT = \"This is not an object\";\r\nexport const THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT = \"This is not a Float16Array object\";\r\nexport const THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY =\r\n  \"This constructor is not a subclass of Float16Array\";\r\nexport const THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT =\r\n  \"The constructor property value is not an object\";\r\nexport const SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT =\r\n  \"Species constructor didn't return TypedArray object\";\r\nexport const DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH =\r\n  \"Derived constructor created TypedArray object which was too small length\";\r\nexport const ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER =\r\n  \"Attempting to access detached ArrayBuffer\";\r\nexport const CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT =\r\n  \"Cannot convert undefined or null to object\";\r\nexport const CANNOT_MIX_BIGINT_AND_OTHER_TYPES =\r\n  \"Cannot mix BigInt and other types, use explicit conversions\";\r\nexport const ITERATOR_PROPERTY_IS_NOT_CALLABLE = \"@@iterator property is not callable\";\r\nexport const REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE =\r\n  \"Reduce of empty array with no initial value\";\r\nexport const THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED =\r\n  \"The comparison function must be either a function or undefined\";\r\nexport const OFFSET_IS_OUT_OF_BOUNDS = \"Offset is out of bounds\";\r\n", "/* eslint-disable no-restricted-globals, no-restricted-syntax */\r\n/* global SharedArrayBuffer */\r\n\r\nimport { CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT } from \"./messages.mjs\";\r\n\r\n/** @type {<T extends (...args: any) => any>(target: T) => (thisArg: ThisType<T>, ...args: any[]) => any} */\r\nfunction uncurryThis(target) {\r\n  return (thisArg, ...args) => {\r\n    return ReflectApply(target, thisArg, args);\r\n  };\r\n}\r\n\r\n/** @type {(target: any, key: string | symbol) => (thisArg: any, ...args: any[]) => any} */\r\nfunction uncurryThisGetter(target, key) {\r\n  return uncurryThis(\r\n    ReflectGetOwnPropertyDescriptor(\r\n      target,\r\n      key\r\n    ).get\r\n  );\r\n}\r\n\r\n// Reflect\r\nexport const {\r\n  apply: ReflectApply,\r\n  construct: ReflectConstruct,\r\n  defineProperty: ReflectDefineProperty,\r\n  get: ReflectGet,\r\n  getOwnPropertyDescriptor: ReflectGetOwnPropertyDescriptor,\r\n  getPrototypeOf: ReflectGetPrototypeOf,\r\n  has: ReflectHas,\r\n  ownKeys: ReflectOwnKeys,\r\n  set: ReflectSet,\r\n  setPrototypeOf: ReflectSetPrototypeOf,\r\n} = Reflect;\r\n\r\n// Proxy\r\nexport const NativeProxy = Proxy;\r\n\r\n// Number\r\nexport const {\r\n  EPSILON,\r\n  MAX_SAFE_INTEGER,\r\n  isFinite: NumberIsFinite,\r\n  isNaN: NumberIsNaN,\r\n} = Number;\r\n\r\n// Symbol\r\nexport const {\r\n  iterator: SymbolIterator,\r\n  species: SymbolSpecies,\r\n  toStringTag: SymbolToStringTag,\r\n  for: SymbolFor,\r\n} = Symbol;\r\n\r\n// Object\r\nexport const NativeObject = Object;\r\nexport const {\r\n  create: ObjectCreate,\r\n  defineProperty: ObjectDefineProperty,\r\n  freeze: ObjectFreeze,\r\n  is: ObjectIs,\r\n} = NativeObject;\r\nconst ObjectPrototype = NativeObject.prototype;\r\n/** @type {(object: object, key: PropertyKey) => Function | undefined} */\r\nexport const ObjectPrototype__lookupGetter__ = /** @type {any} */ (ObjectPrototype).__lookupGetter__\r\n  ? uncurryThis(/** @type {any} */ (ObjectPrototype).__lookupGetter__)\r\n  : (object, key) => {\r\n    if (object == null) {\r\n      throw NativeTypeError(\r\n        CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT\r\n      );\r\n    }\r\n\r\n    let target = NativeObject(object);\r\n    do {\r\n      const descriptor = ReflectGetOwnPropertyDescriptor(target, key);\r\n      if (descriptor !== undefined) {\r\n        if (ObjectHasOwn(descriptor, \"get\")) {\r\n          return descriptor.get;\r\n        }\r\n\r\n        return;\r\n      }\r\n    } while ((target = ReflectGetPrototypeOf(target)) !== null);\r\n  };\r\n/** @type {(object: object, key: PropertyKey) => boolean} */\r\nexport const ObjectHasOwn = /** @type {any} */ (NativeObject).hasOwn ||\r\n  uncurryThis(ObjectPrototype.hasOwnProperty);\r\n\r\n// Array\r\nconst NativeArray = Array;\r\nexport const ArrayIsArray = NativeArray.isArray;\r\nconst ArrayPrototype = NativeArray.prototype;\r\n/** @type {(array: ArrayLike<unknown>, separator?: string) => string} */\r\nexport const ArrayPrototypeJoin = uncurryThis(ArrayPrototype.join);\r\n/** @type {<T>(array: T[], ...items: T[]) => number} */\r\nexport const ArrayPrototypePush = uncurryThis(ArrayPrototype.push);\r\n/** @type {(array: ArrayLike<unknown>, ...opts: any[]) => string} */\r\nexport const ArrayPrototypeToLocaleString = uncurryThis(\r\n  ArrayPrototype.toLocaleString\r\n);\r\nexport const NativeArrayPrototypeSymbolIterator = ArrayPrototype[SymbolIterator];\r\n/** @type {<T>(array: T[]) => IterableIterator<T>} */\r\nexport const ArrayPrototypeSymbolIterator = uncurryThis(NativeArrayPrototypeSymbolIterator);\r\n\r\n// Math\r\nexport const {\r\n  abs: MathAbs,\r\n  trunc: MathTrunc,\r\n} = Math;\r\n\r\n// ArrayBuffer\r\nexport const NativeArrayBuffer = ArrayBuffer;\r\nexport const ArrayBufferIsView = NativeArrayBuffer.isView;\r\nconst ArrayBufferPrototype = NativeArrayBuffer.prototype;\r\n/** @type {(buffer: ArrayBuffer, begin?: number, end?: number) => number} */\r\nexport const ArrayBufferPrototypeSlice = uncurryThis(ArrayBufferPrototype.slice);\r\n/** @type {(buffer: ArrayBuffer) => ArrayBuffer} */\r\nexport const ArrayBufferPrototypeGetByteLength = uncurryThisGetter(ArrayBufferPrototype, \"byteLength\");\r\n\r\n// SharedArrayBuffer\r\nexport const NativeSharedArrayBuffer = typeof SharedArrayBuffer !== \"undefined\" ? SharedArrayBuffer : null;\r\n/** @type {(buffer: SharedArrayBuffer) => SharedArrayBuffer} */\r\nexport const SharedArrayBufferPrototypeGetByteLength = NativeSharedArrayBuffer\r\n  && uncurryThisGetter(NativeSharedArrayBuffer.prototype, \"byteLength\");\r\n\r\n// TypedArray\r\n/** @typedef {Uint8Array|Uint8ClampedArray|Uint16Array|Uint32Array|Int8Array|Int16Array|Int32Array|Float32Array|Float64Array|BigUint64Array|BigInt64Array} TypedArray */\r\n/** @type {any} */\r\nexport const TypedArray = ReflectGetPrototypeOf(Uint8Array);\r\nconst TypedArrayFrom = TypedArray.from;\r\nexport const TypedArrayPrototype = TypedArray.prototype;\r\nexport const NativeTypedArrayPrototypeSymbolIterator = TypedArrayPrototype[SymbolIterator];\r\n/** @type {(typedArray: TypedArray) => IterableIterator<number>} */\r\nexport const TypedArrayPrototypeKeys = uncurryThis(TypedArrayPrototype.keys);\r\n/** @type {(typedArray: TypedArray) => IterableIterator<number>} */\r\nexport const TypedArrayPrototypeValues = uncurryThis(\r\n  TypedArrayPrototype.values\r\n);\r\n/** @type {(typedArray: TypedArray) => IterableIterator<[number, number]>} */\r\nexport const TypedArrayPrototypeEntries = uncurryThis(\r\n  TypedArrayPrototype.entries\r\n);\r\n/** @type {(typedArray: TypedArray, array: ArrayLike<number>, offset?: number) => void} */\r\nexport const TypedArrayPrototypeSet = uncurryThis(TypedArrayPrototype.set);\r\n/** @type {<T extends TypedArray>(typedArray: T) => T} */\r\nexport const TypedArrayPrototypeReverse = uncurryThis(\r\n  TypedArrayPrototype.reverse\r\n);\r\n/** @type {<T extends TypedArray>(typedArray: T, value: number, start?: number, end?: number) => T} */\r\nexport const TypedArrayPrototypeFill = uncurryThis(TypedArrayPrototype.fill);\r\n/** @type {<T extends TypedArray>(typedArray: T, target: number, start: number, end?: number) => T} */\r\nexport const TypedArrayPrototypeCopyWithin = uncurryThis(\r\n  TypedArrayPrototype.copyWithin\r\n);\r\n/** @type {<T extends TypedArray>(typedArray: T, compareFn?: (a: number, b: number) => number) => T} */\r\nexport const TypedArrayPrototypeSort = uncurryThis(TypedArrayPrototype.sort);\r\n/** @type {<T extends TypedArray>(typedArray: T, start?: number, end?: number) => T} */\r\nexport const TypedArrayPrototypeSlice = uncurryThis(TypedArrayPrototype.slice);\r\n/** @type {<T extends TypedArray>(typedArray: T, start?: number, end?: number) => T} */\r\nexport const TypedArrayPrototypeSubarray = uncurryThis(\r\n  TypedArrayPrototype.subarray\r\n);\r\n/** @type {((typedArray: TypedArray) => ArrayBuffer)} */\r\nexport const TypedArrayPrototypeGetBuffer = uncurryThisGetter(\r\n  TypedArrayPrototype,\r\n  \"buffer\"\r\n);\r\n/** @type {((typedArray: TypedArray) => number)} */\r\nexport const TypedArrayPrototypeGetByteOffset = uncurryThisGetter(\r\n  TypedArrayPrototype,\r\n  \"byteOffset\"\r\n);\r\n/** @type {((typedArray: TypedArray) => number)} */\r\nexport const TypedArrayPrototypeGetLength = uncurryThisGetter(\r\n  TypedArrayPrototype,\r\n  \"length\"\r\n);\r\n/** @type {(target: unknown) => string} */\r\nexport const TypedArrayPrototypeGetSymbolToStringTag = uncurryThisGetter(\r\n  TypedArrayPrototype,\r\n  SymbolToStringTag\r\n);\r\n\r\n// Uint8Array\r\nexport const NativeUint8Array = Uint8Array;\r\n\r\n// Uint16Array\r\nexport const NativeUint16Array = Uint16Array;\r\n/** @type {Uint16ArrayConstructor[\"from\"]} */\r\nexport const Uint16ArrayFrom = (...args) => {\r\n  return ReflectApply(TypedArrayFrom, NativeUint16Array, args);\r\n};\r\n\r\n// Uint32Array\r\nexport const NativeUint32Array = Uint32Array;\r\n\r\n// Float32Array\r\nexport const NativeFloat32Array = Float32Array;\r\n\r\n// ArrayIterator\r\n/** @type {any} */\r\nexport const ArrayIteratorPrototype = ReflectGetPrototypeOf([][SymbolIterator]());\r\n/** @type {<T>(arrayIterator: IterableIterator<T>) => IteratorResult<T>} */\r\nexport const ArrayIteratorPrototypeNext = uncurryThis(ArrayIteratorPrototype.next);\r\n\r\n// Generator\r\n/** @type {<T = unknown, TReturn = any, TNext = unknown>(generator: Generator<T, TReturn, TNext>, value?: TNext) => T} */\r\nexport const GeneratorPrototypeNext = uncurryThis((function* () {})().next);\r\n\r\n// Iterator\r\nexport const IteratorPrototype = ReflectGetPrototypeOf(ArrayIteratorPrototype);\r\n\r\n// DataView\r\nconst DataViewPrototype = DataView.prototype;\r\n/** @type {(dataView: DataView, byteOffset: number, littleEndian?: boolean) => number} */\r\nexport const DataViewPrototypeGetUint16 = uncurryThis(\r\n  DataViewPrototype.getUint16\r\n);\r\n/** @type {(dataView: DataView, byteOffset: number, value: number, littleEndian?: boolean) => void} */\r\nexport const DataViewPrototypeSetUint16 = uncurryThis(\r\n  DataViewPrototype.setUint16\r\n);\r\n\r\n// Error\r\nexport const NativeTypeError = TypeError;\r\nexport const NativeRangeError = RangeError;\r\n\r\n// WeakSet\r\n/**\r\n * Do not construct with arguments to avoid calling the \"add\" method\r\n * @type {{new <T extends {}>(): WeakSet<T>}}\r\n */\r\nexport const NativeWeakSet = WeakSet;\r\nconst WeakSetPrototype = NativeWeakSet.prototype;\r\n/** @type {<T extends {}>(set: WeakSet<T>, value: T) => Set<T>} */\r\nexport const WeakSetPrototypeAdd = uncurryThis(WeakSetPrototype.add);\r\n/** @type {<T extends {}>(set: WeakSet<T>, value: T) => boolean} */\r\nexport const WeakSetPrototypeHas = uncurryThis(WeakSetPrototype.has);\r\n\r\n// WeakMap\r\n/**\r\n * Do not construct with arguments to avoid calling the \"set\" method\r\n * @type {{new <K extends {}, V>(): WeakMap<K, V>}}\r\n */\r\nexport const NativeWeakMap = WeakMap;\r\nconst WeakMapPrototype = NativeWeakMap.prototype;\r\n/** @type {<K extends {}, V>(weakMap: WeakMap<K, V>, key: K) => V} */\r\nexport const WeakMapPrototypeGet = uncurryThis(WeakMapPrototype.get);\r\n/** @type {<K extends {}, V>(weakMap: WeakMap<K, V>, key: K) => boolean} */\r\nexport const WeakMapPrototypeHas = uncurryThis(WeakMapPrototype.has);\r\n/** @type {<K extends {}, V>(weakMap: WeakMap<K, V>, key: K, value: V) => WeakMap} */\r\nexport const WeakMapPrototypeSet = uncurryThis(WeakMapPrototype.set);\r\n", "import {\r\n  ArrayIteratorPrototype,\r\n  ArrayIteratorPrototypeNext,\r\n  ArrayPrototypeSymbolIterator,\r\n  GeneratorPrototypeNext,\r\n  IteratorPrototype,\r\n  NativeArrayPrototypeSymbolIterator,\r\n  NativeWeakMap,\r\n  ObjectCreate,\r\n  ObjectDefineProperty,\r\n  ReflectGetOwnPropertyDescriptor,\r\n  ReflectOwnKeys,\r\n  SymbolIterator,\r\n  WeakMapPrototypeGet,\r\n  WeakMapPrototypeSet,\r\n} from \"./primordials.mjs\";\r\n\r\n/** @type {WeakMap<{}, IterableIterator<any>>} */\r\nconst arrayIterators = new NativeWeakMap();\r\n\r\nconst SafeIteratorPrototype = ObjectCreate(null, {\r\n  next: {\r\n    value: function next() {\r\n      const arrayIterator = WeakMapPrototypeGet(arrayIterators, this);\r\n      return ArrayIteratorPrototypeNext(arrayIterator);\r\n    },\r\n  },\r\n\r\n  [SymbolIterator]: {\r\n    value: function values() {\r\n      return this;\r\n    },\r\n  },\r\n});\r\n\r\n/**\r\n * Wrap the Array around the SafeIterator If Array.prototype [@@iterator] has been modified\r\n * @type {<T>(array: T[]) => Iterable<T>}\r\n */\r\nexport function safeIfNeeded(array) {\r\n  if (\r\n    array[SymbolIterator] === NativeArrayPrototypeSymbolIterator &&\r\n    ArrayIteratorPrototype.next === ArrayIteratorPrototypeNext\r\n  ) {\r\n    return array;\r\n  }\r\n\r\n  const safe = ObjectCreate(SafeIteratorPrototype);\r\n  WeakMapPrototypeSet(arrayIterators, safe, ArrayPrototypeSymbolIterator(array));\r\n  return safe;\r\n}\r\n\r\n/** @type {WeakMap<{}, Generator<any>>} */\r\nconst generators = new NativeWeakMap();\r\n\r\n/** @see https://tc39.es/ecma262/#sec-%arrayiteratorprototype%-object */\r\nconst DummyArrayIteratorPrototype = ObjectCreate(IteratorPrototype, {\r\n  next: {\r\n    value: function next() {\r\n      const generator = WeakMapPrototypeGet(generators, this);\r\n      return GeneratorPrototypeNext(generator);\r\n    },\r\n    writable: true,\r\n    configurable: true,\r\n  },\r\n});\r\n\r\nfor (const key of ReflectOwnKeys(ArrayIteratorPrototype)) {\r\n  // next method has already defined\r\n  if (key === \"next\") {\r\n    continue;\r\n  }\r\n\r\n  // Copy ArrayIteratorPrototype descriptors to DummyArrayIteratorPrototype\r\n  ObjectDefineProperty(DummyArrayIteratorPrototype, key, ReflectGetOwnPropertyDescriptor(ArrayIteratorPrototype, key));\r\n}\r\n\r\n/**\r\n * Wrap the Generator around the dummy ArrayIterator\r\n * @type {<T>(generator: Generator<T>) => IterableIterator<T>}\r\n */\r\nexport function wrap(generator) {\r\n  const dummy = ObjectCreate(DummyArrayIteratorPrototype);\r\n  WeakMapPrototypeSet(generators, dummy, generator);\r\n  return dummy;\r\n}\r\n", "import {\r\n  ArrayBufferPrototypeGetByteLength,\r\n  ArrayIsArray,\r\n  ArrayIteratorPrototype,\r\n  ArrayIteratorPrototypeNext,\r\n  MathTrunc,\r\n  NativeArrayPrototypeSymbolIterator,\r\n  NativeSharedArrayBuffer,\r\n  NativeTypedArrayPrototypeSymbolIterator,\r\n  NumberIsFinite,\r\n  SharedArrayBufferPrototypeGetByteLength,\r\n  SymbolIterator,\r\n  TypedArrayPrototypeGetSymbolToStringTag,\r\n} from \"./primordials.mjs\";\r\n\r\n/**\r\n * @param {unknown} value\r\n * @returns {value is {}}\r\n */\r\nexport function isObject(value) {\r\n  return (\r\n    (value !== null && typeof value === \"object\") ||\r\n    typeof value === \"function\"\r\n  );\r\n}\r\n\r\n/**\r\n * @param {unknown} value\r\n * @returns {value is {}}\r\n */\r\nexport function isObjectLike(value) {\r\n  return value !== null && typeof value === \"object\";\r\n}\r\n\r\n// Inspired by util.types implementation of Node.js\r\n/** @typedef {Uint8Array|Uint8ClampedArray|Uint16Array|Uint32Array|Int8Array|Int16Array|Int32Array|Float32Array|Float64Array|BigUint64Array|BigInt64Array} TypedArray */\r\n\r\n/**\r\n * @param {unknown} value\r\n * @returns {value is TypedArray}\r\n */\r\nexport function isNativeTypedArray(value) {\r\n  return TypedArrayPrototypeGetSymbolToStringTag(value) !== undefined;\r\n}\r\n\r\n/**\r\n * @param {unknown} value\r\n * @returns {value is BigInt64Array|BigUint64Array}\r\n */\r\nexport function isNativeBigIntTypedArray(value) {\r\n  const typedArrayName = TypedArrayPrototypeGetSymbolToStringTag(value);\r\n  return (\r\n    typedArrayName === \"BigInt64Array\" ||\r\n    typedArrayName === \"BigUint64Array\"\r\n  );\r\n}\r\n\r\n/**\r\n * @param {unknown} value\r\n * @returns {value is ArrayBuffer}\r\n */\r\nfunction isArrayBuffer(value) {\r\n  try {\r\n    // ArrayBuffers are never arrays\r\n    if (ArrayIsArray(value)) {\r\n      return false;\r\n    }\r\n    ArrayBufferPrototypeGetByteLength(/** @type {any} */ (value));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * @param {unknown} value\r\n * @returns {value is SharedArrayBuffer}\r\n */\r\nexport function isSharedArrayBuffer(value) {\r\n  if (NativeSharedArrayBuffer === null) {\r\n    return false;\r\n  }\r\n\r\n  try {\r\n    SharedArrayBufferPrototypeGetByteLength(/** @type {any} */ (value));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * @param {unknown} value\r\n * @returns {value is ArrayBuffer|SharedArrayBuffer}\r\n */\r\nexport function isAnyArrayBuffer(value) {\r\n  return isArrayBuffer(value) || isSharedArrayBuffer(value);\r\n}\r\n\r\n/**\r\n * @param {unknown} value\r\n * @returns {value is unknown[]}\r\n */\r\nexport function isOrdinaryArray(value) {\r\n  if (!ArrayIsArray(value)) {\r\n    return false;\r\n  }\r\n\r\n  // Verify that there are no changes in ArrayIterator\r\n  return (\r\n    value[SymbolIterator] === NativeArrayPrototypeSymbolIterator &&\r\n    ArrayIteratorPrototype.next === ArrayIteratorPrototypeNext\r\n  );\r\n}\r\n\r\n/**\r\n * @param {unknown} value\r\n * @returns {value is TypedArray}\r\n */\r\nexport function isOrdinaryNativeTypedArray(value) {\r\n  if (!isNativeTypedArray(value)) {\r\n    return false;\r\n  }\r\n\r\n  // Verify that there are no changes in ArrayIterator\r\n  return (\r\n    value[SymbolIterator] === NativeTypedArrayPrototypeSymbolIterator &&\r\n    ArrayIteratorPrototype.next === ArrayIteratorPrototypeNext\r\n  );\r\n}\r\n\r\n/**\r\n * @param {unknown} value\r\n * @returns {value is string}\r\n */\r\nexport function isCanonicalIntegerIndexString(value) {\r\n  if (typeof value !== \"string\") {\r\n    return false;\r\n  }\r\n\r\n  const number = +value;\r\n  if (value !== number + \"\") {\r\n    return false;\r\n  }\r\n\r\n  if (!NumberIsFinite(number)) {\r\n    return false;\r\n  }\r\n\r\n  return number === MathTrunc(number);\r\n}\r\n", "import { isObject, isObjectLike } from \"./is.mjs\";\r\nimport { THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT } from \"./messages.mjs\";\r\nimport { NativeTypeError, ReflectGetPrototypeOf, ReflectHas, SymbolFor } from \"./primordials.mjs\";\r\n\r\nexport const brand = SymbolFor(\"__Float16Array__\");\r\n\r\n/**\r\n * @param {unknown} target\r\n * @throws {TypeError}\r\n * @returns {boolean}\r\n */\r\nexport function hasFloat16ArrayBrand(target) {\r\n  if (!isObjectLike(target)) {\r\n    return false;\r\n  }\r\n\r\n  const prototype = ReflectGetPrototypeOf(target);\r\n  if (!isObjectLike(prototype)) {\r\n    return false;\r\n  }\r\n\r\n  const constructor = prototype.constructor;\r\n  if (constructor === undefined) {\r\n    return false;\r\n  }\r\n  if (!isObject(constructor)) {\r\n    throw NativeTypeError(THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);\r\n  }\r\n\r\n  return ReflectHas(constructor, brand);\r\n}\r\n", "import {\r\n  EPSILON,\r\n  MathAbs,\r\n  NativeArrayBuffer,\r\n  NativeFloat32Array,\r\n  NativeUint16Array,\r\n  NativeUint32Array,\r\n  NativeUint8Array,\r\n  NumberIsFinite,\r\n  NumberIsNaN,\r\n} from \"./primordials.mjs\";\r\n\r\nconst INVERSE_OF_EPSILON = 1 / EPSILON;\r\n\r\n/**\r\n * rounds to the nearest value;\r\n * if the number falls midway, it is rounded to the nearest value with an even least significant digit\r\n * @param {number} num\r\n * @returns {number}\r\n */\r\nfunction roundTiesToEven(num) {\r\n  return (num + INVERSE_OF_EPSILON) - INVERSE_OF_EPSILON;\r\n}\r\n\r\nconst FLOAT16_MIN_VALUE = 6.103515625e-05;\r\nconst FLOAT16_MAX_VALUE = 65504;\r\nconst FLOAT16_EPSILON = 0.0009765625;\r\n\r\nconst FLOAT16_EPSILON_MULTIPLIED_BY_FLOAT16_MIN_VALUE = FLOAT16_EPSILON * FLOAT16_MIN_VALUE;\r\nconst FLOAT16_EPSILON_DEVIDED_BY_EPSILON = FLOAT16_EPSILON * INVERSE_OF_EPSILON;\r\n\r\n/**\r\n * round a number to a half float number\r\n * @param {unknown} num - double float\r\n * @returns {number} half float number\r\n */\r\nexport function roundToFloat16(num) {\r\n  const number = +num;\r\n\r\n  // NaN, Infinity, -Infinity, 0, -0\r\n  if (!NumberIsFinite(number) || number === 0) {\r\n    return number;\r\n  }\r\n\r\n  // finite except 0, -0\r\n  const sign = number > 0 ? 1 : -1;\r\n  const absolute = MathAbs(number);\r\n\r\n  // small number\r\n  if (absolute < FLOAT16_MIN_VALUE) {\r\n    return sign * roundTiesToEven(absolute / FLOAT16_EPSILON_MULTIPLIED_BY_FLOAT16_MIN_VALUE) * FLOAT16_EPSILON_MULTIPLIED_BY_FLOAT16_MIN_VALUE;\r\n  }\r\n\r\n  const temp = (1 + FLOAT16_EPSILON_DEVIDED_BY_EPSILON) * absolute;\r\n  const result = temp - (temp - absolute);\r\n\r\n  // large number\r\n  if (result > FLOAT16_MAX_VALUE || NumberIsNaN(result)) {\r\n    return sign * Infinity;\r\n  }\r\n\r\n  return sign * result;\r\n}\r\n\r\n// base algorithm: http://fox-toolkit.org/ftp/fasthalffloatconversion.pdf\r\n\r\nconst buffer = new NativeArrayBuffer(4);\r\nconst floatView = new NativeFloat32Array(buffer);\r\nconst uint32View = new NativeUint32Array(buffer);\r\n\r\nconst baseTable = new NativeUint16Array(512);\r\nconst shiftTable = new NativeUint8Array(512);\r\n\r\nfor (let i = 0; i < 256; ++i) {\r\n  const e = i - 127;\r\n\r\n  // very small number (0, -0)\r\n  if (e < -24) {\r\n    baseTable[i]         = 0x0000;\r\n    baseTable[i | 0x100] = 0x8000;\r\n    shiftTable[i]         = 24;\r\n    shiftTable[i | 0x100] = 24;\r\n\r\n  // small number (denorm)\r\n  } else if (e < -14) {\r\n    baseTable[i]         =  0x0400 >> (-e - 14);\r\n    baseTable[i | 0x100] = (0x0400 >> (-e - 14)) | 0x8000;\r\n    shiftTable[i]         = -e - 1;\r\n    shiftTable[i | 0x100] = -e - 1;\r\n\r\n  // normal number\r\n  } else if (e <= 15) {\r\n    baseTable[i]         =  (e + 15) << 10;\r\n    baseTable[i | 0x100] = ((e + 15) << 10) | 0x8000;\r\n    shiftTable[i]         = 13;\r\n    shiftTable[i | 0x100] = 13;\r\n\r\n  // large number (Infinity, -Infinity)\r\n  } else if (e < 128) {\r\n    baseTable[i]         = 0x7c00;\r\n    baseTable[i | 0x100] = 0xfc00;\r\n    shiftTable[i]         = 24;\r\n    shiftTable[i | 0x100] = 24;\r\n\r\n  // stay (NaN, Infinity, -Infinity)\r\n  } else {\r\n    baseTable[i]         = 0x7c00;\r\n    baseTable[i | 0x100] = 0xfc00;\r\n    shiftTable[i]         = 13;\r\n    shiftTable[i | 0x100] = 13;\r\n  }\r\n}\r\n\r\n/**\r\n * round a number to a half float number bits\r\n * @param {unknown} num - double float\r\n * @returns {number} half float number bits\r\n */\r\nexport function roundToFloat16Bits(num) {\r\n  floatView[0] = roundToFloat16(num);\r\n  const f = uint32View[0];\r\n  const e = (f >> 23) & 0x1ff;\r\n  return baseTable[e] + ((f & 0x007fffff) >> shiftTable[e]);\r\n}\r\n\r\nconst mantissaTable = new NativeUint32Array(2048);\r\nfor (let i = 1; i < 1024; ++i) {\r\n  let m = i << 13; // zero pad mantissa bits\r\n  let e = 0; // zero exponent\r\n\r\n  // normalized\r\n  while ((m & 0x00800000) === 0) {\r\n    m <<= 1;\r\n    e -= 0x00800000; // decrement exponent\r\n  }\r\n\r\n  m &= ~0x00800000; // clear leading 1 bit\r\n  e += 0x38800000; // adjust bias\r\n\r\n  mantissaTable[i] = m | e;\r\n}\r\nfor (let i = 1024; i < 2048; ++i) {\r\n  mantissaTable[i] = 0x38000000 + ((i - 1024) << 13);\r\n}\r\n\r\nconst exponentTable = new NativeUint32Array(64);\r\nfor (let i = 1; i < 31; ++i) {\r\n  exponentTable[i] = i << 23;\r\n}\r\nexponentTable[31] = 0x47800000;\r\nexponentTable[32] = 0x80000000;\r\nfor (let i = 33; i < 63; ++i) {\r\n  exponentTable[i] = 0x80000000 + ((i - 32) << 23);\r\n}\r\nexponentTable[63] = 0xc7800000;\r\n\r\nconst offsetTable = new NativeUint16Array(64);\r\nfor (let i = 1; i < 64; ++i) {\r\n  if (i !== 32) {\r\n    offsetTable[i] = 1024;\r\n  }\r\n}\r\n\r\n/**\r\n * convert a half float number bits to a number\r\n * @param {number} float16bits - half float number bits\r\n * @returns {number} double float\r\n */\r\nexport function convertToNumber(float16bits) {\r\n  const i = float16bits >> 10;\r\n  uint32View[0] = mantissaTable[offsetTable[i] + (float16bits & 0x3ff)] + exponentTable[i];\r\n  return floatView[0];\r\n}\r\n", "import { isObject, isSharedArrayBuffer } from \"./is.mjs\";\r\nimport {\r\n  THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT,\r\n  THIS_IS_NOT_AN_OBJECT,\r\n} from \"./messages.mjs\";\r\nimport {\r\n  ArrayBufferPrototypeSlice,\r\n  MAX_SAFE_INTEGER,\r\n  MathTrunc,\r\n  NativeTypeError,\r\n  NumberIsNaN,\r\n  ObjectIs,\r\n  SymbolSpecies,\r\n} from \"./primordials.mjs\";\r\n\r\n/**\r\n * @see https://tc39.es/ecma262/#sec-tointegerorinfinity\r\n * @param {unknown} target\r\n * @returns {number}\r\n */\r\nexport function ToIntegerOrInfinity(target) {\r\n  const number = +target;\r\n\r\n  if (NumberIsNaN(number) || number === 0) {\r\n    return 0;\r\n  }\r\n\r\n  return MathTrunc(number);\r\n}\r\n\r\n/**\r\n * @see https://tc39.es/ecma262/#sec-tolength\r\n * @param {unknown} target\r\n * @returns {number}\r\n */\r\nexport function ToLength(target) {\r\n  const length = ToIntegerOrInfinity(target);\r\n  if (length < 0) {\r\n    return 0;\r\n  }\r\n\r\n  return length < MAX_SAFE_INTEGER\r\n    ? length\r\n    : MAX_SAFE_INTEGER;\r\n}\r\n\r\n/**\r\n * @see https://tc39.es/ecma262/#sec-speciesconstructor\r\n * @param {object} target\r\n * @param {{ new(...args: any[]): any; }} defaultConstructor\r\n * @returns {{ new(...args: any[]): any; }}\r\n */\r\nexport function SpeciesConstructor(target, defaultConstructor) {\r\n  if (!isObject(target)) {\r\n    throw NativeTypeError(THIS_IS_NOT_AN_OBJECT);\r\n  }\r\n\r\n  const constructor = target.constructor;\r\n  if (constructor === undefined) {\r\n    return defaultConstructor;\r\n  }\r\n  if (!isObject(constructor)) {\r\n    throw NativeTypeError(THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);\r\n  }\r\n\r\n  const species = constructor[SymbolSpecies];\r\n  if (species == null) {\r\n    return defaultConstructor;\r\n  }\r\n\r\n  return species;\r\n}\r\n\r\n/**\r\n * @see https://tc39.es/ecma262/#sec-isdetachedbuffer\r\n * @param {ArrayBufferLike} buffer\r\n * @returns {boolean}\r\n */\r\nexport function IsDetachedBuffer(buffer) {\r\n  if (isSharedArrayBuffer(buffer)) {\r\n    return false;\r\n  }\r\n\r\n  try {\r\n    ArrayBufferPrototypeSlice(buffer, 0, 0);\r\n    return false;\r\n  } catch (e) {/* empty */}\r\n\r\n  return true;\r\n}\r\n\r\n/**\r\n * bigint comparisons are not supported\r\n * @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort\r\n * @param {number} x\r\n * @param {number} y\r\n * @returns {-1 | 0 | 1}\r\n */\r\nexport function defaultCompare(x, y) {\r\n  const isXNaN = NumberIsNaN(x);\r\n  const isYNaN = NumberIsNaN(y);\r\n\r\n  if (isXNaN && isYNaN) {\r\n    return 0;\r\n  }\r\n\r\n  if (isXNaN) {\r\n    return 1;\r\n  }\r\n\r\n  if (isYNaN) {\r\n    return -1;\r\n  }\r\n\r\n  if (x < y) {\r\n    return -1;\r\n  }\r\n\r\n  if (x > y) {\r\n    return 1;\r\n  }\r\n\r\n  if (x === 0 && y === 0) {\r\n    const isXPlusZero = ObjectIs(x, 0);\r\n    const isYPlusZero = ObjectIs(y, 0);\r\n\r\n    if (!isXPlusZero && isYPlusZero) {\r\n      return -1;\r\n    }\r\n\r\n    if (isXPlusZero && !isYPlusZero) {\r\n      return 1;\r\n    }\r\n  }\r\n\r\n  return 0;\r\n}\r\n", "import { safeIfNeeded, wrap } from \"./_util/arrayIterator.mjs\";\r\nimport { brand, hasFloat16ArrayBrand } from \"./_util/brand.mjs\";\r\nimport { convertToNumber, roundToFloat16Bits } from \"./_util/converter.mjs\";\r\nimport {\r\n  isAnyArrayBuffer,\r\n  isCanonicalIntegerIndexString,\r\n  isNativeBigIntTypedArray,\r\n  isNativeTypedArray,\r\n  isObject,\r\n  isOrdinaryArray,\r\n  isOrdinaryNativeTypedArray,\r\n} from \"./_util/is.mjs\";\r\nimport {\r\n  ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER,\r\n  CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT,\r\n  CANNOT_MIX_BIGINT_AND_OTHER_TYPES,\r\n  DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH,\r\n  ITERATOR_PROPERTY_IS_NOT_CALLABLE,\r\n  OFFSET_IS_OUT_OF_BOUNDS,\r\n  REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE,\r\n  SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT,\r\n  THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED,\r\n  THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY,\r\n  THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT,\r\n} from \"./_util/messages.mjs\";\r\nimport {\r\n  ArrayBufferIsView,\r\n  ArrayPrototypeJoin,\r\n  ArrayPrototypePush,\r\n  ArrayPrototypeToLocaleString,\r\n  NativeArrayBuffer,\r\n  NativeObject,\r\n  NativeProxy,\r\n  NativeRangeError,\r\n  NativeTypeError,\r\n  NativeUint16Array,\r\n  NativeWeakMap,\r\n  NativeWeakSet,\r\n  NumberIsNaN,\r\n  ObjectDefineProperty,\r\n  ObjectFreeze,\r\n  ObjectHasOwn,\r\n  ObjectPrototype__lookupGetter__,\r\n  ReflectApply,\r\n  ReflectConstruct,\r\n  ReflectDefineProperty,\r\n  ReflectGet,\r\n  ReflectGetOwnPropertyDescriptor,\r\n  ReflectHas,\r\n  ReflectOwnKeys,\r\n  ReflectSet,\r\n  ReflectSetPrototypeOf,\r\n  SymbolIterator,\r\n  SymbolToStringTag,\r\n  TypedArray,\r\n  TypedArrayPrototype,\r\n  TypedArrayPrototypeCopyWithin,\r\n  TypedArrayPrototypeEntries,\r\n  TypedArrayPrototypeFill,\r\n  TypedArrayPrototypeGetBuffer,\r\n  TypedArrayPrototypeGetByteOffset,\r\n  TypedArrayPrototypeGetLength,\r\n  TypedArrayPrototypeKeys,\r\n  TypedArrayPrototypeReverse,\r\n  TypedArrayPrototypeSet,\r\n  TypedArrayPrototypeSlice,\r\n  TypedArrayPrototypeSort,\r\n  TypedArrayPrototypeSubarray,\r\n  TypedArrayPrototypeValues,\r\n  Uint16ArrayFrom,\r\n  WeakMapPrototypeGet,\r\n  WeakMapPrototypeHas,\r\n  WeakMapPrototypeSet,\r\n  WeakSetPrototypeAdd,\r\n  WeakSetPrototypeHas,\r\n} from \"./_util/primordials.mjs\";\r\nimport {\r\n  IsDetachedBuffer,\r\n  SpeciesConstructor,\r\n  ToIntegerOrInfinity,\r\n  ToLength,\r\n  defaultCompare,\r\n} from \"./_util/spec.mjs\";\r\n\r\nconst BYTES_PER_ELEMENT = 2;\r\n\r\n/** @typedef {Uint16Array & { __float16bits: never }} Float16BitsArray */\r\n\r\n/** @type {WeakMap<Float16Array, Float16BitsArray>} */\r\nconst float16bitsArrays = new NativeWeakMap();\r\n\r\n/**\r\n * @param {unknown} target\r\n * @returns {target is Float16Array}\r\n */\r\nexport function isFloat16Array(target) {\r\n  return WeakMapPrototypeHas(float16bitsArrays, target) ||\r\n    (!ArrayBufferIsView(target) && hasFloat16ArrayBrand(target));\r\n}\r\n\r\n/**\r\n * @param {unknown} target\r\n * @throws {TypeError}\r\n * @returns {asserts target is Float16Array}\r\n */\r\nfunction assertFloat16Array(target) {\r\n  if (!isFloat16Array(target)) {\r\n    throw NativeTypeError(THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT);\r\n  }\r\n}\r\n\r\n/**\r\n * @param {unknown} target\r\n * @param {number=} count\r\n * @throws {TypeError}\r\n * @returns {asserts target is Uint8Array|Uint8ClampedArray|Uint16Array|Uint32Array|Int8Array|Int16Array|Int32Array|Float16Array|Float32Array|Float64Array}\r\n */\r\nfunction assertSpeciesTypedArray(target, count) {\r\n  const isTargetFloat16Array = isFloat16Array(target);\r\n  const isTargetTypedArray = isNativeTypedArray(target);\r\n\r\n  if (!isTargetFloat16Array && !isTargetTypedArray) {\r\n    throw NativeTypeError(SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);\r\n  }\r\n\r\n  if (typeof count === \"number\") {\r\n    let length;\r\n    if (isTargetFloat16Array) {\r\n      const float16bitsArray = getFloat16BitsArray(target);\r\n      length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    } else {\r\n      length = TypedArrayPrototypeGetLength(target);\r\n    }\r\n\r\n    if (length < count) {\r\n      throw NativeTypeError(\r\n        DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH\r\n      );\r\n    }\r\n  }\r\n\r\n  if (isNativeBigIntTypedArray(target)) {\r\n    throw NativeTypeError(CANNOT_MIX_BIGINT_AND_OTHER_TYPES);\r\n  }\r\n}\r\n\r\n/**\r\n * @param {Float16Array} float16\r\n * @throws {TypeError}\r\n * @returns {Float16BitsArray}\r\n */\r\nfunction getFloat16BitsArray(float16) {\r\n  const float16bitsArray = WeakMapPrototypeGet(float16bitsArrays, float16);\r\n  if (float16bitsArray !== undefined) {\r\n    const buffer = TypedArrayPrototypeGetBuffer(float16bitsArray);\r\n\r\n    if (IsDetachedBuffer(buffer)) {\r\n      throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\r\n    }\r\n\r\n    return float16bitsArray;\r\n  }\r\n\r\n  // from another Float16Array instance (a different version?)\r\n  const buffer = /** @type {any} */ (float16).buffer;\r\n\r\n  if (IsDetachedBuffer(buffer)) {\r\n    throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\r\n  }\r\n\r\n  const cloned = ReflectConstruct(Float16Array, [\r\n    buffer,\r\n    /** @type {any} */ (float16).byteOffset,\r\n    /** @type {any} */ (float16).length,\r\n  ], float16.constructor);\r\n  return WeakMapPrototypeGet(float16bitsArrays, cloned);\r\n}\r\n\r\n/**\r\n * @param {Float16BitsArray} float16bitsArray\r\n * @returns {number[]}\r\n */\r\nfunction copyToArray(float16bitsArray) {\r\n  const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n\r\n  const array = [];\r\n  for (let i = 0; i < length; ++i) {\r\n    array[i] = convertToNumber(float16bitsArray[i]);\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\n/** @type {WeakSet<Function>} */\r\nconst TypedArrayPrototypeGetters = new NativeWeakSet();\r\nfor (const key of ReflectOwnKeys(TypedArrayPrototype)) {\r\n  // @@toStringTag getter property is defined in Float16Array.prototype\r\n  if (key === SymbolToStringTag) {\r\n    continue;\r\n  }\r\n\r\n  const descriptor = ReflectGetOwnPropertyDescriptor(TypedArrayPrototype, key);\r\n  if (ObjectHasOwn(descriptor, \"get\") && typeof descriptor.get === \"function\") {\r\n    WeakSetPrototypeAdd(TypedArrayPrototypeGetters, descriptor.get);\r\n  }\r\n}\r\n\r\nconst handler = ObjectFreeze(/** @type {ProxyHandler<Float16BitsArray>} */ ({\r\n  get(target, key, receiver) {\r\n    if (isCanonicalIntegerIndexString(key) && ObjectHasOwn(target, key)) {\r\n      return convertToNumber(ReflectGet(target, key));\r\n    }\r\n\r\n    // %TypedArray%.prototype getter properties cannot called by Proxy receiver\r\n    if (WeakSetPrototypeHas(TypedArrayPrototypeGetters, ObjectPrototype__lookupGetter__(target, key))) {\r\n      return ReflectGet(target, key);\r\n    }\r\n\r\n    return ReflectGet(target, key, receiver);\r\n  },\r\n\r\n  set(target, key, value, receiver) {\r\n    if (isCanonicalIntegerIndexString(key) && ObjectHasOwn(target, key)) {\r\n      return ReflectSet(target, key, roundToFloat16Bits(value));\r\n    }\r\n\r\n    return ReflectSet(target, key, value, receiver);\r\n  },\r\n\r\n  getOwnPropertyDescriptor(target, key) {\r\n    if (isCanonicalIntegerIndexString(key) && ObjectHasOwn(target, key)) {\r\n      const descriptor = ReflectGetOwnPropertyDescriptor(target, key);\r\n      descriptor.value = convertToNumber(descriptor.value);\r\n      return descriptor;\r\n    }\r\n\r\n    return ReflectGetOwnPropertyDescriptor(target, key);\r\n  },\r\n\r\n  defineProperty(target, key, descriptor) {\r\n    if (\r\n      isCanonicalIntegerIndexString(key) &&\r\n      ObjectHasOwn(target, key) &&\r\n      ObjectHasOwn(descriptor, \"value\")\r\n    ) {\r\n      descriptor.value = roundToFloat16Bits(descriptor.value);\r\n      return ReflectDefineProperty(target, key, descriptor);\r\n    }\r\n\r\n    return ReflectDefineProperty(target, key, descriptor);\r\n  },\r\n}));\r\n\r\nexport class Float16Array {\r\n  /** @see https://tc39.es/ecma262/#sec-typedarray */\r\n  constructor(input, _byteOffset, _length) {\r\n    /** @type {Float16BitsArray} */\r\n    let float16bitsArray;\r\n\r\n    if (isFloat16Array(input)) {\r\n      float16bitsArray = ReflectConstruct(NativeUint16Array, [getFloat16BitsArray(input)], new.target);\r\n    } else if (isObject(input) && !isAnyArrayBuffer(input)) { // object without ArrayBuffer, SharedArrayBuffer\r\n      /** @type {ArrayLike<unknown>} */\r\n      let list;\r\n      /** @type {number} */\r\n      let length;\r\n\r\n      if (isNativeTypedArray(input)) { // TypedArray\r\n        list = input;\r\n        length = TypedArrayPrototypeGetLength(input);\r\n\r\n        const buffer = TypedArrayPrototypeGetBuffer(input);\r\n\r\n        if (IsDetachedBuffer(buffer)) {\r\n          throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\r\n        }\r\n\r\n        if (isNativeBigIntTypedArray(input)) {\r\n          throw NativeTypeError(CANNOT_MIX_BIGINT_AND_OTHER_TYPES);\r\n        }\r\n\r\n        const data = new NativeArrayBuffer(\r\n          length * BYTES_PER_ELEMENT\r\n        );\r\n        float16bitsArray = ReflectConstruct(NativeUint16Array, [data], new.target);\r\n      } else {\r\n        const iterator = input[SymbolIterator];\r\n        if (iterator != null && typeof iterator !== \"function\") {\r\n          throw NativeTypeError(ITERATOR_PROPERTY_IS_NOT_CALLABLE);\r\n        }\r\n\r\n        if (iterator != null) { // Iterable (Array)\r\n          // for optimization\r\n          if (isOrdinaryArray(input)) {\r\n            list = input;\r\n            length = input.length;\r\n          } else {\r\n            // eslint-disable-next-line no-restricted-syntax\r\n            list = [... /** @type {Iterable<unknown>} */ (input)];\r\n            length = list.length;\r\n          }\r\n        } else { // ArrayLike\r\n          list = /** @type {ArrayLike<unknown>} */ (input);\r\n          length = ToLength(list.length);\r\n        }\r\n        float16bitsArray = ReflectConstruct(NativeUint16Array, [length], new.target);\r\n      }\r\n\r\n      // set values\r\n      for (let i = 0; i < length; ++i) {\r\n        float16bitsArray[i] = roundToFloat16Bits(list[i]);\r\n      }\r\n    } else { // primitive, ArrayBuffer, SharedArrayBuffer\r\n      float16bitsArray = ReflectConstruct(NativeUint16Array, arguments, new.target);\r\n    }\r\n\r\n    /** @type {Float16Array} */\r\n    const proxy = /** @type {any} */ (new NativeProxy(float16bitsArray, handler));\r\n\r\n    // proxy private storage\r\n    WeakMapPrototypeSet(float16bitsArrays, proxy, float16bitsArray);\r\n\r\n    return proxy;\r\n  }\r\n\r\n  /**\r\n   * limitation: `Object.getOwnPropertyNames(Float16Array)` or `Reflect.ownKeys(Float16Array)` include this key\r\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.from\r\n   */\r\n  static from(src, ...opts) {\r\n    const Constructor = this;\r\n\r\n    if (!ReflectHas(Constructor, brand)) {\r\n      throw NativeTypeError(\r\n        THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY\r\n      );\r\n    }\r\n\r\n    // for optimization\r\n    if (Constructor === Float16Array) {\r\n      if (isFloat16Array(src) && opts.length === 0) {\r\n        const float16bitsArray = getFloat16BitsArray(src);\r\n        const uint16 = new NativeUint16Array(\r\n          TypedArrayPrototypeGetBuffer(float16bitsArray),\r\n          TypedArrayPrototypeGetByteOffset(float16bitsArray),\r\n          TypedArrayPrototypeGetLength(float16bitsArray)\r\n        );\r\n        return new Float16Array(\r\n          TypedArrayPrototypeGetBuffer(TypedArrayPrototypeSlice(uint16))\r\n        );\r\n      }\r\n\r\n      if (opts.length === 0) {\r\n        return new Float16Array(\r\n          TypedArrayPrototypeGetBuffer(\r\n            Uint16ArrayFrom(src, roundToFloat16Bits)\r\n          )\r\n        );\r\n      }\r\n\r\n      const mapFunc = opts[0];\r\n      const thisArg = opts[1];\r\n\r\n      return new Float16Array(\r\n        TypedArrayPrototypeGetBuffer(\r\n          Uint16ArrayFrom(src, function (val, ...args) {\r\n            return roundToFloat16Bits(\r\n              ReflectApply(mapFunc, this, [val, ...safeIfNeeded(args)])\r\n            );\r\n          }, thisArg)\r\n        )\r\n      );\r\n    }\r\n\r\n    /** @type {ArrayLike<unknown>} */\r\n    let list;\r\n    /** @type {number} */\r\n    let length;\r\n\r\n    const iterator = src[SymbolIterator];\r\n    if (iterator != null && typeof iterator !== \"function\") {\r\n      throw NativeTypeError(ITERATOR_PROPERTY_IS_NOT_CALLABLE);\r\n    }\r\n\r\n    if (iterator != null) { // Iterable (TypedArray, Array)\r\n      // for optimization\r\n      if (isOrdinaryArray(src)) {\r\n        list = src;\r\n        length = src.length;\r\n      } else if (isOrdinaryNativeTypedArray(src)) {\r\n        list = src;\r\n        length = TypedArrayPrototypeGetLength(src);\r\n      } else {\r\n        // eslint-disable-next-line no-restricted-syntax\r\n        list = [...src];\r\n        length = list.length;\r\n      }\r\n    } else { // ArrayLike\r\n      if (src == null) {\r\n        throw NativeTypeError(\r\n          CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT\r\n        );\r\n      }\r\n      list = NativeObject(src);\r\n      length = ToLength(list.length);\r\n    }\r\n\r\n    const array = new Constructor(length);\r\n\r\n    if (opts.length === 0) {\r\n      for (let i = 0; i < length; ++i) {\r\n        array[i] = /** @type {number} */ (list[i]);\r\n      }\r\n    } else {\r\n      const mapFunc = opts[0];\r\n      const thisArg = opts[1];\r\n      for (let i = 0; i < length; ++i) {\r\n        array[i] = ReflectApply(mapFunc, thisArg, [list[i], i]);\r\n      }\r\n    }\r\n\r\n    return array;\r\n  }\r\n\r\n  /**\r\n   * limitation: `Object.getOwnPropertyNames(Float16Array)` or `Reflect.ownKeys(Float16Array)` include this key\r\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.of\r\n   */\r\n  static of(...items) {\r\n    const Constructor = this;\r\n\r\n    if (!ReflectHas(Constructor, brand)) {\r\n      throw NativeTypeError(\r\n        THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY\r\n      );\r\n    }\r\n\r\n    const length = items.length;\r\n\r\n    // for optimization\r\n    if (Constructor === Float16Array) {\r\n      const proxy = new Float16Array(length);\r\n      const float16bitsArray = getFloat16BitsArray(proxy);\r\n\r\n      for (let i = 0; i < length; ++i) {\r\n        float16bitsArray[i] = roundToFloat16Bits(items[i]);\r\n      }\r\n\r\n      return proxy;\r\n    }\r\n\r\n    const array = new Constructor(length);\r\n\r\n    for (let i = 0; i < length; ++i) {\r\n      array[i] = items[i];\r\n    }\r\n\r\n    return array;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.keys */\r\n  keys() {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    return TypedArrayPrototypeKeys(float16bitsArray);\r\n  }\r\n\r\n  /**\r\n   * limitation: returns a object whose prototype is not `%ArrayIteratorPrototype%`\r\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.values\r\n   */\r\n  values() {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    return wrap((function* () {\r\n      // eslint-disable-next-line no-restricted-syntax\r\n      for (const val of TypedArrayPrototypeValues(float16bitsArray)) {\r\n        yield convertToNumber(val);\r\n      }\r\n    })());\r\n  }\r\n\r\n  /**\r\n   * limitation: returns a object whose prototype is not `%ArrayIteratorPrototype%`\r\n   * @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.entries\r\n   */\r\n  entries() {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    return wrap((function* () {\r\n      // eslint-disable-next-line no-restricted-syntax\r\n      for (const [i, val] of TypedArrayPrototypeEntries(float16bitsArray)) {\r\n        yield /** @type {[number, number]} */ ([i, convertToNumber(val)]);\r\n      }\r\n    })());\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.at */\r\n  at(index) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const relativeIndex = ToIntegerOrInfinity(index);\r\n    const k = relativeIndex >= 0 ? relativeIndex : length + relativeIndex;\r\n\r\n    if (k < 0 || k >= length) {\r\n      return;\r\n    }\r\n\r\n    return convertToNumber(float16bitsArray[k]);\r\n  }\r\n\r\n  /** @see https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.with */\r\n  with(index, value) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const relativeIndex = ToIntegerOrInfinity(index);\r\n    const k = relativeIndex >= 0 ? relativeIndex : length + relativeIndex;\r\n\r\n    const number = +value;\r\n\r\n    if (k < 0 || k >= length) {\r\n      throw NativeRangeError(OFFSET_IS_OUT_OF_BOUNDS);\r\n    }\r\n\r\n    // don't use SpeciesConstructor\r\n    const uint16 = new NativeUint16Array(\r\n      TypedArrayPrototypeGetBuffer(float16bitsArray),\r\n      TypedArrayPrototypeGetByteOffset(float16bitsArray),\r\n      TypedArrayPrototypeGetLength(float16bitsArray)\r\n    );\r\n    const cloned = new Float16Array(\r\n      TypedArrayPrototypeGetBuffer(\r\n        TypedArrayPrototypeSlice(uint16)\r\n      )\r\n    );\r\n    const array = getFloat16BitsArray(cloned);\r\n\r\n    array[k] = roundToFloat16Bits(number);\r\n\r\n    return cloned;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.map */\r\n  map(callback, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const thisArg = opts[0];\r\n\r\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\r\n\r\n    // for optimization\r\n    if (Constructor === Float16Array) {\r\n      const proxy = new Float16Array(length);\r\n      const array = getFloat16BitsArray(proxy);\r\n\r\n      for (let i = 0; i < length; ++i) {\r\n        const val = convertToNumber(float16bitsArray[i]);\r\n        array[i] = roundToFloat16Bits(\r\n          ReflectApply(callback, thisArg, [val, i, this])\r\n        );\r\n      }\r\n\r\n      return proxy;\r\n    }\r\n\r\n    const array = new Constructor(length);\r\n    assertSpeciesTypedArray(array, length);\r\n\r\n    for (let i = 0; i < length; ++i) {\r\n      const val = convertToNumber(float16bitsArray[i]);\r\n      array[i] = ReflectApply(callback, thisArg, [val, i, this]);\r\n    }\r\n\r\n    return /** @type {any} */ (array);\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.filter */\r\n  filter(callback, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const thisArg = opts[0];\r\n\r\n    const kept = [];\r\n    for (let i = 0; i < length; ++i) {\r\n      const val = convertToNumber(float16bitsArray[i]);\r\n      if (ReflectApply(callback, thisArg, [val, i, this])) {\r\n        ArrayPrototypePush(kept, val);\r\n      }\r\n    }\r\n\r\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\r\n    const array = new Constructor(kept);\r\n    assertSpeciesTypedArray(array);\r\n\r\n    return /** @type {any} */ (array);\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduce */\r\n  reduce(callback, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    if (length === 0 && opts.length === 0) {\r\n      throw NativeTypeError(REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);\r\n    }\r\n\r\n    let accumulator, start;\r\n    if (opts.length === 0) {\r\n      accumulator = convertToNumber(float16bitsArray[0]);\r\n      start = 1;\r\n    } else {\r\n      accumulator = opts[0];\r\n      start = 0;\r\n    }\r\n\r\n    for (let i = start; i < length; ++i) {\r\n      accumulator = callback(\r\n        accumulator,\r\n        convertToNumber(float16bitsArray[i]),\r\n        i,\r\n        this\r\n      );\r\n    }\r\n\r\n    return accumulator;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduceright */\r\n  reduceRight(callback, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    if (length === 0 && opts.length === 0) {\r\n      throw NativeTypeError(REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);\r\n    }\r\n\r\n    let accumulator, start;\r\n    if (opts.length === 0) {\r\n      accumulator = convertToNumber(float16bitsArray[length - 1]);\r\n      start = length - 2;\r\n    } else {\r\n      accumulator = opts[0];\r\n      start = length - 1;\r\n    }\r\n\r\n    for (let i = start; i >= 0; --i) {\r\n      accumulator = callback(\r\n        accumulator,\r\n        convertToNumber(float16bitsArray[i]),\r\n        i,\r\n        this\r\n      );\r\n    }\r\n\r\n    return accumulator;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.foreach */\r\n  forEach(callback, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const thisArg = opts[0];\r\n\r\n    for (let i = 0; i < length; ++i) {\r\n      ReflectApply(callback, thisArg, [\r\n        convertToNumber(float16bitsArray[i]),\r\n        i,\r\n        this,\r\n      ]);\r\n    }\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.find */\r\n  find(callback, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const thisArg = opts[0];\r\n\r\n    for (let i = 0; i < length; ++i) {\r\n      const value = convertToNumber(float16bitsArray[i]);\r\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\r\n        return value;\r\n      }\r\n    }\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.findindex */\r\n  findIndex(callback, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const thisArg = opts[0];\r\n\r\n    for (let i = 0; i < length; ++i) {\r\n      const value = convertToNumber(float16bitsArray[i]);\r\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\r\n        return i;\r\n      }\r\n    }\r\n\r\n    return -1;\r\n  }\r\n\r\n  /** @see https://tc39.es/proposal-array-find-from-last/index.html#sec-%typedarray%.prototype.findlast */\r\n  findLast(callback, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const thisArg = opts[0];\r\n\r\n    for (let i = length - 1; i >= 0; --i) {\r\n      const value = convertToNumber(float16bitsArray[i]);\r\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\r\n        return value;\r\n      }\r\n    }\r\n  }\r\n\r\n  /** @see https://tc39.es/proposal-array-find-from-last/index.html#sec-%typedarray%.prototype.findlastindex */\r\n  findLastIndex(callback, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const thisArg = opts[0];\r\n\r\n    for (let i = length - 1; i >= 0; --i) {\r\n      const value = convertToNumber(float16bitsArray[i]);\r\n      if (ReflectApply(callback, thisArg, [value, i, this])) {\r\n        return i;\r\n      }\r\n    }\r\n\r\n    return -1;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.every */\r\n  every(callback, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const thisArg = opts[0];\r\n\r\n    for (let i = 0; i < length; ++i) {\r\n      if (\r\n        !ReflectApply(callback, thisArg, [\r\n          convertToNumber(float16bitsArray[i]),\r\n          i,\r\n          this,\r\n        ])\r\n      ) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.some */\r\n  some(callback, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const thisArg = opts[0];\r\n\r\n    for (let i = 0; i < length; ++i) {\r\n      if (\r\n        ReflectApply(callback, thisArg, [\r\n          convertToNumber(float16bitsArray[i]),\r\n          i,\r\n          this,\r\n        ])\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.set */\r\n  set(input, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const targetOffset = ToIntegerOrInfinity(opts[0]);\r\n    if (targetOffset < 0) {\r\n      throw NativeRangeError(OFFSET_IS_OUT_OF_BOUNDS);\r\n    }\r\n\r\n    if (input == null) {\r\n      throw NativeTypeError(\r\n        CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT\r\n      );\r\n    }\r\n\r\n    if (isNativeBigIntTypedArray(input)) {\r\n      throw NativeTypeError(\r\n        CANNOT_MIX_BIGINT_AND_OTHER_TYPES\r\n      );\r\n    }\r\n\r\n    // for optimization\r\n    if (isFloat16Array(input)) {\r\n      // peel off Proxy\r\n      return TypedArrayPrototypeSet(\r\n        getFloat16BitsArray(this),\r\n        getFloat16BitsArray(input),\r\n        targetOffset\r\n      );\r\n    }\r\n\r\n    if (isNativeTypedArray(input)) {\r\n      const buffer = TypedArrayPrototypeGetBuffer(input);\r\n      if (IsDetachedBuffer(buffer)) {\r\n        throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\r\n      }\r\n    }\r\n\r\n    const targetLength = TypedArrayPrototypeGetLength(float16bitsArray);\r\n\r\n    const src = NativeObject(input);\r\n    const srcLength = ToLength(src.length);\r\n\r\n    if (targetOffset === Infinity || srcLength + targetOffset > targetLength) {\r\n      throw NativeRangeError(OFFSET_IS_OUT_OF_BOUNDS);\r\n    }\r\n\r\n    for (let i = 0; i < srcLength; ++i) {\r\n      float16bitsArray[i + targetOffset] = roundToFloat16Bits(src[i]);\r\n    }\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.reverse */\r\n  reverse() {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    TypedArrayPrototypeReverse(float16bitsArray);\r\n\r\n    return this;\r\n  }\r\n\r\n  /** @see https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.toReversed */\r\n  toReversed() {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    // don't use SpeciesConstructor\r\n    const uint16 = new NativeUint16Array(\r\n      TypedArrayPrototypeGetBuffer(float16bitsArray),\r\n      TypedArrayPrototypeGetByteOffset(float16bitsArray),\r\n      TypedArrayPrototypeGetLength(float16bitsArray)\r\n    );\r\n    const cloned = new Float16Array(\r\n      TypedArrayPrototypeGetBuffer(\r\n        TypedArrayPrototypeSlice(uint16)\r\n      )\r\n    );\r\n\r\n    const clonedFloat16bitsArray = getFloat16BitsArray(cloned);\r\n    TypedArrayPrototypeReverse(clonedFloat16bitsArray);\r\n\r\n    return cloned;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.fill */\r\n  fill(value, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    TypedArrayPrototypeFill(\r\n      float16bitsArray,\r\n      roundToFloat16Bits(value),\r\n      ...safeIfNeeded(opts)\r\n    );\r\n\r\n    return this;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.copywithin */\r\n  copyWithin(target, start, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    TypedArrayPrototypeCopyWithin(float16bitsArray, target, start, ...safeIfNeeded(opts));\r\n\r\n    return this;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort */\r\n  sort(compareFn) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const sortCompare = compareFn !== undefined ? compareFn : defaultCompare;\r\n    TypedArrayPrototypeSort(float16bitsArray, (x, y) => {\r\n      return sortCompare(convertToNumber(x), convertToNumber(y));\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /** @see https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.toSorted */\r\n  toSorted(compareFn) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    if (compareFn !== undefined && typeof compareFn !== \"function\") {\r\n      throw new NativeTypeError(THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED);\r\n    }\r\n    const sortCompare = compareFn !== undefined ? compareFn : defaultCompare;\r\n\r\n    // don't use SpeciesConstructor\r\n    const uint16 = new NativeUint16Array(\r\n      TypedArrayPrototypeGetBuffer(float16bitsArray),\r\n      TypedArrayPrototypeGetByteOffset(float16bitsArray),\r\n      TypedArrayPrototypeGetLength(float16bitsArray)\r\n    );\r\n    const cloned = new Float16Array(\r\n      TypedArrayPrototypeGetBuffer(\r\n        TypedArrayPrototypeSlice(uint16)\r\n      )\r\n    );\r\n\r\n    const clonedFloat16bitsArray = getFloat16BitsArray(cloned);\r\n    TypedArrayPrototypeSort(clonedFloat16bitsArray, (x, y) => {\r\n      return sortCompare(convertToNumber(x), convertToNumber(y));\r\n    });\r\n\r\n    return cloned;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.slice */\r\n  slice(start, end) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\r\n\r\n    // for optimization\r\n    if (Constructor === Float16Array) {\r\n      const uint16 = new NativeUint16Array(\r\n        TypedArrayPrototypeGetBuffer(float16bitsArray),\r\n        TypedArrayPrototypeGetByteOffset(float16bitsArray),\r\n        TypedArrayPrototypeGetLength(float16bitsArray)\r\n      );\r\n      return new Float16Array(\r\n        TypedArrayPrototypeGetBuffer(\r\n          TypedArrayPrototypeSlice(uint16, start, end)\r\n        )\r\n      );\r\n    }\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n    const relativeStart = ToIntegerOrInfinity(start);\r\n    const relativeEnd = end === undefined ? length : ToIntegerOrInfinity(end);\r\n\r\n    let k;\r\n    if (relativeStart === -Infinity) {\r\n      k = 0;\r\n    } else if (relativeStart < 0) {\r\n      k = length + relativeStart > 0 ? length + relativeStart : 0;\r\n    } else {\r\n      k = length < relativeStart ? length : relativeStart;\r\n    }\r\n\r\n    let final;\r\n    if (relativeEnd === -Infinity) {\r\n      final = 0;\r\n    } else if (relativeEnd < 0) {\r\n      final = length + relativeEnd > 0 ? length + relativeEnd : 0;\r\n    } else {\r\n      final = length < relativeEnd ? length : relativeEnd;\r\n    }\r\n\r\n    const count = final - k > 0 ? final - k : 0;\r\n    const array = new Constructor(count);\r\n    assertSpeciesTypedArray(array, count);\r\n\r\n    if (count === 0) {\r\n      return array;\r\n    }\r\n\r\n    const buffer = TypedArrayPrototypeGetBuffer(float16bitsArray);\r\n    if (IsDetachedBuffer(buffer)) {\r\n      throw NativeTypeError(ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\r\n    }\r\n\r\n    let n = 0;\r\n    while (k < final) {\r\n      array[n] = convertToNumber(float16bitsArray[k]);\r\n      ++k;\r\n      ++n;\r\n    }\r\n\r\n    return /** @type {any} */ (array);\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.subarray */\r\n  subarray(begin, end) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const Constructor = SpeciesConstructor(float16bitsArray, Float16Array);\r\n\r\n    const uint16 = new NativeUint16Array(\r\n      TypedArrayPrototypeGetBuffer(float16bitsArray),\r\n      TypedArrayPrototypeGetByteOffset(float16bitsArray),\r\n      TypedArrayPrototypeGetLength(float16bitsArray)\r\n    );\r\n    const uint16Subarray = TypedArrayPrototypeSubarray(uint16, begin, end);\r\n\r\n    const array = new Constructor(\r\n      TypedArrayPrototypeGetBuffer(uint16Subarray),\r\n      TypedArrayPrototypeGetByteOffset(uint16Subarray),\r\n      TypedArrayPrototypeGetLength(uint16Subarray)\r\n    );\r\n    assertSpeciesTypedArray(array);\r\n\r\n    return /** @type {any} */ (array);\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.indexof */\r\n  indexOf(element, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n\r\n    let from = ToIntegerOrInfinity(opts[0]);\r\n    if (from === Infinity) {\r\n      return -1;\r\n    }\r\n\r\n    if (from < 0) {\r\n      from += length;\r\n      if (from < 0) {\r\n        from = 0;\r\n      }\r\n    }\r\n\r\n    for (let i = from; i < length; ++i) {\r\n      if (\r\n        ObjectHasOwn(float16bitsArray, i) &&\r\n        convertToNumber(float16bitsArray[i]) === element\r\n      ) {\r\n        return i;\r\n      }\r\n    }\r\n\r\n    return -1;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.lastindexof */\r\n  lastIndexOf(element, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n\r\n    let from = opts.length >= 1 ? ToIntegerOrInfinity(opts[0]) : length - 1;\r\n    if (from === -Infinity) {\r\n      return -1;\r\n    }\r\n\r\n    if (from >= 0) {\r\n      from = from < length - 1 ? from : length - 1;\r\n    } else {\r\n      from += length;\r\n    }\r\n\r\n    for (let i = from; i >= 0; --i) {\r\n      if (\r\n        ObjectHasOwn(float16bitsArray, i) &&\r\n        convertToNumber(float16bitsArray[i]) === element\r\n      ) {\r\n        return i;\r\n      }\r\n    }\r\n\r\n    return -1;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.includes */\r\n  includes(element, ...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const length = TypedArrayPrototypeGetLength(float16bitsArray);\r\n\r\n    let from = ToIntegerOrInfinity(opts[0]);\r\n    if (from === Infinity) {\r\n      return false;\r\n    }\r\n\r\n    if (from < 0) {\r\n      from += length;\r\n      if (from < 0) {\r\n        from = 0;\r\n      }\r\n    }\r\n\r\n    const isNaN = NumberIsNaN(element);\r\n    for (let i = from; i < length; ++i) {\r\n      const value = convertToNumber(float16bitsArray[i]);\r\n\r\n      if (isNaN && NumberIsNaN(value)) {\r\n        return true;\r\n      }\r\n\r\n      if (value === element) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.join */\r\n  join(separator) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const array = copyToArray(float16bitsArray);\r\n\r\n    return ArrayPrototypeJoin(array, separator);\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype.tolocalestring */\r\n  toLocaleString(...opts) {\r\n    assertFloat16Array(this);\r\n    const float16bitsArray = getFloat16BitsArray(this);\r\n\r\n    const array = copyToArray(float16bitsArray);\r\n\r\n    return ArrayPrototypeToLocaleString(array, ...safeIfNeeded(opts));\r\n  }\r\n\r\n  /** @see https://tc39.es/ecma262/#sec-get-%typedarray%.prototype-@@tostringtag */\r\n  get [SymbolToStringTag]() {\r\n    if (isFloat16Array(this)) {\r\n      return /** @type {any} */ (\"Float16Array\");\r\n    }\r\n  }\r\n}\r\n\r\n/** @see https://tc39.es/ecma262/#sec-typedarray.bytes_per_element */\r\nObjectDefineProperty(Float16Array, \"BYTES_PER_ELEMENT\", {\r\n  value: BYTES_PER_ELEMENT,\r\n});\r\n\r\n// limitation: It is peaked by `Object.getOwnPropertySymbols(Float16Array)` and `Reflect.ownKeys(Float16Array)`\r\nObjectDefineProperty(Float16Array, brand, {});\r\n\r\n/** @see https://tc39.es/ecma262/#sec-properties-of-the-typedarray-constructors */\r\nReflectSetPrototypeOf(Float16Array, TypedArray);\r\n\r\nconst Float16ArrayPrototype = Float16Array.prototype;\r\n\r\n/** @see https://tc39.es/ecma262/#sec-typedarray.prototype.bytes_per_element */\r\nObjectDefineProperty(Float16ArrayPrototype, \"BYTES_PER_ELEMENT\", {\r\n  value: BYTES_PER_ELEMENT,\r\n});\r\n\r\n/** @see https://tc39.es/ecma262/#sec-%typedarray%.prototype-@@iterator */\r\nObjectDefineProperty(Float16ArrayPrototype, SymbolIterator, {\r\n  value: Float16ArrayPrototype.values,\r\n  writable: true,\r\n  configurable: true,\r\n});\r\n\r\nReflectSetPrototypeOf(Float16ArrayPrototype, TypedArrayPrototype);\r\n", "import { safeIfNeeded } from \"./_util/arrayIterator.mjs\";\r\nimport { convertToNumber, roundToFloat16Bits } from \"./_util/converter.mjs\";\r\nimport {\r\n  DataViewPrototypeGetUint16,\r\n  DataViewPrototypeSetUint16,\r\n} from \"./_util/primordials.mjs\";\r\n\r\n/**\r\n * returns an unsigned 16-bit float at the specified byte offset from the start of the DataView\r\n * @param {DataView} dataView\r\n * @param {number} byteOffset\r\n * @param {[boolean]} opts\r\n * @returns {number}\r\n */\r\nexport function getFloat16(dataView, byteOffset, ...opts) {\r\n  return convertToNumber(\r\n    DataViewPrototypeGetUint16(dataView, byteOffset, ...safeIfNeeded(opts))\r\n  );\r\n}\r\n\r\n/**\r\n * stores an unsigned 16-bit float value at the specified byte offset from the start of the DataView\r\n * @param {DataView} dataView\r\n * @param {number} byteOffset\r\n * @param {number} value\r\n * @param {[boolean]} opts\r\n */\r\nexport function setFloat16(dataView, byteOffset, value, ...opts) {\r\n  return DataViewPrototypeSetUint16(\r\n    dataView,\r\n    byteOffset,\r\n    roundToFloat16Bits(value),\r\n    ...safeIfNeeded(opts)\r\n  );\r\n}\r\n", "export default function getAttribute(tag, attributeName, options) {\r\n  const debug = (options && options.debug) || false;\r\n  if (debug) console.log(\"[xml-utils] getting \" + attributeName + \" in \" + tag);\r\n\r\n  const xml = typeof tag === \"object\" ? tag.outer : tag;\r\n\r\n  // only search for attributes in the opening tag\r\n  const opening = xml.slice(0, xml.indexOf(\">\") + 1);\r\n\r\n  const quotechars = ['\"', \"'\"];\r\n  for (let i = 0; i < quotechars.length; i++) {\r\n    const char = quotechars[i];\r\n    const pattern = attributeName + \"\\\\=\" + char + \"([^\" + char + \"]*)\" + char;\r\n    if (debug) console.log(\"[xml-utils] pattern:\", pattern);\r\n\r\n    const re = new RegExp(pattern);\r\n    const match = re.exec(opening);\r\n    if (debug) console.log(\"[xml-utils] match:\", match);\r\n    if (match) return match[1];\r\n  }\r\n}\r\n", "export default function indexOfMatch(xml, pattern, startIndex) {\r\n  const re = new RegExp(pattern);\r\n  const match = re.exec(xml.slice(startIndex));\r\n  if (match) return startIndex + match.index;\r\n  else return -1;\r\n}\r\n", "export default function indexOfMatchEnd(xml, pattern, startIndex) {\r\n  const re = new RegExp(pattern);\r\n  const match = re.exec(xml.slice(startIndex));\r\n  if (match) return startIndex + match.index + match[0].length - 1;\r\n  else return -1;\r\n}\r\n", "export default function countSubstring(string, substring) {\r\n  const pattern = new RegExp(substring, \"g\");\r\n  const match = string.match(pattern);\r\n  return match ? match.length : 0;\r\n}\r\n", "import indexOfMatch from \"./index-of-match.mjs\";\r\nimport indexOfMatchEnd from \"./index-of-match-end.mjs\";\r\nimport countSubstring from \"./count-substring.mjs\";\r\n\r\nexport default function findTagByName(xml, tagName, options) {\r\n  const debug = (options && options.debug) || false;\r\n  const nested = !(options && typeof options.nested === false);\r\n\r\n  const startIndex = (options && options.startIndex) || 0;\r\n\r\n  if (debug) console.log(\"[xml-utils] starting findTagByName with\", tagName, \" and \", options);\r\n\r\n  const start = indexOfMatch(xml, `\\<${tagName}[ \\n\\>\\/]`, startIndex);\r\n  if (debug) console.log(\"[xml-utils] start:\", start);\r\n  if (start === -1) return undefined;\r\n\r\n  const afterStart = xml.slice(start + tagName.length);\r\n\r\n  let relativeEnd = indexOfMatchEnd(afterStart, \"^[^<]*[ /]>\", 0);\r\n\r\n  const selfClosing = relativeEnd !== -1 && afterStart[relativeEnd - 1] === \"/\";\r\n  if (debug) console.log(\"[xml-utils] selfClosing:\", selfClosing);\r\n\r\n  if (selfClosing === false) {\r\n    // check if tag has subtags with the same name\r\n    if (nested) {\r\n      let startIndex = 0;\r\n      let openings = 1;\r\n      let closings = 0;\r\n      while ((relativeEnd = indexOfMatchEnd(afterStart, \"[ /]\" + tagName + \">\", startIndex)) !== -1) {\r\n        const clip = afterStart.substring(startIndex, relativeEnd + 1);\r\n        openings += countSubstring(clip, \"<\" + tagName + \"[ \\n\\t>]\");\r\n        closings += countSubstring(clip, \"</\" + tagName + \">\");\r\n        // we can't have more openings than closings\r\n        if (closings >= openings) break;\r\n        startIndex = relativeEnd;\r\n      }\r\n    } else {\r\n      relativeEnd = indexOfMatchEnd(afterStart, \"[ /]\" + tagName + \">\", 0);\r\n    }\r\n  }\r\n\r\n  const end = start + tagName.length + relativeEnd + 1;\r\n  if (debug) console.log(\"[xml-utils] end:\", end);\r\n  if (end === -1) return undefined;\r\n\r\n  const outer = xml.slice(start, end);\r\n  // tag is like <gml:identifier codeSpace=\"OGP\">urn:ogc:def:crs:EPSG::32617</gml:identifier>\r\n\r\n  let inner;\r\n  if (selfClosing) {\r\n    inner = null;\r\n  } else {\r\n    inner = outer.slice(outer.indexOf(\">\") + 1, outer.lastIndexOf(\"<\"));\r\n  }\r\n\r\n  return { inner, outer, start, end };\r\n}\r\n", "import findTagByName from \"./find-tag-by-name.mjs\";\r\n\r\nexport default function findTagsByName(xml, tagName, options) {\r\n  const tags = [];\r\n  const debug = (options && options.debug) || false;\r\n  const nested = options && typeof options.nested === \"boolean\" ? options.nested : true;\r\n  let startIndex = (options && options.startIndex) || 0;\r\n  let tag;\r\n  while ((tag = findTagByName(xml, tagName, { debug, startIndex }))) {\r\n    if (nested) {\r\n      startIndex = tag.start + 1 + tagName.length;\r\n    } else {\r\n      startIndex = tag.end;\r\n    }\r\n    tags.push(tag);\r\n  }\r\n  if (debug) console.log(\"findTagsByName found\", tags.length, \"tags\");\r\n  return tags;\r\n}\r\n", "export function fromWhiteIsZero(raster, max) {\r\n    const { width, height } = raster;\r\n    const rgbRaster = new Uint8Array(width * height * 3);\r\n    let value;\r\n    for (let i = 0, j = 0; i < raster.length; ++i, j += 3) {\r\n        value = 256 - (raster[i] / max) * 256;\r\n        rgbRaster[j] = value;\r\n        rgbRaster[j + 1] = value;\r\n        rgbRaster[j + 2] = value;\r\n    }\r\n    return rgbRaster;\r\n}\r\nexport function fromBlackIsZero(raster, max) {\r\n    const { width, height } = raster;\r\n    const rgbRaster = new Uint8Array(width * height * 3);\r\n    let value;\r\n    for (let i = 0, j = 0; i < raster.length; ++i, j += 3) {\r\n        value = (raster[i] / max) * 256;\r\n        rgbRaster[j] = value;\r\n        rgbRaster[j + 1] = value;\r\n        rgbRaster[j + 2] = value;\r\n    }\r\n    return rgbRaster;\r\n}\r\nexport function fromPalette(raster, colorMap) {\r\n    const { width, height } = raster;\r\n    const rgbRaster = new Uint8Array(width * height * 3);\r\n    const greenOffset = colorMap.length / 3;\r\n    const blueOffset = (colorMap.length / 3) * 2;\r\n    for (let i = 0, j = 0; i < raster.length; ++i, j += 3) {\r\n        const mapIndex = raster[i];\r\n        rgbRaster[j] = (colorMap[mapIndex] / 65536) * 256;\r\n        rgbRaster[j + 1] = (colorMap[mapIndex + greenOffset] / 65536) * 256;\r\n        rgbRaster[j + 2] = (colorMap[mapIndex + blueOffset] / 65536) * 256;\r\n    }\r\n    return rgbRaster;\r\n}\r\nexport function fromCMYK(cmykRaster) {\r\n    const { width, height } = cmykRaster;\r\n    const rgbRaster = new Uint8Array(width * height * 3);\r\n    for (let i = 0, j = 0; i < cmykRaster.length; i += 4, j += 3) {\r\n        const c = cmykRaster[i];\r\n        const m = cmykRaster[i + 1];\r\n        const y = cmykRaster[i + 2];\r\n        const k = cmykRaster[i + 3];\r\n        rgbRaster[j] = 255 * ((255 - c) / 256) * ((255 - k) / 256);\r\n        rgbRaster[j + 1] = 255 * ((255 - m) / 256) * ((255 - k) / 256);\r\n        rgbRaster[j + 2] = 255 * ((255 - y) / 256) * ((255 - k) / 256);\r\n    }\r\n    return rgbRaster;\r\n}\r\nexport function fromYCbCr(yCbCrRaster) {\r\n    const { width, height } = yCbCrRaster;\r\n    const rgbRaster = new Uint8ClampedArray(width * height * 3);\r\n    for (let i = 0, j = 0; i < yCbCrRaster.length; i += 3, j += 3) {\r\n        const y = yCbCrRaster[i];\r\n        const cb = yCbCrRaster[i + 1];\r\n        const cr = yCbCrRaster[i + 2];\r\n        rgbRaster[j] = y + 1.402 * (cr - 0x80);\r\n        rgbRaster[j + 1] = y - 0.34414 * (cb - 0x80) - 0.71414 * (cr - 0x80);\r\n        rgbRaster[j + 2] = y + 1.772 * (cb - 0x80);\r\n    }\r\n    return rgbRaster;\r\n}\r\nconst Xn = 0.95047;\r\nconst Yn = 1.0;\r\nconst Zn = 1.08883;\r\n// from https://github.com/antimatter15/rgb-lab/blob/master/color.js\r\nexport function fromCIELab(cieLabRaster) {\r\n    const { width, height } = cieLabRaster;\r\n    const rgbRaster = new Uint8Array(width * height * 3);\r\n    for (let i = 0, j = 0; i < cieLabRaster.length; i += 3, j += 3) {\r\n        const L = cieLabRaster[i + 0];\r\n        const a_ = (cieLabRaster[i + 1] << 24) >> 24; // conversion from uint8 to int8\r\n        const b_ = (cieLabRaster[i + 2] << 24) >> 24; // same\r\n        let y = (L + 16) / 116;\r\n        let x = a_ / 500 + y;\r\n        let z = y - b_ / 200;\r\n        let r;\r\n        let g;\r\n        let b;\r\n        x = Xn * (x * x * x > 0.008856 ? x * x * x : (x - 16 / 116) / 7.787);\r\n        y = Yn * (y * y * y > 0.008856 ? y * y * y : (y - 16 / 116) / 7.787);\r\n        z = Zn * (z * z * z > 0.008856 ? z * z * z : (z - 16 / 116) / 7.787);\r\n        r = x * 3.2406 + y * -1.5372 + z * -0.4986;\r\n        g = x * -0.9689 + y * 1.8758 + z * 0.0415;\r\n        b = x * 0.0557 + y * -0.204 + z * 1.057;\r\n        r = r > 0.0031308 ? 1.055 * r ** (1 / 2.4) - 0.055 : 12.92 * r;\r\n        g = g > 0.0031308 ? 1.055 * g ** (1 / 2.4) - 0.055 : 12.92 * g;\r\n        b = b > 0.0031308 ? 1.055 * b ** (1 / 2.4) - 0.055 : 12.92 * b;\r\n        rgbRaster[j] = Math.max(0, Math.min(1, r)) * 255;\r\n        rgbRaster[j + 1] = Math.max(0, Math.min(1, g)) * 255;\r\n        rgbRaster[j + 2] = Math.max(0, Math.min(1, b)) * 255;\r\n    }\r\n    return rgbRaster;\r\n}\r\n", "const registry = new Map();\r\n/**\r\n * @typedef {Object} DecoderParameters\r\n * @property {number} tileWidth\r\n * @property {number} tileHeight\r\n * @property {number} planarConfiguration\r\n * @property {number} bitsPerSample\r\n * @property {number} predictor\r\n */\r\n/**\r\n * Default decoder parameter retrieval function\r\n * @param {import(\"../imagefiledirectory\").ImageFileDirectory} fileDirectory\r\n * @returns {Promise<DecoderParameters>}\r\n */\r\nasync function defaultDecoderParameterFn(fileDirectory) {\r\n    const isTiled = !fileDirectory.hasTag('StripOffsets');\r\n    return {\r\n        tileWidth: isTiled ? await fileDirectory.loadValue('TileWidth') : await fileDirectory.loadValue('ImageWidth'),\r\n        tileHeight: isTiled ? await fileDirectory.loadValue('TileLength') : (await fileDirectory.loadValue('RowsPerStrip') || await fileDirectory.loadValue('ImageLength')),\r\n        planarConfiguration: await fileDirectory.loadValue('PlanarConfiguration'),\r\n        bitsPerSample: await fileDirectory.loadValue('BitsPerSample'),\r\n        predictor: await fileDirectory.loadValue('Predictor') || 1,\r\n    };\r\n}\r\n/**\r\n * Either a number or undefined.\r\n * @typedef {(number|undefined)} NumberOrUndefined\r\n */\r\n/**\r\n * Register a decoder for a specific compression method or a range of compressions\r\n * @param {(NumberOrUndefined|(NumberOrUndefined[]))} cases ids of the compression methods to register for\r\n * @param {function():Promise} importFn the function to import the decoder\r\n * @param {function(import(\"../imagefiledirectory\").ImageFileDirectory):Promise} decoderParameterFn\r\n * @param {boolean} preferWorker_ Whether to prefer running the decoder in a worker\r\n */\r\nexport function addDecoder(cases, importFn, decoderParameterFn = defaultDecoderParameterFn, preferWorker_ = true) {\r\n    if (!Array.isArray(cases)) {\r\n        cases = [cases]; // eslint-disable-line no-param-reassign\r\n    }\r\n    cases.forEach((c) => {\r\n        registry.set(c, { importFn, decoderParameterFn, preferWorker: preferWorker_ });\r\n    });\r\n}\r\n/**\r\n * Get the required decoder parameters for a specific compression method\r\n * @param {NumberOrUndefined} compression\r\n * @param {import('../imagefiledirectory.js').ImageFileDirectory} fileDirectory\r\n */\r\nexport async function getDecoderParameters(compression, fileDirectory) {\r\n    if (!registry.has(compression)) {\r\n        throw new Error(`Unknown compression method identifier: ${compression}`);\r\n    }\r\n    const { decoderParameterFn } = registry.get(compression);\r\n    return decoderParameterFn(fileDirectory);\r\n}\r\n/**\r\n * Get a decoder for a specific compression and parameters\r\n * @param {number} compression the compression method identifier\r\n * @param {DecoderParameters} decoderParameters the parameters for the decoder\r\n * @returns {Promise<import('./basedecoder.js').default>}\r\n */\r\nexport async function getDecoder(compression, decoderParameters) {\r\n    if (!registry.has(compression)) {\r\n        throw new Error(`Unknown compression method identifier: ${compression}`);\r\n    }\r\n    const { importFn } = registry.get(compression);\r\n    const Decoder = await importFn();\r\n    return new Decoder(decoderParameters);\r\n}\r\n/**\r\n * Whether to prefer running the decoder in a worker\r\n * @param {number|undefined} compression the compression method identifier\r\n * @returns {boolean}\r\n */\r\nexport function preferWorker(compression) {\r\n    if (!registry.has(compression)) {\r\n        throw new Error(`Unknown compression method identifier: ${compression}`);\r\n    }\r\n    return registry.get(compression).preferWorker;\r\n}\r\nconst defaultDecoderDefinitions = [\r\n    // No compression\r\n    {\r\n        cases: [undefined, 1],\r\n        importFn: () => import('./raw.js').then((m) => m.default),\r\n        preferWorker: false,\r\n    },\r\n    // LZW\r\n    {\r\n        cases: 5,\r\n        importFn: () => import('./lzw.js').then((m) => m.default),\r\n    },\r\n    // Old-style JPEG\r\n    {\r\n        cases: 6,\r\n        importFn: () => {\r\n            throw new Error('old style JPEG compression is not supported.');\r\n        },\r\n    },\r\n    // JPEG\r\n    {\r\n        cases: 7,\r\n        importFn: () => import('./jpeg.js').then((m) => m.default),\r\n        decoderParameterFn: async (fileDirectory) => {\r\n            return {\r\n                ...await defaultDecoderParameterFn(fileDirectory),\r\n                JPEGTables: await fileDirectory.loadValue('JPEGTables'),\r\n            };\r\n        },\r\n    },\r\n    // Deflate / Adobe Deflate\r\n    {\r\n        cases: [8, 32946],\r\n        importFn: () => import('./deflate.js').then((m) => m.default),\r\n    },\r\n    // PackBits\r\n    {\r\n        cases: 32773,\r\n        importFn: () => import('./packbits.js').then((m) => m.default),\r\n    },\r\n    // LERC\r\n    {\r\n        cases: 34887,\r\n        importFn: () => import('./lerc.js')\r\n            .then(async (m) => {\r\n            await m.zstd.init();\r\n            return m;\r\n        })\r\n            .then((m) => m.default),\r\n        decoderParameterFn: async (fileDirectory) => {\r\n            return {\r\n                ...await defaultDecoderParameterFn(fileDirectory),\r\n                LercParameters: await fileDirectory.loadValue('LercParameters'),\r\n            };\r\n        },\r\n    },\r\n    // zstd\r\n    {\r\n        cases: 50000,\r\n        importFn: () => import('./zstd.js')\r\n            .then(async (m) => {\r\n            await m.zstd.init();\r\n            return m;\r\n        })\r\n            .then((m) => m.default),\r\n    },\r\n    // WebP Images\r\n    {\r\n        cases: 50001,\r\n        importFn: () => import('./webimage.js').then((m) => m.default),\r\n        decoderParameterFn: async (fileDirectory) => {\r\n            return {\r\n                ...await defaultDecoderParameterFn(fileDirectory),\r\n                samplesPerPixel: await fileDirectory.loadValue('SamplesPerPixel') || 4,\r\n            };\r\n        },\r\n        preferWorker: false,\r\n    },\r\n];\r\n// Add default decoders to registry (end-user may override with other implementations)\r\nfor (const decoderDefinition of defaultDecoderDefinitions) {\r\n    const { cases, importFn, decoderParameterFn, preferWorker: preferWorker_ } = decoderDefinition;\r\n    addDecoder(cases, importFn, decoderParameterFn, preferWorker_);\r\n}\r\n", "/**\r\n * @module resample\r\n */\r\nfunction copyNewSize(array, width, height, samplesPerPixel = 1) {\r\n    return new (Object.getPrototypeOf(array).constructor)(width * height * samplesPerPixel);\r\n}\r\n/**\r\n * Resample the input arrays using nearest neighbor value selection.\r\n * @param {import(\"./geotiff\").TypedArray[]} valueArrays The input arrays to resample\r\n * @param {number} inWidth The width of the input rasters\r\n * @param {number} inHeight The height of the input rasters\r\n * @param {number} outWidth The desired width of the output rasters\r\n * @param {number} outHeight The desired height of the output rasters\r\n * @returns {import(\"./geotiff\").TypedArray[]} The resampled rasters\r\n */\r\nexport function resampleNearest(valueArrays, inWidth, inHeight, outWidth, outHeight) {\r\n    const relX = inWidth / outWidth;\r\n    const relY = inHeight / outHeight;\r\n    return valueArrays.map((array) => {\r\n        const newArray = copyNewSize(array, outWidth, outHeight);\r\n        for (let y = 0; y < outHeight; ++y) {\r\n            const cy = Math.min(Math.round(relY * y), inHeight - 1);\r\n            for (let x = 0; x < outWidth; ++x) {\r\n                const cx = Math.min(Math.round(relX * x), inWidth - 1);\r\n                const value = array[(cy * inWidth) + cx];\r\n                newArray[(y * outWidth) + x] = value;\r\n            }\r\n        }\r\n        return newArray;\r\n    });\r\n}\r\n// simple linear interpolation, code from:\r\n// https://en.wikipedia.org/wiki/Linear_interpolation#Programming_language_support\r\nfunction lerp(v0, v1, t) {\r\n    return ((1 - t) * v0) + (t * v1);\r\n}\r\n/**\r\n * Resample the input arrays using bilinear interpolation.\r\n * @param {import(\"./geotiff\").TypedArray[]} valueArrays The input arrays to resample\r\n * @param {number} inWidth The width of the input rasters\r\n * @param {number} inHeight The height of the input rasters\r\n * @param {number} outWidth The desired width of the output rasters\r\n * @param {number} outHeight The desired height of the output rasters\r\n * @returns {import(\"./geotiff\").TypedArray[]} The resampled rasters\r\n */\r\nexport function resampleBilinear(valueArrays, inWidth, inHeight, outWidth, outHeight) {\r\n    const relX = inWidth / outWidth;\r\n    const relY = inHeight / outHeight;\r\n    return valueArrays.map((array) => {\r\n        const newArray = copyNewSize(array, outWidth, outHeight);\r\n        for (let y = 0; y < outHeight; ++y) {\r\n            const rawY = relY * y;\r\n            const yl = Math.floor(rawY);\r\n            const yh = Math.min(Math.ceil(rawY), (inHeight - 1));\r\n            for (let x = 0; x < outWidth; ++x) {\r\n                const rawX = relX * x;\r\n                const tx = rawX % 1;\r\n                const xl = Math.floor(rawX);\r\n                const xh = Math.min(Math.ceil(rawX), (inWidth - 1));\r\n                const ll = array[(yl * inWidth) + xl];\r\n                const hl = array[(yl * inWidth) + xh];\r\n                const lh = array[(yh * inWidth) + xl];\r\n                const hh = array[(yh * inWidth) + xh];\r\n                const value = lerp(lerp(ll, hl, tx), lerp(lh, hh, tx), rawY % 1);\r\n                newArray[(y * outWidth) + x] = value;\r\n            }\r\n        }\r\n        return newArray;\r\n    });\r\n}\r\n/**\r\n * Resample the input arrays using the selected resampling method.\r\n * @param {import(\"./geotiff\").TypedArray[]} valueArrays The input arrays to resample\r\n * @param {number} inWidth The width of the input rasters\r\n * @param {number} inHeight The height of the input rasters\r\n * @param {number} outWidth The desired width of the output rasters\r\n * @param {number} outHeight The desired height of the output rasters\r\n * @param {string} [method = 'nearest'] The desired resampling method\r\n * @returns {import(\"./geotiff\").TypedArray[]} The resampled rasters\r\n */\r\nexport function resample(valueArrays, inWidth, inHeight, outWidth, outHeight, method = 'nearest') {\r\n    switch (method.toLowerCase()) {\r\n        case 'nearest':\r\n            return resampleNearest(valueArrays, inWidth, inHeight, outWidth, outHeight);\r\n        case 'bilinear':\r\n        case 'linear':\r\n            return resampleBilinear(valueArrays, inWidth, inHeight, outWidth, outHeight);\r\n        default:\r\n            throw new Error(`Unsupported resampling method: '${method}'`);\r\n    }\r\n}\r\n/**\r\n * Resample the pixel interleaved input array using nearest neighbor value selection.\r\n * @param {import(\"./geotiff\").TypedArray} valueArray The input array to resample\r\n * @param {number} inWidth The width of the input rasters\r\n * @param {number} inHeight The height of the input rasters\r\n * @param {number} outWidth The desired width of the output rasters\r\n * @param {number} outHeight The desired height of the output rasters\r\n * @param {number} samples The number of samples per pixel for pixel\r\n *                         interleaved data\r\n * @returns {import(\"./geotiff\").TypedArray} The resampled raster\r\n */\r\nexport function resampleNearestInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples) {\r\n    const relX = inWidth / outWidth;\r\n    const relY = inHeight / outHeight;\r\n    const newArray = copyNewSize(valueArray, outWidth, outHeight, samples);\r\n    for (let y = 0; y < outHeight; ++y) {\r\n        const cy = Math.min(Math.round(relY * y), inHeight - 1);\r\n        for (let x = 0; x < outWidth; ++x) {\r\n            const cx = Math.min(Math.round(relX * x), inWidth - 1);\r\n            for (let i = 0; i < samples; ++i) {\r\n                const value = valueArray[(cy * inWidth * samples) + (cx * samples) + i];\r\n                newArray[(y * outWidth * samples) + (x * samples) + i] = value;\r\n            }\r\n        }\r\n    }\r\n    return newArray;\r\n}\r\n/**\r\n * Resample the pixel interleaved input array using bilinear interpolation.\r\n * @param {import(\"./geotiff\").TypedArray} valueArray The input array to resample\r\n * @param {number} inWidth The width of the input rasters\r\n * @param {number} inHeight The height of the input rasters\r\n * @param {number} outWidth The desired width of the output rasters\r\n * @param {number} outHeight The desired height of the output rasters\r\n * @param {number} samples The number of samples per pixel for pixel\r\n *                         interleaved data\r\n * @returns {import(\"./geotiff\").TypedArray} The resampled raster\r\n */\r\nexport function resampleBilinearInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples) {\r\n    const relX = inWidth / outWidth;\r\n    const relY = inHeight / outHeight;\r\n    const newArray = copyNewSize(valueArray, outWidth, outHeight, samples);\r\n    for (let y = 0; y < outHeight; ++y) {\r\n        const rawY = relY * y;\r\n        const yl = Math.floor(rawY);\r\n        const yh = Math.min(Math.ceil(rawY), (inHeight - 1));\r\n        for (let x = 0; x < outWidth; ++x) {\r\n            const rawX = relX * x;\r\n            const tx = rawX % 1;\r\n            const xl = Math.floor(rawX);\r\n            const xh = Math.min(Math.ceil(rawX), (inWidth - 1));\r\n            for (let i = 0; i < samples; ++i) {\r\n                const ll = valueArray[(yl * inWidth * samples) + (xl * samples) + i];\r\n                const hl = valueArray[(yl * inWidth * samples) + (xh * samples) + i];\r\n                const lh = valueArray[(yh * inWidth * samples) + (xl * samples) + i];\r\n                const hh = valueArray[(yh * inWidth * samples) + (xh * samples) + i];\r\n                const value = lerp(lerp(ll, hl, tx), lerp(lh, hh, tx), rawY % 1);\r\n                newArray[(y * outWidth * samples) + (x * samples) + i] = value;\r\n            }\r\n        }\r\n    }\r\n    return newArray;\r\n}\r\n/**\r\n * Resample the pixel interleaved input array using the selected resampling method.\r\n * @param {import(\"./geotiff\").TypedArray} valueArray The input array to resample\r\n * @param {number} inWidth The width of the input rasters\r\n * @param {number} inHeight The height of the input rasters\r\n * @param {number} outWidth The desired width of the output rasters\r\n * @param {number} outHeight The desired height of the output rasters\r\n * @param {number} samples The number of samples per pixel for pixel\r\n *                                 interleaved data\r\n * @param {string} [method = 'nearest'] The desired resampling method\r\n * @returns {import(\"./geotiff\").TypedArray} The resampled rasters\r\n */\r\nexport function resampleInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples, method = 'nearest') {\r\n    switch (method.toLowerCase()) {\r\n        case 'nearest':\r\n            return resampleNearestInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples);\r\n        case 'bilinear':\r\n        case 'linear':\r\n            return resampleBilinearInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples);\r\n        default:\r\n            throw new Error(`Unsupported resampling method: '${method}'`);\r\n    }\r\n}\r\n", "/** @module geotiffimage */\r\nimport { getFloat16 } from '@petamoriken/float16';\r\nimport getAttribute from 'xml-utils/get-attribute'; // eslint-disable-line import/extensions\r\nimport findTagsByName from 'xml-utils/find-tags-by-name'; // eslint-disable-line import/extensions\r\nimport { photometricInterpretations, ExtraSamplesValues } from './globals.js';\r\nimport { fromWhiteIsZero, fromBlackIsZero, fromPalette, fromCMYK, fromYCbCr, fromCIELab } from './rgb.js';\r\nimport { getDecoder, getDecoderParameters } from './compression/index.js';\r\nimport { resample, resampleInterleaved } from './resample.js';\r\n/** @import {DecoderWorker, TypedArray} from \"./geotiff\" */\r\n/** @import {ReadRasterResult} from \"./geotiff\" */\r\n/** @import {ReadRastersOptions} from \"./geotiff\" */\r\n/** @import {ReadRGBOptions} from \"./geotiff\" */\r\nfunction sum(array, start, end) {\r\n    let s = 0;\r\n    for (let i = start; i < end; ++i) {\r\n        s += array[i];\r\n    }\r\n    return s;\r\n}\r\nfunction arrayForType(format, bitsPerSample, size) {\r\n    switch (format) {\r\n        case 1: // unsigned integer data\r\n            if (bitsPerSample <= 8) {\r\n                return new Uint8Array(size);\r\n            }\r\n            else if (bitsPerSample <= 16) {\r\n                return new Uint16Array(size);\r\n            }\r\n            else if (bitsPerSample <= 32) {\r\n                return new Uint32Array(size);\r\n            }\r\n            break;\r\n        case 2: // twos complement signed integer data\r\n            if (bitsPerSample === 8) {\r\n                return new Int8Array(size);\r\n            }\r\n            else if (bitsPerSample === 16) {\r\n                return new Int16Array(size);\r\n            }\r\n            else if (bitsPerSample === 32) {\r\n                return new Int32Array(size);\r\n            }\r\n            break;\r\n        case 3: // floating point data\r\n            switch (bitsPerSample) {\r\n                case 16:\r\n                case 32:\r\n                    return new Float32Array(size);\r\n                case 64:\r\n                    return new Float64Array(size);\r\n                default:\r\n                    break;\r\n            }\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    throw Error('Unsupported data format/bitsPerSample');\r\n}\r\nfunction needsNormalization(format, bitsPerSample) {\r\n    if ((format === 1 || format === 2) && bitsPerSample <= 32 && bitsPerSample % 8 === 0) {\r\n        return false;\r\n    }\r\n    else if (format === 3 && (bitsPerSample === 16 || bitsPerSample === 32 || bitsPerSample === 64)) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nfunction normalizeArray(inBuffer, format, planarConfiguration, samplesPerPixel, bitsPerSample, tileWidth, tileHeight) {\r\n    // const inByteArray = new Uint8Array(inBuffer);\r\n    const view = new DataView(inBuffer);\r\n    const outSize = planarConfiguration === 2\r\n        ? tileHeight * tileWidth\r\n        : tileHeight * tileWidth * samplesPerPixel;\r\n    const samplesToTransfer = planarConfiguration === 2\r\n        ? 1 : samplesPerPixel;\r\n    const outArray = arrayForType(format, bitsPerSample, outSize);\r\n    // let pixel = 0;\r\n    const bitMask = parseInt('1'.repeat(bitsPerSample), 2);\r\n    if (format === 1) { // unsigned integer\r\n        // translation of https://github.com/OSGeo/gdal/blob/master/gdal/frmts/gtiff/geotiff.cpp#L7337\r\n        let pixelBitSkip;\r\n        // let sampleBitOffset = 0;\r\n        if (planarConfiguration === 1) {\r\n            pixelBitSkip = samplesPerPixel * bitsPerSample;\r\n            // sampleBitOffset = (samplesPerPixel - 1) * bitsPerSample;\r\n        }\r\n        else {\r\n            pixelBitSkip = bitsPerSample;\r\n        }\r\n        // Bits per line rounds up to next byte boundary.\r\n        let bitsPerLine = tileWidth * pixelBitSkip;\r\n        if ((bitsPerLine & 7) !== 0) {\r\n            bitsPerLine = (bitsPerLine + 7) & (~7);\r\n        }\r\n        for (let y = 0; y < tileHeight; ++y) {\r\n            const lineBitOffset = y * bitsPerLine;\r\n            for (let x = 0; x < tileWidth; ++x) {\r\n                const pixelBitOffset = lineBitOffset + (x * samplesToTransfer * bitsPerSample);\r\n                for (let i = 0; i < samplesToTransfer; ++i) {\r\n                    const bitOffset = pixelBitOffset + (i * bitsPerSample);\r\n                    const outIndex = (((y * tileWidth) + x) * samplesToTransfer) + i;\r\n                    const byteOffset = Math.floor(bitOffset / 8);\r\n                    const innerBitOffset = bitOffset % 8;\r\n                    if (innerBitOffset + bitsPerSample <= 8) {\r\n                        outArray[outIndex] = (view.getUint8(byteOffset) >> (8 - bitsPerSample) - innerBitOffset) & bitMask;\r\n                    }\r\n                    else if (innerBitOffset + bitsPerSample <= 16) {\r\n                        outArray[outIndex] = (view.getUint16(byteOffset) >> (16 - bitsPerSample) - innerBitOffset) & bitMask;\r\n                    }\r\n                    else if (innerBitOffset + bitsPerSample <= 24) {\r\n                        const raw = (view.getUint16(byteOffset) << 8) | (view.getUint8(byteOffset + 2));\r\n                        outArray[outIndex] = (raw >> (24 - bitsPerSample) - innerBitOffset) & bitMask;\r\n                    }\r\n                    else {\r\n                        outArray[outIndex] = (view.getUint32(byteOffset) >> (32 - bitsPerSample) - innerBitOffset) & bitMask;\r\n                    }\r\n                    // let outWord = 0;\r\n                    // for (let bit = 0; bit < bitsPerSample; ++bit) {\r\n                    //   if (inByteArray[bitOffset >> 3]\r\n                    //     & (0x80 >> (bitOffset & 7))) {\r\n                    //     outWord |= (1 << (bitsPerSample - 1 - bit));\r\n                    //   }\r\n                    //   ++bitOffset;\r\n                    // }\r\n                    // outArray[outIndex] = outWord;\r\n                    // outArray[pixel] = outWord;\r\n                    // pixel += 1;\r\n                }\r\n                // bitOffset = bitOffset + pixelBitSkip - bitsPerSample;\r\n            }\r\n        }\r\n    }\r\n    else if (format === 3) { // floating point\r\n        // Float16 is handled elsewhere\r\n        // normalize 16/24 bit floats to 32 bit floats in the array\r\n        // console.time();\r\n        // if (bitsPerSample === 16) {\r\n        //   for (let byte = 0, outIndex = 0; byte < inBuffer.byteLength; byte += 2, ++outIndex) {\r\n        //     outArray[outIndex] = getFloat16(view, byte);\r\n        //   }\r\n        // }\r\n        // console.timeEnd()\r\n    }\r\n    return outArray.buffer;\r\n}\r\n/**\r\n * GeoTIFF sub-file image.\r\n */\r\nclass GeoTIFFImage {\r\n    /**\r\n     * @constructor\r\n     * @param {import(\"./imagefiledirectory\").ImageFileDirectory} fileDirectory The parsed file directory\r\n     * @param {Boolean} littleEndian Whether the file is encoded in little or big endian\r\n     * @param {Boolean} cache Whether or not decoded tiles shall be cached\r\n     * @param {import('./source/basesource.js').BaseSource} source The datasource to read from\r\n     */\r\n    constructor(fileDirectory, littleEndian, cache, source) {\r\n        this.fileDirectory = fileDirectory;\r\n        this.littleEndian = littleEndian;\r\n        this.tiles = cache ? {} : null;\r\n        this.isTiled = !fileDirectory.hasTag('StripOffsets');\r\n        const planarConfiguration = fileDirectory.getValue('PlanarConfiguration') ?? 1;\r\n        if (planarConfiguration !== 1 && planarConfiguration !== 2) {\r\n            throw new Error('Invalid planar configuration.');\r\n        }\r\n        /** @type {1 | 2} */\r\n        this.planarConfiguration = planarConfiguration;\r\n        this.source = source;\r\n    }\r\n    /**\r\n     * Returns the associated parsed file directory.\r\n     * @returns {import(\"./imagefiledirectory\").ImageFileDirectory} the parsed file directory\r\n     */\r\n    getFileDirectory() {\r\n        return this.fileDirectory;\r\n    }\r\n    /**\r\n     * Returns the associated parsed geo keys.\r\n     * @returns {Partial<Record<import('./globals.js').GeoKeyName, *>>|null} the parsed geo keys\r\n     */\r\n    getGeoKeys() {\r\n        return this.fileDirectory.parseGeoKeyDirectory();\r\n    }\r\n    /**\r\n     * Returns the width of the image.\r\n     * @returns {Number} the width of the image\r\n     */\r\n    getWidth() {\r\n        return this.fileDirectory.getValue('ImageWidth');\r\n    }\r\n    /**\r\n     * Returns the height of the image.\r\n     * @returns {Number} the height of the image\r\n     */\r\n    getHeight() {\r\n        return this.fileDirectory.getValue('ImageLength');\r\n    }\r\n    /**\r\n     * Returns the number of samples per pixel.\r\n     * @returns {Number} the number of samples per pixel\r\n     */\r\n    getSamplesPerPixel() {\r\n        return this.fileDirectory.hasTag('SamplesPerPixel')\r\n            ? this.fileDirectory.getValue('SamplesPerPixel') : 1;\r\n    }\r\n    /**\r\n     * Returns the width of each tile.\r\n     * @returns {Number} the width of each tile\r\n     */\r\n    getTileWidth() {\r\n        return this.isTiled ? this.fileDirectory.getValue('TileWidth') : this.getWidth();\r\n    }\r\n    /**\r\n     * Returns the height of each tile.\r\n     * @returns {Number} the height of each tile\r\n     */\r\n    getTileHeight() {\r\n        if (this.isTiled) {\r\n            return this.fileDirectory.getValue('TileLength');\r\n        }\r\n        if (this.fileDirectory.hasTag('RowsPerStrip')) {\r\n            return Math.min(this.fileDirectory.getValue('RowsPerStrip'), this.getHeight());\r\n        }\r\n        return this.getHeight();\r\n    }\r\n    getBlockWidth() {\r\n        return this.getTileWidth();\r\n    }\r\n    getBlockHeight(y) {\r\n        if (this.isTiled || (y + 1) * this.getTileHeight() <= this.getHeight()) {\r\n            return this.getTileHeight();\r\n        }\r\n        else {\r\n            return this.getHeight() - (y * this.getTileHeight());\r\n        }\r\n    }\r\n    /**\r\n     * Calculates the number of bytes for each pixel across all samples. Only full\r\n     * bytes are supported, an exception is thrown when this is not the case.\r\n     * @returns {Number} the bytes per pixel\r\n     */\r\n    getBytesPerPixel() {\r\n        let bytes = 0;\r\n        // this is a short list, so we assume this is already loaded\r\n        for (let i = 0; i < this.fileDirectory.getValue('BitsPerSample').length; ++i) {\r\n            bytes += this.getSampleByteSize(i);\r\n        }\r\n        return bytes;\r\n    }\r\n    getSampleByteSize(i) {\r\n        const bitsPerSample = this.fileDirectory.getValue('BitsPerSample');\r\n        if (i >= bitsPerSample.length) {\r\n            throw new RangeError(`Sample index ${i} is out of range.`);\r\n        }\r\n        return Math.ceil(bitsPerSample[i] / 8);\r\n    }\r\n    getReaderForSample(sampleIndex) {\r\n        const format = this.fileDirectory.hasTag('SampleFormat')\r\n            ? this.fileDirectory.getValue('SampleFormat')[sampleIndex] : 1;\r\n        const bitsPerSample = this.fileDirectory.getValue('BitsPerSample')[sampleIndex];\r\n        switch (format) {\r\n            case 1: // unsigned integer data\r\n                if (bitsPerSample <= 8) {\r\n                    return DataView.prototype.getUint8;\r\n                }\r\n                else if (bitsPerSample <= 16) {\r\n                    return DataView.prototype.getUint16;\r\n                }\r\n                else if (bitsPerSample <= 32) {\r\n                    return DataView.prototype.getUint32;\r\n                }\r\n                break;\r\n            case 2: // twos complement signed integer data\r\n                if (bitsPerSample <= 8) {\r\n                    return DataView.prototype.getInt8;\r\n                }\r\n                else if (bitsPerSample <= 16) {\r\n                    return DataView.prototype.getInt16;\r\n                }\r\n                else if (bitsPerSample <= 32) {\r\n                    return DataView.prototype.getInt32;\r\n                }\r\n                break;\r\n            case 3:\r\n                switch (bitsPerSample) {\r\n                    case 16:\r\n                        return function (offset, littleEndian) {\r\n                            return getFloat16(this, offset, littleEndian);\r\n                        };\r\n                    case 32:\r\n                        return DataView.prototype.getFloat32;\r\n                    case 64:\r\n                        return DataView.prototype.getFloat64;\r\n                    default:\r\n                        break;\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        throw Error('Unsupported data format/bitsPerSample');\r\n    }\r\n    getSampleFormat(sampleIndex = 0) {\r\n        return this.fileDirectory.hasTag('SampleFormat')\r\n            ? this.fileDirectory.getValue('SampleFormat')[sampleIndex] : 1;\r\n    }\r\n    getBitsPerSample(sampleIndex = 0) {\r\n        return this.fileDirectory.getValue('BitsPerSample')[sampleIndex];\r\n    }\r\n    getArrayForSample(sampleIndex, size) {\r\n        const format = this.getSampleFormat(sampleIndex);\r\n        const bitsPerSample = this.getBitsPerSample(sampleIndex);\r\n        return arrayForType(format, bitsPerSample, size);\r\n    }\r\n    /**\r\n     * Returns the decoded strip or tile.\r\n     * @param {Number} x the strip or tile x-offset\r\n     * @param {Number} y the tile y-offset (0 for stripped images)\r\n     * @param {Number} sample the sample to get for separated samples\r\n     * @param {DecoderWorker|import(\"./geotiff\").BaseDecoder} poolOrDecoder the decoder or decoder pool\r\n     * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\r\n     *                               to be aborted\r\n     * @returns {Promise.<{x: number, y: number, sample: number, data: ArrayBuffer}>} the decoded strip or tile\r\n     */\r\n    async getTileOrStrip(x, y, sample, poolOrDecoder, signal) {\r\n        const numTilesPerRow = Math.ceil(this.getWidth() / this.getTileWidth());\r\n        const numTilesPerCol = Math.ceil(this.getHeight() / this.getTileHeight());\r\n        let index;\r\n        const { tiles } = this;\r\n        if (this.planarConfiguration === 1) {\r\n            index = (y * numTilesPerRow) + x;\r\n        }\r\n        else if (this.planarConfiguration === 2) {\r\n            index = (sample * numTilesPerRow * numTilesPerCol) + (y * numTilesPerRow) + x;\r\n        }\r\n        if (index === undefined) {\r\n            throw new Error('Could not determine tile or strip index.');\r\n        }\r\n        let offset;\r\n        let byteCount;\r\n        if (this.isTiled) {\r\n            offset = await this.fileDirectory.loadValueIndexed('TileOffsets', index);\r\n            byteCount = await this.fileDirectory.loadValueIndexed('TileByteCounts', index);\r\n        }\r\n        else {\r\n            offset = await this.fileDirectory.loadValueIndexed('StripOffsets', index);\r\n            byteCount = await this.fileDirectory.loadValueIndexed('StripByteCounts', index);\r\n        }\r\n        if (byteCount === 0) {\r\n            const nPixels = this.getBlockHeight(y) * this.getTileWidth();\r\n            const bytesPerPixel = (this.planarConfiguration === 2) ? this.getSampleByteSize(sample) : this.getBytesPerPixel();\r\n            const data = new ArrayBuffer(nPixels * bytesPerPixel);\r\n            const view = this.getArrayForSample(sample, data);\r\n            view.fill(this.getGDALNoData() || 0);\r\n            return { x, y, sample, data };\r\n        }\r\n        const slice = (await this.source.fetch([{ offset, length: byteCount }], signal))[0];\r\n        let request;\r\n        if (tiles === null || !tiles[index]) {\r\n            // resolve each request by potentially applying array normalization\r\n            request = (async () => {\r\n                let data = await poolOrDecoder.decode(slice);\r\n                const sampleFormat = this.getSampleFormat();\r\n                const bitsPerSample = this.getBitsPerSample();\r\n                if (needsNormalization(sampleFormat, bitsPerSample)) {\r\n                    data = normalizeArray(data, sampleFormat, this.planarConfiguration, this.getSamplesPerPixel(), bitsPerSample, this.getTileWidth(), this.getBlockHeight(y));\r\n                }\r\n                return data;\r\n            })();\r\n            // set the cache\r\n            if (tiles !== null) {\r\n                tiles[index] = request;\r\n            }\r\n        }\r\n        else {\r\n            // get from the cache\r\n            request = tiles[index];\r\n        }\r\n        // cache the tile request\r\n        return { x, y, sample, data: await request };\r\n    }\r\n    /**\r\n     * Internal read function.\r\n     * @private\r\n     * @param {Array} imageWindow The image window in pixel coordinates\r\n     * @param {Array} samples The selected samples (0-based indices)\r\n     * @param {TypedArray|TypedArray[]} valueArrays The array(s) to write into\r\n     * @param {boolean|undefined} interleave Whether or not to write in an interleaved manner\r\n     * @param {DecoderWorker|import(\"./geotiff\").BaseDecoder} poolOrDecoder the decoder or decoder pool\r\n     * @param {number} [width] the width of window to be read into\r\n     * @param {number} [height] the height of window to be read into\r\n     * @param {string} [resampleMethod] the resampling method to be used when interpolating\r\n     * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\r\n     *                               to be aborted\r\n     * @returns {Promise<ReadRasterResult>}\r\n     */\r\n    async _readRaster(imageWindow, samples, valueArrays, interleave, poolOrDecoder, width, height, resampleMethod, signal) {\r\n        const tileWidth = this.getTileWidth();\r\n        const tileHeight = this.getTileHeight();\r\n        const imageWidth = this.getWidth();\r\n        const imageHeight = this.getHeight();\r\n        const minXTile = Math.max(Math.floor(imageWindow[0] / tileWidth), 0);\r\n        const maxXTile = Math.min(Math.ceil(imageWindow[2] / tileWidth), Math.ceil(imageWidth / tileWidth));\r\n        const minYTile = Math.max(Math.floor(imageWindow[1] / tileHeight), 0);\r\n        const maxYTile = Math.min(Math.ceil(imageWindow[3] / tileHeight), Math.ceil(imageHeight / tileHeight));\r\n        const windowWidth = imageWindow[2] - imageWindow[0];\r\n        let bytesPerPixel = this.getBytesPerPixel();\r\n        const srcSampleOffsets = [];\r\n        const sampleReaders = [];\r\n        for (let i = 0; i < samples.length; ++i) {\r\n            if (this.planarConfiguration === 1) {\r\n                srcSampleOffsets.push(sum(await this.fileDirectory.loadValue('BitsPerSample'), 0, samples[i]) / 8);\r\n            }\r\n            else {\r\n                srcSampleOffsets.push(0);\r\n            }\r\n            sampleReaders.push(this.getReaderForSample(samples[i]));\r\n        }\r\n        const promises = [];\r\n        const { littleEndian } = this;\r\n        for (let yTile = minYTile; yTile < maxYTile; ++yTile) {\r\n            for (let xTile = minXTile; xTile < maxXTile; ++xTile) {\r\n                let getPromise;\r\n                if (this.planarConfiguration === 1) {\r\n                    getPromise = this.getTileOrStrip(xTile, yTile, 0, poolOrDecoder, signal);\r\n                }\r\n                for (let sampleIndex = 0; sampleIndex < samples.length; ++sampleIndex) {\r\n                    const si = sampleIndex;\r\n                    const sample = samples[sampleIndex];\r\n                    if (this.planarConfiguration === 2) {\r\n                        bytesPerPixel = this.getSampleByteSize(sample);\r\n                        getPromise = this.getTileOrStrip(xTile, yTile, sample, poolOrDecoder, signal);\r\n                    }\r\n                    if (!getPromise) {\r\n                        throw new Error('Could not get tile or strip data.');\r\n                    }\r\n                    const promise = getPromise.then((tile) => {\r\n                        const buffer = tile.data;\r\n                        const dataView = new DataView(buffer);\r\n                        const blockHeight = this.getBlockHeight(tile.y);\r\n                        const firstLine = tile.y * tileHeight;\r\n                        const firstCol = tile.x * tileWidth;\r\n                        const lastLine = firstLine + blockHeight;\r\n                        const lastCol = (tile.x + 1) * tileWidth;\r\n                        const reader = sampleReaders[si];\r\n                        const ymax = Math.min(blockHeight, blockHeight - (lastLine - imageWindow[3]), imageHeight - firstLine);\r\n                        const xmax = Math.min(tileWidth, tileWidth - (lastCol - imageWindow[2]), imageWidth - firstCol);\r\n                        for (let y = Math.max(0, imageWindow[1] - firstLine); y < ymax; ++y) {\r\n                            for (let x = Math.max(0, imageWindow[0] - firstCol); x < xmax; ++x) {\r\n                                const pixelOffset = ((y * tileWidth) + x) * bytesPerPixel;\r\n                                const value = reader.call(dataView, pixelOffset + srcSampleOffsets[si], littleEndian);\r\n                                let windowCoordinate;\r\n                                if (interleave) {\r\n                                    windowCoordinate = ((y + firstLine - imageWindow[1]) * windowWidth * samples.length)\r\n                                        + ((x + firstCol - imageWindow[0]) * samples.length)\r\n                                        + si;\r\n                                    valueArrays[windowCoordinate] = value;\r\n                                }\r\n                                else {\r\n                                    windowCoordinate = ((y + firstLine - imageWindow[1]) * windowWidth) + x + firstCol - imageWindow[0];\r\n                                    valueArrays[si][windowCoordinate] = value;\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                    promises.push(promise);\r\n                }\r\n            }\r\n        }\r\n        await Promise.all(promises);\r\n        if ((width && (imageWindow[2] - imageWindow[0]) !== width)\r\n            || (height && (imageWindow[3] - imageWindow[1]) !== height)) {\r\n            let resampled;\r\n            if (interleave) {\r\n                resampled = resampleInterleaved(\r\n                /** @type {TypedArray} */ (valueArrays), imageWindow[2] - imageWindow[0], imageWindow[3] - imageWindow[1], \r\n                /** @type {number} */ (width), /** @type {number} */ (height), samples.length, resampleMethod);\r\n            }\r\n            else {\r\n                resampled = resample(\r\n                /** @type {TypedArray[]} */ (valueArrays), imageWindow[2] - imageWindow[0], imageWindow[3] - imageWindow[1], \r\n                /** @type {number} */ (width), /** @type {number} */ (height), resampleMethod);\r\n            }\r\n            const resampledWithDimensions = /** @type {ReadRasterResult} */ (resampled);\r\n            resampledWithDimensions.width = width ?? imageWindow[2] - imageWindow[0];\r\n            resampledWithDimensions.height = height ?? imageWindow[3] - imageWindow[1];\r\n            return resampledWithDimensions;\r\n        }\r\n        const valueArraysWithDimensions = /** @type {ReadRasterResult} */ (valueArrays);\r\n        valueArraysWithDimensions.width = width || imageWindow[2] - imageWindow[0];\r\n        valueArraysWithDimensions.height = height || imageWindow[3] - imageWindow[1];\r\n        return valueArraysWithDimensions;\r\n    }\r\n    /**\r\n     * @overload\r\n     * @param {ReadRastersOptions & {interleave: true}} options optional parameters\r\n     * @returns {Promise<import(\"./geotiff\").TypedArrayWithDimensions>} the decoded arrays as a promise\r\n     */\r\n    /**\r\n     * @overload\r\n     * @param {ReadRastersOptions & {interleave: false}} options optional parameters\r\n     * @returns {Promise<import(\"./geotiff\").TypedArrayArrayWithDimensions>} the decoded arrays as a promise\r\n     */\r\n    /**\r\n     * @overload\r\n     * @param {ReadRastersOptions & {interleave: boolean}} options optional parameters\r\n     * @returns {Promise<ReadRasterResult>} the decoded arrays as a promise\r\n     */\r\n    /**\r\n     * @overload\r\n     * @param {ReadRastersOptions} [options={}] optional parameters\r\n     * @returns {Promise<import(\"./geotiff\").TypedArrayArrayWithDimensions>} the decoded arrays as a promise\r\n     */\r\n    /**\r\n     * Reads raster data from the image. This function reads all selected samples\r\n     * into separate arrays of the correct type for that sample or into a single\r\n     * combined array when `interleave` is set. When provided, only a subset\r\n     * of the raster is read for each sample.\r\n     *\r\n     * @param {ReadRastersOptions} [options={}] optional parameters\r\n     * @returns {Promise<ReadRasterResult>} the decoded arrays as a promise\r\n     */\r\n    async readRasters(options = {}) {\r\n        const { window: wnd, samples = [], pool = null, width, height, resampleMethod, fillValue, signal, } = options;\r\n        const interleave = 'interleave' in options && options.interleave;\r\n        const imageWindow = wnd || [0, 0, this.getWidth(), this.getHeight()];\r\n        // check parameters\r\n        if (imageWindow[0] > imageWindow[2] || imageWindow[1] > imageWindow[3]) {\r\n            throw new Error('Invalid subsets');\r\n        }\r\n        const imageWindowWidth = imageWindow[2] - imageWindow[0];\r\n        const imageWindowHeight = imageWindow[3] - imageWindow[1];\r\n        const numPixels = imageWindowWidth * imageWindowHeight;\r\n        const samplesPerPixel = this.getSamplesPerPixel();\r\n        if (!samples || !samples.length) {\r\n            for (let i = 0; i < samplesPerPixel; ++i) {\r\n                samples.push(i);\r\n            }\r\n        }\r\n        else {\r\n            for (let i = 0; i < samples.length; ++i) {\r\n                if (samples[i] >= samplesPerPixel) {\r\n                    return Promise.reject(new RangeError(`Invalid sample index '${samples[i]}'.`));\r\n                }\r\n            }\r\n        }\r\n        /** @type {TypedArray|TypedArray[]} */\r\n        let valueArrays;\r\n        if (interleave) {\r\n            const format = this.fileDirectory.hasTag('SampleFormat')\r\n                ? Math.max.apply(null, this.fileDirectory.getValue('SampleFormat')) : 1;\r\n            const bitsPerSample = Math.max.apply(null, this.fileDirectory.getValue('BitsPerSample'));\r\n            valueArrays = arrayForType(format, bitsPerSample, numPixels * samples.length);\r\n            if (fillValue) {\r\n                if (Array.isArray(fillValue)) {\r\n                    throw new Error('When reading interleaved data, fillValue must be a single number.');\r\n                }\r\n                valueArrays.fill(fillValue);\r\n            }\r\n        }\r\n        else {\r\n            valueArrays = [];\r\n            for (let i = 0; i < samples.length; ++i) {\r\n                const valueArray = this.getArrayForSample(samples[i], numPixels);\r\n                if (Array.isArray(fillValue) && i < fillValue.length) {\r\n                    valueArray.fill(fillValue[i]);\r\n                }\r\n                else if (fillValue && !Array.isArray(fillValue)) {\r\n                    valueArray.fill(fillValue);\r\n                }\r\n                valueArrays.push(valueArray);\r\n            }\r\n        }\r\n        const compression = this.fileDirectory.getValue('Compression') || 1;\r\n        const decoderParameters = await getDecoderParameters(compression, this.fileDirectory);\r\n        const poolOrDecoder = pool\r\n            ? pool.bindParameters(compression, decoderParameters)\r\n            : await getDecoder(compression, decoderParameters);\r\n        const result = await this._readRaster(imageWindow, samples, valueArrays, interleave, poolOrDecoder, width, height, resampleMethod, signal);\r\n        return result;\r\n    }\r\n    /**\r\n     * @overload\r\n     * @param {ReadRGBOptions & {interleave: true}} options optional parameters\r\n     * @returns {Promise<import(\"./geotiff\").TypedArrayWithDimensions>} the RGB array as a Promise\r\n     */\r\n    /**\r\n     * @overload\r\n     * @param {ReadRGBOptions & {interleave: false}} options optional parameters\r\n     * @returns {Promise<import(\"./geotiff\").TypedArrayArrayWithDimensions>} the RGB array as a Promise\r\n     */\r\n    /**\r\n     * @overload\r\n     * @param {ReadRGBOptions & {interleave: boolean}} options optional parameters\r\n     * @returns {Promise<ReadRasterResult>} the RGB array as a Promise\r\n     */\r\n    /**\r\n     * @overload\r\n     * @param {ReadRGBOptions} [options={}] optional parameters\r\n     * @returns {Promise<import(\"./geotiff\").TypedArrayArrayWithDimensions>} the RGB array as a Promise\r\n     */\r\n    /**\r\n     * Reads raster data from the image as RGB.\r\n     * Colorspaces other than RGB will be transformed to RGB, color maps expanded.\r\n     * When no other method is applicable, the first sample is used to produce a\r\n     * grayscale image.\r\n     * When provided, only a subset of the raster is read for each sample.\r\n     *\r\n     * @param {ReadRGBOptions} [options] optional parameters\r\n     * @returns {Promise<ReadRasterResult>} the RGB array as a Promise\r\n     */\r\n    async readRGB(options = {}) {\r\n        const { window, pool = null, width, height, resampleMethod, enableAlpha = false, signal } = options;\r\n        const interleave = ('interleave' in options && options.interleave) ?? false;\r\n        const imageWindow = window || [0, 0, this.getWidth(), this.getHeight()];\r\n        // check parameters\r\n        if (imageWindow[0] > imageWindow[2] || imageWindow[1] > imageWindow[3]) {\r\n            throw new Error('Invalid subsets');\r\n        }\r\n        const pi = this.fileDirectory.getValue('PhotometricInterpretation');\r\n        if (pi === photometricInterpretations.RGB) {\r\n            let s = [0, 1, 2];\r\n            if ((!(this.fileDirectory.getValue('ExtraSamples') === ExtraSamplesValues.Unspecified)) && enableAlpha) {\r\n                s = [];\r\n                for (let i = 0; i < this.fileDirectory.getValue('BitsPerSample').length; i += 1) {\r\n                    s.push(i);\r\n                }\r\n            }\r\n            return this.readRasters({\r\n                window,\r\n                interleave,\r\n                samples: s,\r\n                pool,\r\n                width,\r\n                height,\r\n                resampleMethod,\r\n                signal,\r\n            });\r\n        }\r\n        let samples;\r\n        switch (pi) {\r\n            case photometricInterpretations.WhiteIsZero:\r\n            case photometricInterpretations.BlackIsZero:\r\n            case photometricInterpretations.Palette:\r\n                samples = [0];\r\n                break;\r\n            case photometricInterpretations.CMYK:\r\n                samples = [0, 1, 2, 3];\r\n                break;\r\n            case photometricInterpretations.YCbCr:\r\n            case photometricInterpretations.CIELab:\r\n                samples = [0, 1, 2];\r\n                break;\r\n            default:\r\n                throw new Error('Invalid or unsupported photometric interpretation.');\r\n        }\r\n        const subOptions = {\r\n            window: imageWindow,\r\n            /** @type {true} */\r\n            interleave: true,\r\n            samples,\r\n            pool,\r\n            width,\r\n            height,\r\n            resampleMethod,\r\n            signal,\r\n        };\r\n        const { fileDirectory } = this;\r\n        const raster = await this.readRasters(subOptions);\r\n        const max = 2 ** this.getBitsPerSample(0);\r\n        let data;\r\n        switch (pi) {\r\n            case photometricInterpretations.WhiteIsZero:\r\n                data = fromWhiteIsZero(raster, max);\r\n                break;\r\n            case photometricInterpretations.BlackIsZero:\r\n                data = fromBlackIsZero(raster, max);\r\n                break;\r\n            case photometricInterpretations.Palette:\r\n                data = fromPalette(raster, await fileDirectory.loadValue('ColorMap'));\r\n                break;\r\n            case photometricInterpretations.CMYK:\r\n                data = fromCMYK(raster);\r\n                break;\r\n            case photometricInterpretations.YCbCr:\r\n                data = fromYCbCr(raster);\r\n                break;\r\n            case photometricInterpretations.CIELab:\r\n                data = fromCIELab(raster);\r\n                break;\r\n            default:\r\n                throw new Error('Unsupported photometric interpretation.');\r\n        }\r\n        // if non-interleaved data is requested, we must split the channels\r\n        // into their respective arrays\r\n        if (!interleave) {\r\n            const red = new Uint8Array(data.length / 3);\r\n            const green = new Uint8Array(data.length / 3);\r\n            const blue = new Uint8Array(data.length / 3);\r\n            for (let i = 0, j = 0; i < data.length; i += 3, ++j) {\r\n                red[j] = data[i];\r\n                green[j] = data[i + 1];\r\n                blue[j] = data[i + 2];\r\n            }\r\n            data = [red, green, blue];\r\n        }\r\n        const dataWithDimensions = /** @type {import(\"./geotiff\").ReadRasterResult} */ (data);\r\n        dataWithDimensions.width = raster.width;\r\n        dataWithDimensions.height = raster.height;\r\n        return dataWithDimensions;\r\n    }\r\n    /**\r\n     * Returns an array of tiepoints.\r\n     * @returns {Promise<Object[]>}\r\n     */\r\n    async getTiePoints() {\r\n        if (!this.fileDirectory.hasTag('ModelTiepoint')) {\r\n            return [];\r\n        }\r\n        const modelTiePoint = await this.fileDirectory.loadValue('ModelTiepoint');\r\n        const tiePoints = [];\r\n        for (let i = 0; i < modelTiePoint.length; i += 6) {\r\n            tiePoints.push({\r\n                i: modelTiePoint[i],\r\n                j: modelTiePoint[i + 1],\r\n                k: modelTiePoint[i + 2],\r\n                x: modelTiePoint[i + 3],\r\n                y: modelTiePoint[i + 4],\r\n                z: modelTiePoint[i + 5],\r\n            });\r\n        }\r\n        return tiePoints;\r\n    }\r\n    /**\r\n     * Returns the parsed GDAL metadata items.\r\n     *\r\n     * If sample is passed to null, dataset-level metadata will be returned.\r\n     * Otherwise only metadata specific to the provided sample will be returned.\r\n     *\r\n     * @param {number|null} [sample=null] The sample index.\r\n     * @returns {Promise<Object>}\r\n     */\r\n    async getGDALMetadata(sample = null) {\r\n        const metadata = {};\r\n        if (!this.fileDirectory.hasTag('GDAL_METADATA')) {\r\n            return null;\r\n        }\r\n        const string = await this.fileDirectory.loadValue('GDAL_METADATA');\r\n        let items = findTagsByName(string, 'Item');\r\n        if (sample === null) {\r\n            items = items.filter((item) => getAttribute(item, 'sample') === undefined);\r\n        }\r\n        else {\r\n            items = items.filter((item) => Number(getAttribute(item, 'sample')) === sample);\r\n        }\r\n        for (let i = 0; i < items.length; ++i) {\r\n            const item = items[i];\r\n            metadata[getAttribute(item, 'name')] = item.inner;\r\n        }\r\n        return metadata;\r\n    }\r\n    /**\r\n     * Returns the GDAL nodata value\r\n     * @returns {number|null}\r\n     */\r\n    getGDALNoData() {\r\n        if (!this.fileDirectory.hasTag('GDAL_NODATA')) {\r\n            return null;\r\n        }\r\n        const string = this.fileDirectory.getValue('GDAL_NODATA');\r\n        return Number(string.substring(0, string.length - 1));\r\n    }\r\n    /**\r\n     * Returns the image origin as a XYZ-vector. When the image has no affine\r\n     * transformation, then an exception is thrown.\r\n     * @returns {Array<number>} The origin as a vector\r\n     */\r\n    getOrigin() {\r\n        const tiePoints = this.fileDirectory.getValue('ModelTiepoint');\r\n        const modelTransformation = this.fileDirectory.getValue('ModelTransformation');\r\n        if (tiePoints && tiePoints.length === 6) {\r\n            return [\r\n                tiePoints[3],\r\n                tiePoints[4],\r\n                tiePoints[5],\r\n            ];\r\n        }\r\n        if (modelTransformation) {\r\n            return [\r\n                modelTransformation[3],\r\n                modelTransformation[7],\r\n                modelTransformation[11],\r\n            ];\r\n        }\r\n        throw new Error('The image does not have an affine transformation.');\r\n    }\r\n    /**\r\n     * Returns the image resolution as a XYZ-vector. When the image has no affine\r\n     * transformation, then an exception is thrown.\r\n     * @param {GeoTIFFImage|null} [referenceImage=null] A reference image to calculate the resolution from\r\n     *                                             in cases when the current image does not have the\r\n     *                                             required tags on its own.\r\n     * @returns {Array<number>} The resolution as a vector\r\n     */\r\n    getResolution(referenceImage = null) {\r\n        const modelPixelScale = this.fileDirectory.getValue('ModelPixelScale');\r\n        const modelTransformation = this.fileDirectory.getValue('ModelTransformation');\r\n        if (modelPixelScale) {\r\n            return [\r\n                modelPixelScale[0],\r\n                -modelPixelScale[1],\r\n                modelPixelScale[2],\r\n            ];\r\n        }\r\n        if (modelTransformation) {\r\n            if (modelTransformation[1] === 0 && modelTransformation[4] === 0) {\r\n                return [\r\n                    modelTransformation[0],\r\n                    -modelTransformation[5],\r\n                    modelTransformation[10],\r\n                ];\r\n            }\r\n            return [\r\n                Math.sqrt((modelTransformation[0] * modelTransformation[0])\r\n                    + (modelTransformation[4] * modelTransformation[4])),\r\n                -Math.sqrt((modelTransformation[1] * modelTransformation[1])\r\n                    + (modelTransformation[5] * modelTransformation[5])),\r\n                modelTransformation[10]\r\n            ];\r\n        }\r\n        if (referenceImage) {\r\n            const [refResX, refResY, refResZ] = referenceImage.getResolution();\r\n            return [\r\n                refResX * referenceImage.getWidth() / this.getWidth(),\r\n                refResY * referenceImage.getHeight() / this.getHeight(),\r\n                refResZ * referenceImage.getWidth() / this.getWidth(),\r\n            ];\r\n        }\r\n        throw new Error('The image does not have an affine transformation.');\r\n    }\r\n    /**\r\n     * Returns whether or not the pixels of the image depict an area (or point).\r\n     * @returns {Boolean} Whether the pixels are a point\r\n     */\r\n    pixelIsArea() {\r\n        return this.getGeoKeys()?.GTRasterTypeGeoKey === 1;\r\n    }\r\n    /**\r\n     * Returns the image bounding box as an array of 4 values: min-x, min-y,\r\n     * max-x and max-y. When the image has no affine transformation, then an\r\n     * exception is thrown.\r\n     * @param {boolean} [tilegrid=false] If true return extent for a tilegrid\r\n     *                                   without adjustment for ModelTransformation.\r\n     * @returns {Array<number>} The bounding box\r\n     */\r\n    getBoundingBox(tilegrid = false) {\r\n        const height = this.getHeight();\r\n        const width = this.getWidth();\r\n        if (this.fileDirectory.hasTag('ModelTransformation') && !tilegrid) {\r\n            // eslint-disable-next-line no-unused-vars\r\n            const [a, b, c, d, e, f, g, h] = this.fileDirectory.getValue('ModelTransformation');\r\n            const corners = [\r\n                [0, 0],\r\n                [0, height],\r\n                [width, 0],\r\n                [width, height],\r\n            ];\r\n            const projected = corners.map(([I, J]) => [\r\n                d + (a * I) + (b * J),\r\n                h + (e * I) + (f * J),\r\n            ]);\r\n            const xs = projected.map((pt) => pt[0]);\r\n            const ys = projected.map((pt) => pt[1]);\r\n            return [\r\n                Math.min(...xs),\r\n                Math.min(...ys),\r\n                Math.max(...xs),\r\n                Math.max(...ys),\r\n            ];\r\n        }\r\n        else {\r\n            const origin = this.getOrigin();\r\n            const resolution = this.getResolution();\r\n            const x1 = origin[0];\r\n            const y1 = origin[1];\r\n            const x2 = x1 + (resolution[0] * width);\r\n            const y2 = y1 + (resolution[1] * height);\r\n            return [\r\n                Math.min(x1, x2),\r\n                Math.min(y1, y2),\r\n                Math.max(x1, x2),\r\n                Math.max(y1, y2),\r\n            ];\r\n        }\r\n    }\r\n}\r\nexport default GeoTIFFImage;\r\n", "import { getFloat16 } from '@petamoriken/float16';\r\nexport default class DataView64 {\r\n    constructor(arrayBuffer) {\r\n        this._dataView = new DataView(arrayBuffer);\r\n    }\r\n    get buffer() {\r\n        return this._dataView.buffer;\r\n    }\r\n    getUint64(offset, littleEndian) {\r\n        const left = this.getUint32(offset, littleEndian);\r\n        const right = this.getUint32(offset + 4, littleEndian);\r\n        let combined;\r\n        if (littleEndian) {\r\n            combined = left + ((2 ** 32) * right);\r\n            if (!Number.isSafeInteger(combined)) {\r\n                throw new Error(`${combined} exceeds MAX_SAFE_INTEGER. `\r\n                    + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\r\n            }\r\n            return combined;\r\n        }\r\n        combined = ((2 ** 32) * left) + right;\r\n        if (!Number.isSafeInteger(combined)) {\r\n            throw new Error(`${combined} exceeds MAX_SAFE_INTEGER. `\r\n                + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\r\n        }\r\n        return combined;\r\n    }\r\n    // adapted from https://stackoverflow.com/a/55338384/8060591\r\n    getInt64(offset, littleEndian) {\r\n        let value = 0;\r\n        const isNegative = (this._dataView.getUint8(offset + (littleEndian ? 7 : 0)) & 0x80) > 0;\r\n        let carrying = true;\r\n        for (let i = 0; i < 8; i++) {\r\n            let byte = this._dataView.getUint8(offset + (littleEndian ? i : 7 - i));\r\n            if (isNegative) {\r\n                if (carrying) {\r\n                    if (byte !== 0x00) {\r\n                        byte = ~(byte - 1) & 0xff;\r\n                        carrying = false;\r\n                    }\r\n                }\r\n                else {\r\n                    byte = ~byte & 0xff;\r\n                }\r\n            }\r\n            value += byte * (256 ** i);\r\n        }\r\n        if (isNegative) {\r\n            value = -value;\r\n        }\r\n        return value;\r\n    }\r\n    getUint8(offset) {\r\n        return this._dataView.getUint8(offset);\r\n    }\r\n    getInt8(offset) {\r\n        return this._dataView.getInt8(offset);\r\n    }\r\n    getUint16(offset, littleEndian) {\r\n        return this._dataView.getUint16(offset, littleEndian);\r\n    }\r\n    getInt16(offset, littleEndian) {\r\n        return this._dataView.getInt16(offset, littleEndian);\r\n    }\r\n    getUint32(offset, littleEndian) {\r\n        return this._dataView.getUint32(offset, littleEndian);\r\n    }\r\n    getInt32(offset, littleEndian) {\r\n        return this._dataView.getInt32(offset, littleEndian);\r\n    }\r\n    getFloat16(offset, littleEndian) {\r\n        return getFloat16(this._dataView, offset, littleEndian);\r\n    }\r\n    getFloat32(offset, littleEndian) {\r\n        return this._dataView.getFloat32(offset, littleEndian);\r\n    }\r\n    getFloat64(offset, littleEndian) {\r\n        return this._dataView.getFloat64(offset, littleEndian);\r\n    }\r\n}\r\n", "export default class DataSlice {\r\n    constructor(arrayBuffer, sliceOffset, littleEndian, bigTiff) {\r\n        this._dataView = new DataView(arrayBuffer);\r\n        this._sliceOffset = sliceOffset;\r\n        this._littleEndian = littleEndian;\r\n        this._bigTiff = bigTiff;\r\n    }\r\n    get sliceOffset() {\r\n        return this._sliceOffset;\r\n    }\r\n    get sliceTop() {\r\n        return this._sliceOffset + this.buffer.byteLength;\r\n    }\r\n    get littleEndian() {\r\n        return this._littleEndian;\r\n    }\r\n    get bigTiff() {\r\n        return this._bigTiff;\r\n    }\r\n    get buffer() {\r\n        return this._dataView.buffer;\r\n    }\r\n    covers(offset, length) {\r\n        return this.sliceOffset <= offset && this.sliceTop >= offset + length;\r\n    }\r\n    readUint8(offset) {\r\n        return this._dataView.getUint8(offset - this._sliceOffset);\r\n    }\r\n    readInt8(offset) {\r\n        return this._dataView.getInt8(offset - this._sliceOffset);\r\n    }\r\n    readUint16(offset) {\r\n        return this._dataView.getUint16(offset - this._sliceOffset, this._littleEndian);\r\n    }\r\n    readInt16(offset) {\r\n        return this._dataView.getInt16(offset - this._sliceOffset, this._littleEndian);\r\n    }\r\n    readUint32(offset) {\r\n        return this._dataView.getUint32(offset - this._sliceOffset, this._littleEndian);\r\n    }\r\n    readInt32(offset) {\r\n        return this._dataView.getInt32(offset - this._sliceOffset, this._littleEndian);\r\n    }\r\n    readFloat32(offset) {\r\n        return this._dataView.getFloat32(offset - this._sliceOffset, this._littleEndian);\r\n    }\r\n    readFloat64(offset) {\r\n        return this._dataView.getFloat64(offset - this._sliceOffset, this._littleEndian);\r\n    }\r\n    readUint64(offset) {\r\n        const left = this.readUint32(offset);\r\n        const right = this.readUint32(offset + 4);\r\n        let combined;\r\n        if (this._littleEndian) {\r\n            combined = left + ((2 ** 32) * right);\r\n            if (!Number.isSafeInteger(combined)) {\r\n                throw new Error(`${combined} exceeds MAX_SAFE_INTEGER. `\r\n                    + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\r\n            }\r\n            return combined;\r\n        }\r\n        combined = ((2 ** 32) * left) + right;\r\n        if (!Number.isSafeInteger(combined)) {\r\n            throw new Error(`${combined} exceeds MAX_SAFE_INTEGER. `\r\n                + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\r\n        }\r\n        return combined;\r\n    }\r\n    // adapted from https://stackoverflow.com/a/55338384/8060591\r\n    readInt64(offset) {\r\n        let value = 0;\r\n        const isNegative = (this._dataView.getUint8(offset + (this._littleEndian ? 7 : 0)) & 0x80)\r\n            > 0;\r\n        let carrying = true;\r\n        for (let i = 0; i < 8; i++) {\r\n            let byte = this._dataView.getUint8(offset + (this._littleEndian ? i : 7 - i));\r\n            if (isNegative) {\r\n                if (carrying) {\r\n                    if (byte !== 0x00) {\r\n                        byte = ~(byte - 1) & 0xff;\r\n                        carrying = false;\r\n                    }\r\n                }\r\n                else {\r\n                    byte = ~byte & 0xff;\r\n                }\r\n            }\r\n            value += byte * (256 ** i);\r\n        }\r\n        if (isNegative) {\r\n            value = -value;\r\n        }\r\n        return value;\r\n    }\r\n    readOffset(offset) {\r\n        if (this._bigTiff) {\r\n            return this.readUint64(offset);\r\n        }\r\n        return this.readUint32(offset);\r\n    }\r\n}\r\n", "/**\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nexport default typeof Worker !== 'undefined' ? Worker : undefined;\r\n", "import Worker from 'web-worker';\r\n\r\nexport default function create() {\r\n  const source = \"const A=new Map;async function I(A){const I=!A.hasTag(\\\"StripOffsets\\\");return{tileWidth:I?await A.loadValue(\\\"TileWidth\\\"):await A.loadValue(\\\"ImageWidth\\\"),tileHeight:I?await A.loadValue(\\\"TileLength\\\"):await A.loadValue(\\\"RowsPerStrip\\\")||await A.loadValue(\\\"ImageLength\\\"),planarConfiguration:await A.loadValue(\\\"PlanarConfiguration\\\"),bitsPerSample:await A.loadValue(\\\"BitsPerSample\\\"),predictor:await A.loadValue(\\\"Predictor\\\")||1}}function g(g,B,C=I,Q=!0){Array.isArray(g)||(g=[g]),g.forEach((I=>{A.set(I,{importFn:B,decoderParameterFn:C,preferWorker:Q})}))}const B=[{cases:[void 0,1],importFn:()=>Promise.resolve().then((function(){return e})).then((A=>A.default)),preferWorker:!1},{cases:5,importFn:()=>Promise.resolve().then((function(){return o})).then((A=>A.default))},{cases:6,importFn:()=>{throw new Error(\\\"old style JPEG compression is not supported.\\\")}},{cases:7,importFn:()=>Promise.resolve().then((function(){return w})).then((A=>A.default)),decoderParameterFn:async A=>({...await I(A),JPEGTables:await A.loadValue(\\\"JPEGTables\\\")})},{cases:[8,32946],importFn:()=>Promise.resolve().then((function(){return Qg})).then((A=>A.default))},{cases:32773,importFn:()=>Promise.resolve().then((function(){return ig})).then((A=>A.default))},{cases:34887,importFn:()=>Promise.resolve().then((function(){return Rg})).then((async A=>(await A.zstd.init(),A))).then((A=>A.default)),decoderParameterFn:async A=>({...await I(A),LercParameters:await A.loadValue(\\\"LercParameters\\\")})},{cases:5e4,importFn:()=>Promise.resolve().then((function(){return Jg})).then((async A=>(await A.zstd.init(),A))).then((A=>A.default))},{cases:50001,importFn:()=>Promise.resolve().then((function(){return Hg})).then((A=>A.default)),decoderParameterFn:async A=>({...await I(A),samplesPerPixel:await A.loadValue(\\\"SamplesPerPixel\\\")||4}),preferWorker:!1}];for(const A of B){const{cases:I,importFn:B,decoderParameterFn:C,preferWorker:Q}=A;g(I,B,C,Q)}const C=globalThis;function Q(A,I){let g=A.length-I,B=0;do{for(let g=I;g>0;g--)A[B+I]+=A[B],B++;g-=I}while(g>0)}function E(A,I,g){let B=0,C=A.length;const Q=C/g;for(;C>I;){for(let g=I;g>0;--g)A[B+I]+=A[B],++B;C-=I}const E=A.slice();for(let I=0;I<Q;++I)for(let B=0;B<g;++B)A[g*I+B]=E[(g-B-1)*Q+I]}C.addEventListener(\\\"message\\\",(async I=>{const{compression:g,decoderParameters:B,buffer:Q,...E}=I.data;try{const I=await async function(I,g){if(!A.has(I))throw new Error(`Unknown compression method identifier: ${I}`);const{importFn:B}=A.get(I);return new(await B())(g)}(g,B),i=await I.decode(Q);C.postMessage({decoded:i,...E},{transfer:[i]})}catch(A){C.postMessage({error:A.message,...E})}}));class i{constructor(A){this.parameters=A}decodeBlock(A){throw new Error(\\\"decodeBlock not implemented\\\")}async decode(A){const I=await this.decodeBlock(A),{tileWidth:g,tileHeight:B,predictor:C,bitsPerSample:i,planarConfiguration:e}=this.parameters;return 1!==C?function(A,I,g,B,C,i){if(!I||1===I)return A;for(let A=0;A<C.length;++A){if(C[A]%8!=0)throw new Error(\\\"When decoding with predictor, only multiple of 8 bits are supported.\\\");if(C[A]!==C[0])throw new Error(\\\"When decoding with predictor, all samples must have the same size.\\\")}const e=C[0]/8,a=2===i?1:C.length;for(let i=0;i<B&&!(i*a*g*e>=A.byteLength);++i){let B;if(2===I){switch(C[0]){case 8:B=new Uint8Array(A,i*a*g*e,a*g*e);break;case 16:B=new Uint16Array(A,i*a*g*e,a*g*e/2);break;case 32:B=new Uint32Array(A,i*a*g*e,a*g*e/4);break;default:throw new Error(`Predictor 2 not allowed with ${C[0]} bits per sample.`)}Q(B,a)}else 3===I&&(B=new Uint8Array(A,i*a*g*e,a*g*e),E(B,a,e))}return A}(I,C,g,B,i,e):I}}var e=Object.freeze({__proto__:null,default:class extends i{decodeBlock(A){return A}}});function a(A,I){for(let g=I.length-1;g>=0;g--)A.push(I[g]);return A}function t(A){const I=new Uint16Array(4093),g=new Uint8Array(4093);for(let A=0;A<=257;A++)I[A]=4096,g[A]=A;let B=258,C=9,Q=0;function E(){B=258,C=9}function i(A){const I=function(A,I,g){const B=I%8,C=Math.floor(I/8),Q=8-B,E=I+g-8*(C+1);let i=8*(C+2)-(I+g);const e=8*(C+2)-I;if(i=Math.max(0,i),C>=A.length)return console.warn(\\\"ran off the end of the buffer before finding EOI_CODE (end on input code)\\\"),257;let a=A[C]&2**(8-B)-1;a<<=g-Q;let t=a;if(C+1<A.length){let I=A[C+1]>>>i;I<<=Math.max(0,g-e),t+=I}if(E>8&&C+2<A.length){const B=8*(C+3)-(I+g);t+=A[C+2]>>>B}return t}(A,Q,C);return Q+=C,I}function e(A,C){return g[B]=C,I[B]=A,B++,B-1}function t(A){const B=[];for(let C=A;4096!==C;C=I[C])B.push(g[C]);return B}const o=[];E();const s=new Uint8Array(A);let r,D=i(s);for(;257!==D;){if(256===D){for(E(),D=i(s);256===D;)D=i(s);if(257===D)break;if(D>256)throw new Error(`corrupted code at scanline ${D}`);a(o,t(D)),r=D}else if(D<B){const A=t(D);a(o,A),e(r,A[A.length-1]),r=D}else{const A=t(r);if(!A)throw new Error(`Bogus entry. Not in dictionary, ${r} / ${B}, position: ${Q}`);a(o,A),o.push(A[A.length-1]),e(r,A[A.length-1]),r=D}B+1>=2**C&&(12===C?r=void 0:C++),D=i(s)}return new Uint8Array(o)}var o=Object.freeze({__proto__:null,default:class extends i{decodeBlock(A){return t(A).buffer}}});const s=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function r(A,I){let g=0;const B=[];let C=16;for(;C>0&&!A[C-1];)--C;B.push({children:[],index:0});let Q,E=B[0];for(let i=0;i<C;i++){for(let C=0;C<A[i];C++){if(E=B.pop(),!E)throw new Error(\\\"buildHuffmanTable: codeLength mismatch\\\");for(E.children[E.index]=I[g];E.index>0;)if(E=B.pop(),!E)throw new Error(\\\"buildHuffmanTable: codeLength mismatch\\\");for(E.index++,B.push(E);B.length<=i;)B.push(Q={children:[],index:0}),E.children[E.index]=Q.children,E=Q;g++}i+1<C&&(B.push(Q={children:[],index:0}),E.children[E.index]=Q.children,E=Q)}return B[0].children}function D(A,I,g,B,C,Q,E,i,e){const{mcusPerLine:a,progressive:t}=g,o=I;let r=I,D=0,n=0;function h(){if(n>0)return n--,D>>n&1;if(D=A[r++],255===D){const I=A[r++];if(I)throw new Error(`unexpected marker: ${(D<<8|I).toString(16)}`)}return n=7,D>>>7}function w(A){let I,g=A;for(;null!==(I=h());){if(g=g[I],\\\"number\\\"==typeof g)return g;if(\\\"object\\\"!=typeof g)throw new Error(\\\"invalid huffman sequence\\\")}return null}function y(A){let I=A,g=0;for(;I>0;){const A=h();if(null===A)return;g=g<<1|A,--I}return g}function G(A){const I=y(A);if(void 0!==I)return I>=1<<A-1?I:I+(-1<<A)+1}let S=0;let N,c=0;function d(A,I,g,B,C){const Q=g%a,E=(g/a|0)*A.v+B,i=Q*A.h+C;I(A,A.blocks[E][i])}function F(A,I,g){const B=g/A.blocksPerLine|0,C=g%A.blocksPerLine;I(A,A.blocks[B][C])}const l=B.length;let k,R,L,U,f,Y;Y=t?0===Q?0===i?function(A,I){const g=w(A.huffmanTableDC),B=G(g);if(void 0===B)throw new Error(\\\"Unexpected end of data in DC coefficient decoding\\\");const C=0===g?0:B<<e;A.pred+=C,I[0]=A.pred}:function(A,I){I[0]|=h()<<e}:0===i?function(A,I){if(S>0)return void S--;let g=Q;const B=E;for(;g<=B;){const B=w(A.huffmanTableAC);if(null===B)throw new Error(\\\"Unexpected end of data in AC coefficient decoding\\\");const C=15&B,Q=B>>4;if(0===C){if(Q<15){const A=y(Q);if(void 0===A)throw new Error(\\\"Unexpected end of data in AC coefficient decoding\\\");S=A+(1<<Q)-1;break}g+=16}else{g+=Q;const A=s[g],B=G(C);if(void 0===B)throw new Error(\\\"Unexpected end of data in AC coefficient decoding\\\");I[A]=B*(1<<e),g++}}}:function(A,I){let g=Q;const B=E;let C=0;for(;g<=B;){const B=s[g],Q=I[B]<0?-1:1;switch(c){case 0:{const I=w(A.huffmanTableAC);if(null===I)throw new Error(\\\"Unexpected end of data in AC coefficient decoding\\\");const g=15&I;if(C=I>>4,0===g)if(C<15){const A=y(C);if(void 0===A)throw new Error(\\\"Unexpected end of data in AC coefficient decoding\\\");S=A+(1<<C),c=4}else C=16,c=1;else{if(1!==g)throw new Error(\\\"invalid ACn encoding\\\");N=G(g),c=C?2:3}continue}case 1:case 2:I[B]?I[B]+=(h()<<e)*Q:(C--,0===C&&(c=2===c?3:0));break;case 3:I[B]?I[B]+=(h()<<e)*Q:(I[B]=N<<e,c=0);break;case 4:I[B]&&(I[B]+=(h()<<e)*Q)}g++}4===c&&(S--,0===S&&(c=0))}:function(A,I){const g=w(A.huffmanTableDC),B=0===g?0:G(g);A.pred+=B,I[0]=A.pred;let C=1;for(;C<64;){const g=w(A.huffmanTableAC);if(null===g)throw new Error(\\\"Unexpected end of data in AC coefficient decoding\\\");const B=15&g,Q=g>>4;if(0===B){if(Q<15)break;C+=16}else C+=Q,I[s[C]]=G(B),C++}};let K,u,M=0;u=1===l?B[0].blocksPerLine*B[0].blocksPerColumn:a*g.mcusPerColumn;const J=C||u;for(;M<u;){for(R=0;R<l;R++)B[R].pred=0;if(S=0,1===l)for(k=B[0],f=0;f<J;f++)F(k,Y,M),M++;else for(f=0;f<J;f++){for(R=0;R<l;R++){k=B[R];const{h:A,v:I}=k;for(L=0;L<I;L++)for(U=0;U<A;U++)d(k,Y,M,L,U)}if(M++,M===u)break}if(n=0,K=A[r]<<8|A[r+1],K<65280)throw new Error(\\\"marker was not found\\\");if(!(K>=65488&&K<=65495))break;r+=2}return r-o}function n(A,I){const g=[],{blocksPerLine:B,blocksPerColumn:C}=I,Q=B<<3,E=new Int32Array(64),i=new Uint8Array(64);function e(A,g,B){const C=I.quantizationTable;let Q,E,i,e,a,t,o,s,r;const D=B;let n;for(n=0;n<64;n++)D[n]=A[n]*C[n];for(n=0;n<8;++n){const A=8*n;0!==D[1+A]||0!==D[2+A]||0!==D[3+A]||0!==D[4+A]||0!==D[5+A]||0!==D[6+A]||0!==D[7+A]?(Q=5793*D[0+A]+128>>8,E=5793*D[4+A]+128>>8,i=D[2+A],e=D[6+A],a=2896*(D[1+A]-D[7+A])+128>>8,s=2896*(D[1+A]+D[7+A])+128>>8,t=D[3+A]<<4,o=D[5+A]<<4,r=Q-E+1>>1,Q=Q+E+1>>1,E=r,r=3784*i+1567*e+128>>8,i=1567*i-3784*e+128>>8,e=r,r=a-o+1>>1,a=a+o+1>>1,o=r,r=s+t+1>>1,t=s-t+1>>1,s=r,r=Q-e+1>>1,Q=Q+e+1>>1,e=r,r=E-i+1>>1,E=E+i+1>>1,i=r,r=2276*a+3406*s+2048>>12,a=3406*a-2276*s+2048>>12,s=r,r=799*t+4017*o+2048>>12,t=4017*t-799*o+2048>>12,o=r,D[0+A]=Q+s,D[7+A]=Q-s,D[1+A]=E+o,D[6+A]=E-o,D[2+A]=i+t,D[5+A]=i-t,D[3+A]=e+a,D[4+A]=e-a):(r=5793*D[0+A]+512>>10,D[0+A]=r,D[1+A]=r,D[2+A]=r,D[3+A]=r,D[4+A]=r,D[5+A]=r,D[6+A]=r,D[7+A]=r)}for(n=0;n<8;++n){const A=n;0!==D[8+A]||0!==D[16+A]||0!==D[24+A]||0!==D[32+A]||0!==D[40+A]||0!==D[48+A]||0!==D[56+A]?(Q=5793*D[0+A]+2048>>12,E=5793*D[32+A]+2048>>12,i=D[16+A],e=D[48+A],a=2896*(D[8+A]-D[56+A])+2048>>12,s=2896*(D[8+A]+D[56+A])+2048>>12,t=D[24+A],o=D[40+A],r=Q-E+1>>1,Q=Q+E+1>>1,E=r,r=3784*i+1567*e+2048>>12,i=1567*i-3784*e+2048>>12,e=r,r=a-o+1>>1,a=a+o+1>>1,o=r,r=s+t+1>>1,t=s-t+1>>1,s=r,r=Q-e+1>>1,Q=Q+e+1>>1,e=r,r=E-i+1>>1,E=E+i+1>>1,i=r,r=2276*a+3406*s+2048>>12,a=3406*a-2276*s+2048>>12,s=r,r=799*t+4017*o+2048>>12,t=4017*t-799*o+2048>>12,o=r,D[0+A]=Q+s,D[56+A]=Q-s,D[8+A]=E+o,D[48+A]=E-o,D[16+A]=i+t,D[40+A]=i-t,D[24+A]=e+a,D[32+A]=e-a):(r=5793*B[n+0]+8192>>14,D[0+A]=r,D[8+A]=r,D[16+A]=r,D[24+A]=r,D[32+A]=r,D[40+A]=r,D[48+A]=r,D[56+A]=r)}for(n=0;n<64;++n){const A=128+(D[n]+8>>4);g[n]=A<0?0:A>255?255:A}}for(let A=0;A<C;A++){const C=A<<3;for(let A=0;A<8;A++)g.push(new Uint8Array(Q));for(let Q=0;Q<B;Q++){e(I.blocks[A][Q],i,E);let B=0;const a=Q<<3;for(let A=0;A<8;A++){const I=g[C+A];for(let A=0;A<8;A++)I[a+A]=i[B++]}}}return g}class h{constructor(){this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.frames=[]}resetFrames(){this.frames=[]}parse(A){let I=0;function g(){const g=A[I]<<8|A[I+1];return I+=2,g}function B(){const B=g(),C=A.subarray(I,I+B-2);return I+=C.length,C}function C(A){let I,g,B=0,C=0;for(g in A.components)A.components.hasOwnProperty(g)&&(I=A.components[g],B<I.h&&(B=I.h),C<I.v&&(C=I.v));const Q=Math.ceil(A.samplesPerLine/8/B),E=Math.ceil(A.scanLines/8/C);for(g in A.components)if(A.components.hasOwnProperty(g)){I=A.components[g];const i=Math.ceil(Math.ceil(A.samplesPerLine/8)*I.h/B),e=Math.ceil(Math.ceil(A.scanLines/8)*I.v/C),a=Q*I.h,t=E*I.v,o=[];for(let A=0;A<t;A++){const A=[];for(let I=0;I<a;I++)A.push(new Int32Array(64));o.push(A)}I.blocksPerLine=i,I.blocksPerColumn=e,I.blocks=o}A.maxH=B,A.maxV=C,A.mcusPerLine=Q,A.mcusPerColumn=E}let Q=g();if(65496!==Q)throw new Error(\\\"SOI not found\\\");for(Q=g();65497!==Q;){switch(Q){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{const A=B();65504===Q&&74===A[0]&&70===A[1]&&73===A[2]&&70===A[3]&&0===A[4]&&(this.jfif={version:{major:A[5],minor:A[6]},densityUnits:A[7],xDensity:A[8]<<8|A[9],yDensity:A[10]<<8|A[11],thumbWidth:A[12],thumbHeight:A[13],thumbData:A.subarray(14,14+3*A[12]*A[13])}),65518===Q&&65===A[0]&&100===A[1]&&111===A[2]&&98===A[3]&&101===A[4]&&0===A[5]&&(this.adobe={version:A[6],flags0:A[7]<<8|A[8],flags1:A[9]<<8|A[10],transformCode:A[11]});break}case 65499:{const B=g()+I-2;for(;I<B;){const B=A[I++],C=new Int32Array(64);if(B>>4==0)for(let g=0;g<64;g++){C[s[g]]=A[I++]}else{if(B>>4!=1)throw new Error(\\\"DQT: invalid table spec\\\");for(let A=0;A<64;A++){C[s[A]]=g()}}this.quantizationTables[15&B]=C}break}case 65472:case 65473:case 65474:{g();const B={extended:65473===Q,progressive:65474===Q,precision:A[I++],scanLines:g(),samplesPerLine:g(),components:{},componentsOrder:[]},E=A[I++];let i;for(let g=0;g<E;g++){i=A[I];const g=A[I+1]>>4,C=15&A[I+1],Q=A[I+2];B.componentsOrder.push(i),B.components[i]={h:g,v:C,quantizationIdx:Q},I+=3}C(B),this.frames.push(B);break}case 65476:{const B=g();for(let g=2;g<B;){const B=A[I++],C=new Uint8Array(16);let Q=0;for(let g=0;g<16;g++,I++)C[g]=A[I],Q+=C[g];const E=new Uint8Array(Q);for(let g=0;g<Q;g++,I++)E[g]=A[I];g+=17+Q,B>>4==0?this.huffmanTablesDC[15&B]=r(C,E):this.huffmanTablesAC[15&B]=r(C,E)}break}case 65501:g(),this.resetInterval=g();break;case 65498:{g();const B=A[I++],C=[],Q=this.frames[0];for(let g=0;g<B;g++){const g=Q.components[A[I++]],B=A[I++];g.huffmanTableDC=this.huffmanTablesDC[B>>4],g.huffmanTableAC=this.huffmanTablesAC[15&B],C.push(g)}const E=A[I++],i=A[I++],e=A[I++],a=D(A,I,Q,C,this.resetInterval,E,i,e>>4,15&e);I+=a;break}case 65535:255!==A[I]&&I--;break;default:if(255===A[I-3]&&A[I-2]>=192&&A[I-2]<=254){I-=3;break}throw new Error(`unknown JPEG marker ${Q.toString(16)}`)}Q=g()}}getResult(){const{frames:A}=this;if(0===this.frames.length)throw new Error(\\\"no frames were decoded\\\");this.frames.length>1&&console.warn(\\\"more than one frame is not supported\\\");for(let A=0;A<this.frames.length;A++){const I=this.frames[A].components;for(const A of Object.keys(I))I[A].quantizationTable=this.quantizationTables[I[A].quantizationIdx],delete I[A].quantizationIdx}const I=A[0],{components:g,componentsOrder:B}=I,C=[],Q=I.samplesPerLine,E=I.scanLines;for(let A=0;A<B.length;A++){const Q=g[B[A]];C.push({lines:n(0,Q),scaleX:Q.h/I.maxH,scaleY:Q.v/I.maxV})}const i=new Uint8Array(Q*E*C.length);let e=0;for(let A=0;A<E;++A)for(let I=0;I<Q;++I)for(let g=0;g<C.length;++g){const B=C[g];i[e]=B.lines[0|A*B.scaleY][0|I*B.scaleX],++e}return i}}var w=Object.freeze({__proto__:null,default:class extends i{constructor(A){super(A),this.reader=new h,A.JPEGTables&&this.reader.parse(A.JPEGTables)}decodeBlock(A){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(A)),this.reader.getResult().buffer}}});\\n/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */function y(A){let I=A.length;for(;--I>=0;)A[I]=0}const G=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),S=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),N=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new Array(576);y(d);const F=new Array(60);y(F);const l=new Array(512);y(l);const k=new Array(256);y(k);const R=new Array(29);y(R);const L=new Array(30);function U(A,I,g,B,C){this.static_tree=A,this.extra_bits=I,this.extra_base=g,this.elems=B,this.max_length=C,this.has_stree=A&&A.length}let f,Y,K;function u(A,I){this.dyn_tree=A,this.max_code=0,this.stat_desc=I}y(L);const M=A=>A<256?l[A]:l[256+(A>>>7)],J=(A,I)=>{A.pending_buf[A.pending++]=255&I,A.pending_buf[A.pending++]=I>>>8&255},H=(A,I,g)=>{A.bi_valid>16-g?(A.bi_buf|=I<<A.bi_valid&65535,J(A,A.bi_buf),A.bi_buf=I>>16-A.bi_valid,A.bi_valid+=g-16):(A.bi_buf|=I<<A.bi_valid&65535,A.bi_valid+=g)},m=(A,I,g)=>{H(A,g[2*I],g[2*I+1])},p=(A,I)=>{let g=0;do{g|=1&A,A>>>=1,g<<=1}while(--I>0);return g>>>1},q=(A,I,g)=>{const B=new Array(16);let C,Q,E=0;for(C=1;C<=15;C++)B[C]=E=E+g[C-1]<<1;for(Q=0;Q<=I;Q++){let I=A[2*Q+1];0!==I&&(A[2*Q]=p(B[I]++,I))}},b=A=>{let I;for(I=0;I<286;I++)A.dyn_ltree[2*I]=0;for(I=0;I<30;I++)A.dyn_dtree[2*I]=0;for(I=0;I<19;I++)A.bl_tree[2*I]=0;A.dyn_ltree[512]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0},x=A=>{A.bi_valid>8?J(A,A.bi_buf):A.bi_valid>0&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0},O=(A,I,g,B)=>{const C=2*I,Q=2*g;return A[C]<A[Q]||A[C]===A[Q]&&B[I]<=B[g]},T=(A,I,g)=>{const B=A.heap[g];let C=g<<1;for(;C<=A.heap_len&&(C<A.heap_len&&O(I,A.heap[C+1],A.heap[C],A.depth)&&C++,!O(I,B,A.heap[C],A.depth));)A.heap[g]=A.heap[C],g=C,C<<=1;A.heap[g]=B},_=(A,I,g)=>{let B,C,Q,E,i=0;if(0!==A.last_lit)do{B=A.pending_buf[A.d_buf+2*i]<<8|A.pending_buf[A.d_buf+2*i+1],C=A.pending_buf[A.l_buf+i],i++,0===B?m(A,C,I):(Q=k[C],m(A,Q+256+1,I),E=G[Q],0!==E&&(C-=R[Q],H(A,C,E)),B--,Q=M(B),m(A,Q,g),E=S[Q],0!==E&&(B-=L[Q],H(A,B,E)))}while(i<A.last_lit);m(A,256,I)},Z=(A,I)=>{const g=I.dyn_tree,B=I.stat_desc.static_tree,C=I.stat_desc.has_stree,Q=I.stat_desc.elems;let E,i,e,a=-1;for(A.heap_len=0,A.heap_max=573,E=0;E<Q;E++)0!==g[2*E]?(A.heap[++A.heap_len]=a=E,A.depth[E]=0):g[2*E+1]=0;for(;A.heap_len<2;)e=A.heap[++A.heap_len]=a<2?++a:0,g[2*e]=1,A.depth[e]=0,A.opt_len--,C&&(A.static_len-=B[2*e+1]);for(I.max_code=a,E=A.heap_len>>1;E>=1;E--)T(A,g,E);e=Q;do{E=A.heap[1],A.heap[1]=A.heap[A.heap_len--],T(A,g,1),i=A.heap[1],A.heap[--A.heap_max]=E,A.heap[--A.heap_max]=i,g[2*e]=g[2*E]+g[2*i],A.depth[e]=(A.depth[E]>=A.depth[i]?A.depth[E]:A.depth[i])+1,g[2*E+1]=g[2*i+1]=e,A.heap[1]=e++,T(A,g,1)}while(A.heap_len>=2);A.heap[--A.heap_max]=A.heap[1],((A,I)=>{const g=I.dyn_tree,B=I.max_code,C=I.stat_desc.static_tree,Q=I.stat_desc.has_stree,E=I.stat_desc.extra_bits,i=I.stat_desc.extra_base,e=I.stat_desc.max_length;let a,t,o,s,r,D,n=0;for(s=0;s<=15;s++)A.bl_count[s]=0;for(g[2*A.heap[A.heap_max]+1]=0,a=A.heap_max+1;a<573;a++)t=A.heap[a],s=g[2*g[2*t+1]+1]+1,s>e&&(s=e,n++),g[2*t+1]=s,t>B||(A.bl_count[s]++,r=0,t>=i&&(r=E[t-i]),D=g[2*t],A.opt_len+=D*(s+r),Q&&(A.static_len+=D*(C[2*t+1]+r)));if(0!==n){do{for(s=e-1;0===A.bl_count[s];)s--;A.bl_count[s]--,A.bl_count[s+1]+=2,A.bl_count[e]--,n-=2}while(n>0);for(s=e;0!==s;s--)for(t=A.bl_count[s];0!==t;)o=A.heap[--a],o>B||(g[2*o+1]!==s&&(A.opt_len+=(s-g[2*o+1])*g[2*o],g[2*o+1]=s),t--)}})(A,I),q(g,a,A.bl_count)},P=(A,I,g)=>{let B,C,Q=-1,E=I[1],i=0,e=7,a=4;for(0===E&&(e=138,a=3),I[2*(g+1)+1]=65535,B=0;B<=g;B++)C=E,E=I[2*(B+1)+1],++i<e&&C===E||(i<a?A.bl_tree[2*C]+=i:0!==C?(C!==Q&&A.bl_tree[2*C]++,A.bl_tree[32]++):i<=10?A.bl_tree[34]++:A.bl_tree[36]++,i=0,Q=C,0===E?(e=138,a=3):C===E?(e=6,a=3):(e=7,a=4))},v=(A,I,g)=>{let B,C,Q=-1,E=I[1],i=0,e=7,a=4;for(0===E&&(e=138,a=3),B=0;B<=g;B++)if(C=E,E=I[2*(B+1)+1],!(++i<e&&C===E)){if(i<a)do{m(A,C,A.bl_tree)}while(0!=--i);else 0!==C?(C!==Q&&(m(A,C,A.bl_tree),i--),m(A,16,A.bl_tree),H(A,i-3,2)):i<=10?(m(A,17,A.bl_tree),H(A,i-3,3)):(m(A,18,A.bl_tree),H(A,i-11,7));i=0,Q=C,0===E?(e=138,a=3):C===E?(e=6,a=3):(e=7,a=4)}};let j=!1;const W=(A,I,g,B)=>{H(A,0+(B?1:0),3),((A,I,g,B)=>{x(A),B&&(J(A,g),J(A,~g)),A.pending_buf.set(A.window.subarray(I,I+g),A.pending),A.pending+=g})(A,I,g,!0)};var V=(A,I,g,B)=>{let C,Q,E=0;A.level>0?(2===A.strm.data_type&&(A.strm.data_type=(A=>{let I,g=4093624447;for(I=0;I<=31;I++,g>>>=1)if(1&g&&0!==A.dyn_ltree[2*I])return 0;if(0!==A.dyn_ltree[18]||0!==A.dyn_ltree[20]||0!==A.dyn_ltree[26])return 1;for(I=32;I<256;I++)if(0!==A.dyn_ltree[2*I])return 1;return 0})(A)),Z(A,A.l_desc),Z(A,A.d_desc),E=(A=>{let I;for(P(A,A.dyn_ltree,A.l_desc.max_code),P(A,A.dyn_dtree,A.d_desc.max_code),Z(A,A.bl_desc),I=18;I>=3&&0===A.bl_tree[2*c[I]+1];I--);return A.opt_len+=3*(I+1)+5+5+4,I})(A),C=A.opt_len+3+7>>>3,Q=A.static_len+3+7>>>3,Q<=C&&(C=Q)):C=Q=g+5,g+4<=C&&-1!==I?W(A,I,g,B):4===A.strategy||Q===C?(H(A,2+(B?1:0),3),_(A,d,F)):(H(A,4+(B?1:0),3),((A,I,g,B)=>{let C;for(H(A,I-257,5),H(A,g-1,5),H(A,B-4,4),C=0;C<B;C++)H(A,A.bl_tree[2*c[C]+1],3);v(A,A.dyn_ltree,I-1),v(A,A.dyn_dtree,g-1)})(A,A.l_desc.max_code+1,A.d_desc.max_code+1,E+1),_(A,A.dyn_ltree,A.dyn_dtree)),b(A),B&&x(A)},z={_tr_init:A=>{j||((()=>{let A,I,g,B,C;const Q=new Array(16);for(g=0,B=0;B<28;B++)for(R[B]=g,A=0;A<1<<G[B];A++)k[g++]=B;for(k[g-1]=B,C=0,B=0;B<16;B++)for(L[B]=C,A=0;A<1<<S[B];A++)l[C++]=B;for(C>>=7;B<30;B++)for(L[B]=C<<7,A=0;A<1<<S[B]-7;A++)l[256+C++]=B;for(I=0;I<=15;I++)Q[I]=0;for(A=0;A<=143;)d[2*A+1]=8,A++,Q[8]++;for(;A<=255;)d[2*A+1]=9,A++,Q[9]++;for(;A<=279;)d[2*A+1]=7,A++,Q[7]++;for(;A<=287;)d[2*A+1]=8,A++,Q[8]++;for(q(d,287,Q),A=0;A<30;A++)F[2*A+1]=5,F[2*A]=p(A,5);f=new U(d,G,257,286,15),Y=new U(F,S,0,30,15),K=new U(new Array(0),N,0,19,7)})(),j=!0),A.l_desc=new u(A.dyn_ltree,f),A.d_desc=new u(A.dyn_dtree,Y),A.bl_desc=new u(A.bl_tree,K),A.bi_buf=0,A.bi_valid=0,b(A)},_tr_stored_block:W,_tr_flush_block:V,_tr_tally:(A,I,g)=>(A.pending_buf[A.d_buf+2*A.last_lit]=I>>>8&255,A.pending_buf[A.d_buf+2*A.last_lit+1]=255&I,A.pending_buf[A.l_buf+A.last_lit]=255&g,A.last_lit++,0===I?A.dyn_ltree[2*g]++:(A.matches++,I--,A.dyn_ltree[2*(k[g]+256+1)]++,A.dyn_dtree[2*M(I)]++),A.last_lit===A.lit_bufsize-1),_tr_align:A=>{H(A,2,3),m(A,256,d),(A=>{16===A.bi_valid?(J(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):A.bi_valid>=8&&(A.pending_buf[A.pending++]=255&A.bi_buf,A.bi_buf>>=8,A.bi_valid-=8)})(A)}};var X=(A,I,g,B)=>{let C=65535&A|0,Q=A>>>16&65535|0,E=0;for(;0!==g;){E=g>2e3?2e3:g,g-=E;do{C=C+I[B++]|0,Q=Q+C|0}while(--E);C%=65521,Q%=65521}return C|Q<<16|0};const $=new Uint32Array((()=>{let A,I=[];for(var g=0;g<256;g++){A=g;for(var B=0;B<8;B++)A=1&A?3988292384^A>>>1:A>>>1;I[g]=A}return I})());var AA=(A,I,g,B)=>{const C=$,Q=B+g;A^=-1;for(let g=B;g<Q;g++)A=A>>>8^C[255&(A^I[g])];return-1^A},IA={2:\\\"need dictionary\\\",1:\\\"stream end\\\",0:\\\"\\\",\\\"-1\\\":\\\"file error\\\",\\\"-2\\\":\\\"stream error\\\",\\\"-3\\\":\\\"data error\\\",\\\"-4\\\":\\\"insufficient memory\\\",\\\"-5\\\":\\\"buffer error\\\",\\\"-6\\\":\\\"incompatible version\\\"},gA={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:BA,_tr_stored_block:CA,_tr_flush_block:QA,_tr_tally:EA,_tr_align:iA}=z,{Z_NO_FLUSH:eA,Z_PARTIAL_FLUSH:aA,Z_FULL_FLUSH:tA,Z_FINISH:oA,Z_BLOCK:sA,Z_OK:rA,Z_STREAM_END:DA,Z_STREAM_ERROR:nA,Z_DATA_ERROR:hA,Z_BUF_ERROR:wA,Z_DEFAULT_COMPRESSION:yA,Z_FILTERED:GA,Z_HUFFMAN_ONLY:SA,Z_RLE:NA,Z_FIXED:cA,Z_DEFAULT_STRATEGY:dA,Z_UNKNOWN:FA,Z_DEFLATED:lA}=gA,kA=(A,I)=>(A.msg=IA[I],I),RA=A=>(A<<1)-(A>4?9:0),LA=A=>{let I=A.length;for(;--I>=0;)A[I]=0};let UA=(A,I,g)=>(I<<A.hash_shift^g)&A.hash_mask;const fA=A=>{const I=A.state;let g=I.pending;g>A.avail_out&&(g=A.avail_out),0!==g&&(A.output.set(I.pending_buf.subarray(I.pending_out,I.pending_out+g),A.next_out),A.next_out+=g,I.pending_out+=g,A.total_out+=g,A.avail_out-=g,I.pending-=g,0===I.pending&&(I.pending_out=0))},YA=(A,I)=>{QA(A,A.block_start>=0?A.block_start:-1,A.strstart-A.block_start,I),A.block_start=A.strstart,fA(A.strm)},KA=(A,I)=>{A.pending_buf[A.pending++]=I},uA=(A,I)=>{A.pending_buf[A.pending++]=I>>>8&255,A.pending_buf[A.pending++]=255&I},MA=(A,I,g,B)=>{let C=A.avail_in;return C>B&&(C=B),0===C?0:(A.avail_in-=C,I.set(A.input.subarray(A.next_in,A.next_in+C),g),1===A.state.wrap?A.adler=X(A.adler,I,C,g):2===A.state.wrap&&(A.adler=AA(A.adler,I,C,g)),A.next_in+=C,A.total_in+=C,C)},JA=(A,I)=>{let g,B,C=A.max_chain_length,Q=A.strstart,E=A.prev_length,i=A.nice_match;const e=A.strstart>A.w_size-262?A.strstart-(A.w_size-262):0,a=A.window,t=A.w_mask,o=A.prev,s=A.strstart+258;let r=a[Q+E-1],D=a[Q+E];A.prev_length>=A.good_match&&(C>>=2),i>A.lookahead&&(i=A.lookahead);do{if(g=I,a[g+E]===D&&a[g+E-1]===r&&a[g]===a[Q]&&a[++g]===a[Q+1]){Q+=2,g++;do{}while(a[++Q]===a[++g]&&a[++Q]===a[++g]&&a[++Q]===a[++g]&&a[++Q]===a[++g]&&a[++Q]===a[++g]&&a[++Q]===a[++g]&&a[++Q]===a[++g]&&a[++Q]===a[++g]&&Q<s);if(B=258-(s-Q),Q=s-258,B>E){if(A.match_start=I,E=B,B>=i)break;r=a[Q+E-1],D=a[Q+E]}}}while((I=o[I&t])>e&&0!=--C);return E<=A.lookahead?E:A.lookahead},HA=A=>{const I=A.w_size;let g,B,C,Q,E;do{if(Q=A.window_size-A.lookahead-A.strstart,A.strstart>=I+(I-262)){A.window.set(A.window.subarray(I,I+I),0),A.match_start-=I,A.strstart-=I,A.block_start-=I,B=A.hash_size,g=B;do{C=A.head[--g],A.head[g]=C>=I?C-I:0}while(--B);B=I,g=B;do{C=A.prev[--g],A.prev[g]=C>=I?C-I:0}while(--B);Q+=I}if(0===A.strm.avail_in)break;if(B=MA(A.strm,A.window,A.strstart+A.lookahead,Q),A.lookahead+=B,A.lookahead+A.insert>=3)for(E=A.strstart-A.insert,A.ins_h=A.window[E],A.ins_h=UA(A,A.ins_h,A.window[E+1]);A.insert&&(A.ins_h=UA(A,A.ins_h,A.window[E+3-1]),A.prev[E&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=E,E++,A.insert--,!(A.lookahead+A.insert<3)););}while(A.lookahead<262&&0!==A.strm.avail_in)},mA=(A,I)=>{let g,B;for(;;){if(A.lookahead<262){if(HA(A),A.lookahead<262&&I===eA)return 1;if(0===A.lookahead)break}if(g=0,A.lookahead>=3&&(A.ins_h=UA(A,A.ins_h,A.window[A.strstart+3-1]),g=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),0!==g&&A.strstart-g<=A.w_size-262&&(A.match_length=JA(A,g)),A.match_length>=3)if(B=EA(A,A.strstart-A.match_start,A.match_length-3),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=3){A.match_length--;do{A.strstart++,A.ins_h=UA(A,A.ins_h,A.window[A.strstart+3-1]),g=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart}while(0!=--A.match_length);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=UA(A,A.ins_h,A.window[A.strstart+1]);else B=EA(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(B&&(YA(A,!1),0===A.strm.avail_out))return 1}return A.insert=A.strstart<2?A.strstart:2,I===oA?(YA(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(YA(A,!1),0===A.strm.avail_out)?1:2},pA=(A,I)=>{let g,B,C;for(;;){if(A.lookahead<262){if(HA(A),A.lookahead<262&&I===eA)return 1;if(0===A.lookahead)break}if(g=0,A.lookahead>=3&&(A.ins_h=UA(A,A.ins_h,A.window[A.strstart+3-1]),g=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=2,0!==g&&A.prev_length<A.max_lazy_match&&A.strstart-g<=A.w_size-262&&(A.match_length=JA(A,g),A.match_length<=5&&(A.strategy===GA||3===A.match_length&&A.strstart-A.match_start>4096)&&(A.match_length=2)),A.prev_length>=3&&A.match_length<=A.prev_length){C=A.strstart+A.lookahead-3,B=EA(A,A.strstart-1-A.prev_match,A.prev_length-3),A.lookahead-=A.prev_length-1,A.prev_length-=2;do{++A.strstart<=C&&(A.ins_h=UA(A,A.ins_h,A.window[A.strstart+3-1]),g=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart)}while(0!=--A.prev_length);if(A.match_available=0,A.match_length=2,A.strstart++,B&&(YA(A,!1),0===A.strm.avail_out))return 1}else if(A.match_available){if(B=EA(A,0,A.window[A.strstart-1]),B&&YA(A,!1),A.strstart++,A.lookahead--,0===A.strm.avail_out)return 1}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(B=EA(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<2?A.strstart:2,I===oA?(YA(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(YA(A,!1),0===A.strm.avail_out)?1:2};function qA(A,I,g,B,C){this.good_length=A,this.max_lazy=I,this.nice_length=g,this.max_chain=B,this.func=C}const bA=[new qA(0,0,0,0,((A,I)=>{let g=65535;for(g>A.pending_buf_size-5&&(g=A.pending_buf_size-5);;){if(A.lookahead<=1){if(HA(A),0===A.lookahead&&I===eA)return 1;if(0===A.lookahead)break}A.strstart+=A.lookahead,A.lookahead=0;const B=A.block_start+g;if((0===A.strstart||A.strstart>=B)&&(A.lookahead=A.strstart-B,A.strstart=B,YA(A,!1),0===A.strm.avail_out))return 1;if(A.strstart-A.block_start>=A.w_size-262&&(YA(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,I===oA?(YA(A,!0),0===A.strm.avail_out?3:4):(A.strstart>A.block_start&&(YA(A,!1),A.strm.avail_out),1)})),new qA(4,4,8,4,mA),new qA(4,5,16,8,mA),new qA(4,6,32,32,mA),new qA(4,4,16,16,pA),new qA(8,16,32,32,pA),new qA(8,16,128,128,pA),new qA(8,32,128,256,pA),new qA(32,128,258,1024,pA),new qA(32,258,258,4096,pA)];function xA(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=lA,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),LA(this.dyn_ltree),LA(this.dyn_dtree),LA(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),LA(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),LA(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const OA=A=>{if(!A||!A.state)return kA(A,nA);A.total_in=A.total_out=0,A.data_type=FA;const I=A.state;return I.pending=0,I.pending_out=0,I.wrap<0&&(I.wrap=-I.wrap),I.status=I.wrap?42:113,A.adler=2===I.wrap?0:1,I.last_flush=eA,BA(I),rA},TA=A=>{const I=OA(A);var g;return I===rA&&((g=A.state).window_size=2*g.w_size,LA(g.head),g.max_lazy_match=bA[g.level].max_lazy,g.good_match=bA[g.level].good_length,g.nice_match=bA[g.level].nice_length,g.max_chain_length=bA[g.level].max_chain,g.strstart=0,g.block_start=0,g.lookahead=0,g.insert=0,g.match_length=g.prev_length=2,g.match_available=0,g.ins_h=0),I},_A=(A,I,g,B,C,Q)=>{if(!A)return nA;let E=1;if(I===yA&&(I=6),B<0?(E=0,B=-B):B>15&&(E=2,B-=16),C<1||C>9||g!==lA||B<8||B>15||I<0||I>9||Q<0||Q>cA)return kA(A,nA);8===B&&(B=9);const i=new xA;return A.state=i,i.strm=A,i.wrap=E,i.gzhead=null,i.w_bits=B,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=C+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+3-1)/3),i.window=new Uint8Array(2*i.w_size),i.head=new Uint16Array(i.hash_size),i.prev=new Uint16Array(i.w_size),i.lit_bufsize=1<<C+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new Uint8Array(i.pending_buf_size),i.d_buf=1*i.lit_bufsize,i.l_buf=3*i.lit_bufsize,i.level=I,i.strategy=Q,i.method=g,TA(A)};var ZA={deflateInit:(A,I)=>_A(A,I,lA,15,8,dA),deflateInit2:_A,deflateReset:TA,deflateResetKeep:OA,deflateSetHeader:(A,I)=>A&&A.state?2!==A.state.wrap?nA:(A.state.gzhead=I,rA):nA,deflate:(A,I)=>{let g,B;if(!A||!A.state||I>sA||I<0)return A?kA(A,nA):nA;const C=A.state;if(!A.output||!A.input&&0!==A.avail_in||666===C.status&&I!==oA)return kA(A,0===A.avail_out?wA:nA);C.strm=A;const Q=C.last_flush;if(C.last_flush=I,42===C.status)if(2===C.wrap)A.adler=0,KA(C,31),KA(C,139),KA(C,8),C.gzhead?(KA(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),KA(C,255&C.gzhead.time),KA(C,C.gzhead.time>>8&255),KA(C,C.gzhead.time>>16&255),KA(C,C.gzhead.time>>24&255),KA(C,9===C.level?2:C.strategy>=SA||C.level<2?4:0),KA(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(KA(C,255&C.gzhead.extra.length),KA(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(A.adler=AA(A.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(KA(C,0),KA(C,0),KA(C,0),KA(C,0),KA(C,0),KA(C,9===C.level?2:C.strategy>=SA||C.level<2?4:0),KA(C,3),C.status=113);else{let I=lA+(C.w_bits-8<<4)<<8,g=-1;g=C.strategy>=SA||C.level<2?0:C.level<6?1:6===C.level?2:3,I|=g<<6,0!==C.strstart&&(I|=32),I+=31-I%31,C.status=113,uA(C,I),0!==C.strstart&&(uA(C,A.adler>>>16),uA(C,65535&A.adler)),A.adler=1}if(69===C.status)if(C.gzhead.extra){for(g=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>g&&(A.adler=AA(A.adler,C.pending_buf,C.pending-g,g)),fA(A),g=C.pending,C.pending!==C.pending_buf_size));)KA(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>g&&(A.adler=AA(A.adler,C.pending_buf,C.pending-g,g)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(73===C.status)if(C.gzhead.name){g=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>g&&(A.adler=AA(A.adler,C.pending_buf,C.pending-g,g)),fA(A),g=C.pending,C.pending===C.pending_buf_size)){B=1;break}B=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,KA(C,B)}while(0!==B);C.gzhead.hcrc&&C.pending>g&&(A.adler=AA(A.adler,C.pending_buf,C.pending-g,g)),0===B&&(C.gzindex=0,C.status=91)}else C.status=91;if(91===C.status)if(C.gzhead.comment){g=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>g&&(A.adler=AA(A.adler,C.pending_buf,C.pending-g,g)),fA(A),g=C.pending,C.pending===C.pending_buf_size)){B=1;break}B=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,KA(C,B)}while(0!==B);C.gzhead.hcrc&&C.pending>g&&(A.adler=AA(A.adler,C.pending_buf,C.pending-g,g)),0===B&&(C.status=103)}else C.status=103;if(103===C.status&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&fA(A),C.pending+2<=C.pending_buf_size&&(KA(C,255&A.adler),KA(C,A.adler>>8&255),A.adler=0,C.status=113)):C.status=113),0!==C.pending){if(fA(A),0===A.avail_out)return C.last_flush=-1,rA}else if(0===A.avail_in&&RA(I)<=RA(Q)&&I!==oA)return kA(A,wA);if(666===C.status&&0!==A.avail_in)return kA(A,wA);if(0!==A.avail_in||0!==C.lookahead||I!==eA&&666!==C.status){let g=C.strategy===SA?((A,I)=>{let g;for(;;){if(0===A.lookahead&&(HA(A),0===A.lookahead)){if(I===eA)return 1;break}if(A.match_length=0,g=EA(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,g&&(YA(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,I===oA?(YA(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(YA(A,!1),0===A.strm.avail_out)?1:2})(C,I):C.strategy===NA?((A,I)=>{let g,B,C,Q;const E=A.window;for(;;){if(A.lookahead<=258){if(HA(A),A.lookahead<=258&&I===eA)return 1;if(0===A.lookahead)break}if(A.match_length=0,A.lookahead>=3&&A.strstart>0&&(C=A.strstart-1,B=E[C],B===E[++C]&&B===E[++C]&&B===E[++C])){Q=A.strstart+258;do{}while(B===E[++C]&&B===E[++C]&&B===E[++C]&&B===E[++C]&&B===E[++C]&&B===E[++C]&&B===E[++C]&&B===E[++C]&&C<Q);A.match_length=258-(Q-C),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=3?(g=EA(A,1,A.match_length-3),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(g=EA(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),g&&(YA(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,I===oA?(YA(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(YA(A,!1),0===A.strm.avail_out)?1:2})(C,I):bA[C.level].func(C,I);if(3!==g&&4!==g||(C.status=666),1===g||3===g)return 0===A.avail_out&&(C.last_flush=-1),rA;if(2===g&&(I===aA?iA(C):I!==sA&&(CA(C,0,0,!1),I===tA&&(LA(C.head),0===C.lookahead&&(C.strstart=0,C.block_start=0,C.insert=0))),fA(A),0===A.avail_out))return C.last_flush=-1,rA}return I!==oA?rA:C.wrap<=0?DA:(2===C.wrap?(KA(C,255&A.adler),KA(C,A.adler>>8&255),KA(C,A.adler>>16&255),KA(C,A.adler>>24&255),KA(C,255&A.total_in),KA(C,A.total_in>>8&255),KA(C,A.total_in>>16&255),KA(C,A.total_in>>24&255)):(uA(C,A.adler>>>16),uA(C,65535&A.adler)),fA(A),C.wrap>0&&(C.wrap=-C.wrap),0!==C.pending?rA:DA)},deflateEnd:A=>{if(!A||!A.state)return nA;const I=A.state.status;return 42!==I&&69!==I&&73!==I&&91!==I&&103!==I&&113!==I&&666!==I?kA(A,nA):(A.state=null,113===I?kA(A,hA):rA)},deflateSetDictionary:(A,I)=>{let g=I.length;if(!A||!A.state)return nA;const B=A.state,C=B.wrap;if(2===C||1===C&&42!==B.status||B.lookahead)return nA;if(1===C&&(A.adler=X(A.adler,I,g,0)),B.wrap=0,g>=B.w_size){0===C&&(LA(B.head),B.strstart=0,B.block_start=0,B.insert=0);let A=new Uint8Array(B.w_size);A.set(I.subarray(g-B.w_size,g),0),I=A,g=B.w_size}const Q=A.avail_in,E=A.next_in,i=A.input;for(A.avail_in=g,A.next_in=0,A.input=I,HA(B);B.lookahead>=3;){let A=B.strstart,I=B.lookahead-2;do{B.ins_h=UA(B,B.ins_h,B.window[A+3-1]),B.prev[A&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=A,A++}while(--I);B.strstart=A,B.lookahead=2,HA(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=2,B.match_available=0,A.next_in=E,A.input=i,A.avail_in=Q,B.wrap=C,rA},deflateInfo:\\\"pako deflate (from Nodeca project)\\\"};const PA=(A,I)=>Object.prototype.hasOwnProperty.call(A,I);var vA=function(A){const I=Array.prototype.slice.call(arguments,1);for(;I.length;){const g=I.shift();if(g){if(\\\"object\\\"!=typeof g)throw new TypeError(g+\\\"must be non-object\\\");for(const I in g)PA(g,I)&&(A[I]=g[I])}}return A},jA=A=>{let I=0;for(let g=0,B=A.length;g<B;g++)I+=A[g].length;const g=new Uint8Array(I);for(let I=0,B=0,C=A.length;I<C;I++){let C=A[I];g.set(C,B),B+=C.length}return g};let WA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(A){WA=!1}const VA=new Uint8Array(256);for(let A=0;A<256;A++)VA[A]=A>=252?6:A>=248?5:A>=240?4:A>=224?3:A>=192?2:1;VA[254]=VA[254]=1;var zA=A=>{if(\\\"function\\\"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(A);let I,g,B,C,Q,E=A.length,i=0;for(C=0;C<E;C++)g=A.charCodeAt(C),55296==(64512&g)&&C+1<E&&(B=A.charCodeAt(C+1),56320==(64512&B)&&(g=65536+(g-55296<<10)+(B-56320),C++)),i+=g<128?1:g<2048?2:g<65536?3:4;for(I=new Uint8Array(i),Q=0,C=0;Q<i;C++)g=A.charCodeAt(C),55296==(64512&g)&&C+1<E&&(B=A.charCodeAt(C+1),56320==(64512&B)&&(g=65536+(g-55296<<10)+(B-56320),C++)),g<128?I[Q++]=g:g<2048?(I[Q++]=192|g>>>6,I[Q++]=128|63&g):g<65536?(I[Q++]=224|g>>>12,I[Q++]=128|g>>>6&63,I[Q++]=128|63&g):(I[Q++]=240|g>>>18,I[Q++]=128|g>>>12&63,I[Q++]=128|g>>>6&63,I[Q++]=128|63&g);return I},XA=(A,I)=>{const g=I||A.length;if(\\\"function\\\"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(A.subarray(0,I));let B,C;const Q=new Array(2*g);for(C=0,B=0;B<g;){let I=A[B++];if(I<128){Q[C++]=I;continue}let E=VA[I];if(E>4)Q[C++]=65533,B+=E-1;else{for(I&=2===E?31:3===E?15:7;E>1&&B<g;)I=I<<6|63&A[B++],E--;E>1?Q[C++]=65533:I<65536?Q[C++]=I:(I-=65536,Q[C++]=55296|I>>10&1023,Q[C++]=56320|1023&I)}}return((A,I)=>{if(I<65534&&A.subarray&&WA)return String.fromCharCode.apply(null,A.length===I?A:A.subarray(0,I));let g=\\\"\\\";for(let B=0;B<I;B++)g+=String.fromCharCode(A[B]);return g})(Q,C)},$A=(A,I)=>{(I=I||A.length)>A.length&&(I=A.length);let g=I-1;for(;g>=0&&128==(192&A[g]);)g--;return g<0||0===g?I:g+VA[A[g]]>I?g:I};var AI=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\\\"\\\",this.state=null,this.data_type=2,this.adler=0};const II=Object.prototype.toString,{Z_NO_FLUSH:gI,Z_SYNC_FLUSH:BI,Z_FULL_FLUSH:CI,Z_FINISH:QI,Z_OK:EI,Z_STREAM_END:iI,Z_DEFAULT_COMPRESSION:eI,Z_DEFAULT_STRATEGY:aI,Z_DEFLATED:tI}=gA;function oI(A){this.options=vA({level:eI,method:tI,chunkSize:16384,windowBits:15,memLevel:8,strategy:aI},A||{});let I=this.options;I.raw&&I.windowBits>0?I.windowBits=-I.windowBits:I.gzip&&I.windowBits>0&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg=\\\"\\\",this.ended=!1,this.chunks=[],this.strm=new AI,this.strm.avail_out=0;let g=ZA.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(g!==EI)throw new Error(IA[g]);if(I.header&&ZA.deflateSetHeader(this.strm,I.header),I.dictionary){let A;if(A=\\\"string\\\"==typeof I.dictionary?zA(I.dictionary):\\\"[object ArrayBuffer]\\\"===II.call(I.dictionary)?new Uint8Array(I.dictionary):I.dictionary,g=ZA.deflateSetDictionary(this.strm,A),g!==EI)throw new Error(IA[g]);this._dict_set=!0}}oI.prototype.push=function(A,I){const g=this.strm,B=this.options.chunkSize;let C,Q;if(this.ended)return!1;for(Q=I===~~I?I:!0===I?QI:gI,\\\"string\\\"==typeof A?g.input=zA(A):\\\"[object ArrayBuffer]\\\"===II.call(A)?g.input=new Uint8Array(A):g.input=A,g.next_in=0,g.avail_in=g.input.length;;)if(0===g.avail_out&&(g.output=new Uint8Array(B),g.next_out=0,g.avail_out=B),(Q===BI||Q===CI)&&g.avail_out<=6)this.onData(g.output.subarray(0,g.next_out)),g.avail_out=0;else{if(C=ZA.deflate(g,Q),C===iI)return g.next_out>0&&this.onData(g.output.subarray(0,g.next_out)),C=ZA.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===EI;if(0!==g.avail_out){if(Q>0&&g.next_out>0)this.onData(g.output.subarray(0,g.next_out)),g.avail_out=0;else if(0===g.avail_in)break}else this.onData(g.output)}return!0},oI.prototype.onData=function(A){this.chunks.push(A)},oI.prototype.onEnd=function(A){A===EI&&(this.result=jA(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};var sI=function(A,I){let g,B,C,Q,E,i,e,a,t,o,s,r,D,n,h,w,y,G,S,N,c,d,F,l;const k=A.state;g=A.next_in,F=A.input,B=g+(A.avail_in-5),C=A.next_out,l=A.output,Q=C-(I-A.avail_out),E=C+(A.avail_out-257),i=k.dmax,e=k.wsize,a=k.whave,t=k.wnext,o=k.window,s=k.hold,r=k.bits,D=k.lencode,n=k.distcode,h=(1<<k.lenbits)-1,w=(1<<k.distbits)-1;A:do{r<15&&(s+=F[g++]<<r,r+=8,s+=F[g++]<<r,r+=8),y=D[s&h];I:for(;;){if(G=y>>>24,s>>>=G,r-=G,G=y>>>16&255,0===G)l[C++]=65535&y;else{if(!(16&G)){if(0==(64&G)){y=D[(65535&y)+(s&(1<<G)-1)];continue I}if(32&G){k.mode=12;break A}A.msg=\\\"invalid literal/length code\\\",k.mode=30;break A}S=65535&y,G&=15,G&&(r<G&&(s+=F[g++]<<r,r+=8),S+=s&(1<<G)-1,s>>>=G,r-=G),r<15&&(s+=F[g++]<<r,r+=8,s+=F[g++]<<r,r+=8),y=n[s&w];g:for(;;){if(G=y>>>24,s>>>=G,r-=G,G=y>>>16&255,!(16&G)){if(0==(64&G)){y=n[(65535&y)+(s&(1<<G)-1)];continue g}A.msg=\\\"invalid distance code\\\",k.mode=30;break A}if(N=65535&y,G&=15,r<G&&(s+=F[g++]<<r,r+=8,r<G&&(s+=F[g++]<<r,r+=8)),N+=s&(1<<G)-1,N>i){A.msg=\\\"invalid distance too far back\\\",k.mode=30;break A}if(s>>>=G,r-=G,G=C-Q,N>G){if(G=N-G,G>a&&k.sane){A.msg=\\\"invalid distance too far back\\\",k.mode=30;break A}if(c=0,d=o,0===t){if(c+=e-G,G<S){S-=G;do{l[C++]=o[c++]}while(--G);c=C-N,d=l}}else if(t<G){if(c+=e+t-G,G-=t,G<S){S-=G;do{l[C++]=o[c++]}while(--G);if(c=0,t<S){G=t,S-=G;do{l[C++]=o[c++]}while(--G);c=C-N,d=l}}}else if(c+=t-G,G<S){S-=G;do{l[C++]=o[c++]}while(--G);c=C-N,d=l}for(;S>2;)l[C++]=d[c++],l[C++]=d[c++],l[C++]=d[c++],S-=3;S&&(l[C++]=d[c++],S>1&&(l[C++]=d[c++]))}else{c=C-N;do{l[C++]=l[c++],l[C++]=l[c++],l[C++]=l[c++],S-=3}while(S>2);S&&(l[C++]=l[c++],S>1&&(l[C++]=l[c++]))}break}}break}}while(g<B&&C<E);S=r>>3,g-=S,r-=S<<3,s&=(1<<r)-1,A.next_in=g,A.next_out=C,A.avail_in=g<B?B-g+5:5-(g-B),A.avail_out=C<E?E-C+257:257-(C-E),k.hold=s,k.bits=r};const rI=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),DI=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nI=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),hI=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var wI=(A,I,g,B,C,Q,E,i)=>{const e=i.bits;let a,t,o,s,r,D,n=0,h=0,w=0,y=0,G=0,S=0,N=0,c=0,d=0,F=0,l=null,k=0;const R=new Uint16Array(16),L=new Uint16Array(16);let U,f,Y,K=null,u=0;for(n=0;n<=15;n++)R[n]=0;for(h=0;h<B;h++)R[I[g+h]]++;for(G=e,y=15;y>=1&&0===R[y];y--);if(G>y&&(G=y),0===y)return C[Q++]=20971520,C[Q++]=20971520,i.bits=1,0;for(w=1;w<y&&0===R[w];w++);for(G<w&&(G=w),c=1,n=1;n<=15;n++)if(c<<=1,c-=R[n],c<0)return-1;if(c>0&&(0===A||1!==y))return-1;for(L[1]=0,n=1;n<15;n++)L[n+1]=L[n]+R[n];for(h=0;h<B;h++)0!==I[g+h]&&(E[L[I[g+h]]++]=h);if(0===A?(l=K=E,D=19):1===A?(l=rI,k-=257,K=DI,u-=257,D=256):(l=nI,K=hI,D=-1),F=0,h=0,n=w,r=Q,S=G,N=0,o=-1,d=1<<G,s=d-1,1===A&&d>852||2===A&&d>592)return 1;for(;;){U=n-N,E[h]<D?(f=0,Y=E[h]):E[h]>D?(f=K[u+E[h]],Y=l[k+E[h]]):(f=96,Y=0),a=1<<n-N,t=1<<S,w=t;do{t-=a,C[r+(F>>N)+t]=U<<24|f<<16|Y|0}while(0!==t);for(a=1<<n-1;F&a;)a>>=1;if(0!==a?(F&=a-1,F+=a):F=0,h++,0==--R[n]){if(n===y)break;n=I[g+E[h]]}if(n>G&&(F&s)!==o){for(0===N&&(N=G),r+=w,S=n-N,c=1<<S;S+N<y&&(c-=R[S+N],!(c<=0));)S++,c<<=1;if(d+=1<<S,1===A&&d>852||2===A&&d>592)return 1;o=F&s,C[o]=G<<24|S<<16|r-Q|0}}return 0!==F&&(C[r+F]=n-N<<24|64<<16|0),i.bits=G,0};const{Z_FINISH:yI,Z_BLOCK:GI,Z_TREES:SI,Z_OK:NI,Z_STREAM_END:cI,Z_NEED_DICT:dI,Z_STREAM_ERROR:FI,Z_DATA_ERROR:lI,Z_MEM_ERROR:kI,Z_BUF_ERROR:RI,Z_DEFLATED:LI}=gA,UI=A=>(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24);function fI(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const YI=A=>{if(!A||!A.state)return FI;const I=A.state;return A.total_in=A.total_out=I.total=0,A.msg=\\\"\\\",I.wrap&&(A.adler=1&I.wrap),I.mode=1,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new Int32Array(852),I.distcode=I.distdyn=new Int32Array(592),I.sane=1,I.back=-1,NI},KI=A=>{if(!A||!A.state)return FI;const I=A.state;return I.wsize=0,I.whave=0,I.wnext=0,YI(A)},uI=(A,I)=>{let g;if(!A||!A.state)return FI;const B=A.state;return I<0?(g=0,I=-I):(g=1+(I>>4),I<48&&(I&=15)),I&&(I<8||I>15)?FI:(null!==B.window&&B.wbits!==I&&(B.window=null),B.wrap=g,B.wbits=I,KI(A))},MI=(A,I)=>{if(!A)return FI;const g=new fI;A.state=g,g.window=null;const B=uI(A,I);return B!==NI&&(A.state=null),B};let JI,HI,mI=!0;const pI=A=>{if(mI){JI=new Int32Array(512),HI=new Int32Array(32);let I=0;for(;I<144;)A.lens[I++]=8;for(;I<256;)A.lens[I++]=9;for(;I<280;)A.lens[I++]=7;for(;I<288;)A.lens[I++]=8;for(wI(1,A.lens,0,288,JI,0,A.work,{bits:9}),I=0;I<32;)A.lens[I++]=5;wI(2,A.lens,0,32,HI,0,A.work,{bits:5}),mI=!1}A.lencode=JI,A.lenbits=9,A.distcode=HI,A.distbits=5},qI=(A,I,g,B)=>{let C;const Q=A.state;return null===Q.window&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new Uint8Array(Q.wsize)),B>=Q.wsize?(Q.window.set(I.subarray(g-Q.wsize,g),0),Q.wnext=0,Q.whave=Q.wsize):(C=Q.wsize-Q.wnext,C>B&&(C=B),Q.window.set(I.subarray(g-B,g-B+C),Q.wnext),(B-=C)?(Q.window.set(I.subarray(g-B,g),0),Q.wnext=B,Q.whave=Q.wsize):(Q.wnext+=C,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=C))),0};var bI={inflateReset:KI,inflateReset2:uI,inflateResetKeep:YI,inflateInit:A=>MI(A,15),inflateInit2:MI,inflate:(A,I)=>{let g,B,C,Q,E,i,e,a,t,o,s,r,D,n,h,w,y,G,S,N,c,d,F=0;const l=new Uint8Array(4);let k,R;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!A||!A.state||!A.output||!A.input&&0!==A.avail_in)return FI;g=A.state,12===g.mode&&(g.mode=13),E=A.next_out,C=A.output,e=A.avail_out,Q=A.next_in,B=A.input,i=A.avail_in,a=g.hold,t=g.bits,o=i,s=e,d=NI;A:for(;;)switch(g.mode){case 1:if(0===g.wrap){g.mode=13;break}for(;t<16;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}if(2&g.wrap&&35615===a){g.check=0,l[0]=255&a,l[1]=a>>>8&255,g.check=AA(g.check,l,2,0),a=0,t=0,g.mode=2;break}if(g.flags=0,g.head&&(g.head.done=!1),!(1&g.wrap)||(((255&a)<<8)+(a>>8))%31){A.msg=\\\"incorrect header check\\\",g.mode=30;break}if((15&a)!==LI){A.msg=\\\"unknown compression method\\\",g.mode=30;break}if(a>>>=4,t-=4,c=8+(15&a),0===g.wbits)g.wbits=c;else if(c>g.wbits){A.msg=\\\"invalid window size\\\",g.mode=30;break}g.dmax=1<<g.wbits,A.adler=g.check=1,g.mode=512&a?10:12,a=0,t=0;break;case 2:for(;t<16;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}if(g.flags=a,(255&g.flags)!==LI){A.msg=\\\"unknown compression method\\\",g.mode=30;break}if(57344&g.flags){A.msg=\\\"unknown header flags set\\\",g.mode=30;break}g.head&&(g.head.text=a>>8&1),512&g.flags&&(l[0]=255&a,l[1]=a>>>8&255,g.check=AA(g.check,l,2,0)),a=0,t=0,g.mode=3;case 3:for(;t<32;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}g.head&&(g.head.time=a),512&g.flags&&(l[0]=255&a,l[1]=a>>>8&255,l[2]=a>>>16&255,l[3]=a>>>24&255,g.check=AA(g.check,l,4,0)),a=0,t=0,g.mode=4;case 4:for(;t<16;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}g.head&&(g.head.xflags=255&a,g.head.os=a>>8),512&g.flags&&(l[0]=255&a,l[1]=a>>>8&255,g.check=AA(g.check,l,2,0)),a=0,t=0,g.mode=5;case 5:if(1024&g.flags){for(;t<16;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}g.length=a,g.head&&(g.head.extra_len=a),512&g.flags&&(l[0]=255&a,l[1]=a>>>8&255,g.check=AA(g.check,l,2,0)),a=0,t=0}else g.head&&(g.head.extra=null);g.mode=6;case 6:if(1024&g.flags&&(r=g.length,r>i&&(r=i),r&&(g.head&&(c=g.head.extra_len-g.length,g.head.extra||(g.head.extra=new Uint8Array(g.head.extra_len)),g.head.extra.set(B.subarray(Q,Q+r),c)),512&g.flags&&(g.check=AA(g.check,B,r,Q)),i-=r,Q+=r,g.length-=r),g.length))break A;g.length=0,g.mode=7;case 7:if(2048&g.flags){if(0===i)break A;r=0;do{c=B[Q+r++],g.head&&c&&g.length<65536&&(g.head.name+=String.fromCharCode(c))}while(c&&r<i);if(512&g.flags&&(g.check=AA(g.check,B,r,Q)),i-=r,Q+=r,c)break A}else g.head&&(g.head.name=null);g.length=0,g.mode=8;case 8:if(4096&g.flags){if(0===i)break A;r=0;do{c=B[Q+r++],g.head&&c&&g.length<65536&&(g.head.comment+=String.fromCharCode(c))}while(c&&r<i);if(512&g.flags&&(g.check=AA(g.check,B,r,Q)),i-=r,Q+=r,c)break A}else g.head&&(g.head.comment=null);g.mode=9;case 9:if(512&g.flags){for(;t<16;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}if(a!==(65535&g.check)){A.msg=\\\"header crc mismatch\\\",g.mode=30;break}a=0,t=0}g.head&&(g.head.hcrc=g.flags>>9&1,g.head.done=!0),A.adler=g.check=0,g.mode=12;break;case 10:for(;t<32;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}A.adler=g.check=UI(a),a=0,t=0,g.mode=11;case 11:if(0===g.havedict)return A.next_out=E,A.avail_out=e,A.next_in=Q,A.avail_in=i,g.hold=a,g.bits=t,dI;A.adler=g.check=1,g.mode=12;case 12:if(I===GI||I===SI)break A;case 13:if(g.last){a>>>=7&t,t-=7&t,g.mode=27;break}for(;t<3;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}switch(g.last=1&a,a>>>=1,t-=1,3&a){case 0:g.mode=14;break;case 1:if(pI(g),g.mode=20,I===SI){a>>>=2,t-=2;break A}break;case 2:g.mode=17;break;case 3:A.msg=\\\"invalid block type\\\",g.mode=30}a>>>=2,t-=2;break;case 14:for(a>>>=7&t,t-=7&t;t<32;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}if((65535&a)!=(a>>>16^65535)){A.msg=\\\"invalid stored block lengths\\\",g.mode=30;break}if(g.length=65535&a,a=0,t=0,g.mode=15,I===SI)break A;case 15:g.mode=16;case 16:if(r=g.length,r){if(r>i&&(r=i),r>e&&(r=e),0===r)break A;C.set(B.subarray(Q,Q+r),E),i-=r,Q+=r,e-=r,E+=r,g.length-=r;break}g.mode=12;break;case 17:for(;t<14;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}if(g.nlen=257+(31&a),a>>>=5,t-=5,g.ndist=1+(31&a),a>>>=5,t-=5,g.ncode=4+(15&a),a>>>=4,t-=4,g.nlen>286||g.ndist>30){A.msg=\\\"too many length or distance symbols\\\",g.mode=30;break}g.have=0,g.mode=18;case 18:for(;g.have<g.ncode;){for(;t<3;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}g.lens[L[g.have++]]=7&a,a>>>=3,t-=3}for(;g.have<19;)g.lens[L[g.have++]]=0;if(g.lencode=g.lendyn,g.lenbits=7,k={bits:g.lenbits},d=wI(0,g.lens,0,19,g.lencode,0,g.work,k),g.lenbits=k.bits,d){A.msg=\\\"invalid code lengths set\\\",g.mode=30;break}g.have=0,g.mode=19;case 19:for(;g.have<g.nlen+g.ndist;){for(;F=g.lencode[a&(1<<g.lenbits)-1],h=F>>>24,w=F>>>16&255,y=65535&F,!(h<=t);){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}if(y<16)a>>>=h,t-=h,g.lens[g.have++]=y;else{if(16===y){for(R=h+2;t<R;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}if(a>>>=h,t-=h,0===g.have){A.msg=\\\"invalid bit length repeat\\\",g.mode=30;break}c=g.lens[g.have-1],r=3+(3&a),a>>>=2,t-=2}else if(17===y){for(R=h+3;t<R;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}a>>>=h,t-=h,c=0,r=3+(7&a),a>>>=3,t-=3}else{for(R=h+7;t<R;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}a>>>=h,t-=h,c=0,r=11+(127&a),a>>>=7,t-=7}if(g.have+r>g.nlen+g.ndist){A.msg=\\\"invalid bit length repeat\\\",g.mode=30;break}for(;r--;)g.lens[g.have++]=c}}if(30===g.mode)break;if(0===g.lens[256]){A.msg=\\\"invalid code -- missing end-of-block\\\",g.mode=30;break}if(g.lenbits=9,k={bits:g.lenbits},d=wI(1,g.lens,0,g.nlen,g.lencode,0,g.work,k),g.lenbits=k.bits,d){A.msg=\\\"invalid literal/lengths set\\\",g.mode=30;break}if(g.distbits=6,g.distcode=g.distdyn,k={bits:g.distbits},d=wI(2,g.lens,g.nlen,g.ndist,g.distcode,0,g.work,k),g.distbits=k.bits,d){A.msg=\\\"invalid distances set\\\",g.mode=30;break}if(g.mode=20,I===SI)break A;case 20:g.mode=21;case 21:if(i>=6&&e>=258){A.next_out=E,A.avail_out=e,A.next_in=Q,A.avail_in=i,g.hold=a,g.bits=t,sI(A,s),E=A.next_out,C=A.output,e=A.avail_out,Q=A.next_in,B=A.input,i=A.avail_in,a=g.hold,t=g.bits,12===g.mode&&(g.back=-1);break}for(g.back=0;F=g.lencode[a&(1<<g.lenbits)-1],h=F>>>24,w=F>>>16&255,y=65535&F,!(h<=t);){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}if(w&&0==(240&w)){for(G=h,S=w,N=y;F=g.lencode[N+((a&(1<<G+S)-1)>>G)],h=F>>>24,w=F>>>16&255,y=65535&F,!(G+h<=t);){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}a>>>=G,t-=G,g.back+=G}if(a>>>=h,t-=h,g.back+=h,g.length=y,0===w){g.mode=26;break}if(32&w){g.back=-1,g.mode=12;break}if(64&w){A.msg=\\\"invalid literal/length code\\\",g.mode=30;break}g.extra=15&w,g.mode=22;case 22:if(g.extra){for(R=g.extra;t<R;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}g.length+=a&(1<<g.extra)-1,a>>>=g.extra,t-=g.extra,g.back+=g.extra}g.was=g.length,g.mode=23;case 23:for(;F=g.distcode[a&(1<<g.distbits)-1],h=F>>>24,w=F>>>16&255,y=65535&F,!(h<=t);){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}if(0==(240&w)){for(G=h,S=w,N=y;F=g.distcode[N+((a&(1<<G+S)-1)>>G)],h=F>>>24,w=F>>>16&255,y=65535&F,!(G+h<=t);){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}a>>>=G,t-=G,g.back+=G}if(a>>>=h,t-=h,g.back+=h,64&w){A.msg=\\\"invalid distance code\\\",g.mode=30;break}g.offset=y,g.extra=15&w,g.mode=24;case 24:if(g.extra){for(R=g.extra;t<R;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}g.offset+=a&(1<<g.extra)-1,a>>>=g.extra,t-=g.extra,g.back+=g.extra}if(g.offset>g.dmax){A.msg=\\\"invalid distance too far back\\\",g.mode=30;break}g.mode=25;case 25:if(0===e)break A;if(r=s-e,g.offset>r){if(r=g.offset-r,r>g.whave&&g.sane){A.msg=\\\"invalid distance too far back\\\",g.mode=30;break}r>g.wnext?(r-=g.wnext,D=g.wsize-r):D=g.wnext-r,r>g.length&&(r=g.length),n=g.window}else n=C,D=E-g.offset,r=g.length;r>e&&(r=e),e-=r,g.length-=r;do{C[E++]=n[D++]}while(--r);0===g.length&&(g.mode=21);break;case 26:if(0===e)break A;C[E++]=g.length,e--,g.mode=21;break;case 27:if(g.wrap){for(;t<32;){if(0===i)break A;i--,a|=B[Q++]<<t,t+=8}if(s-=e,A.total_out+=s,g.total+=s,s&&(A.adler=g.check=g.flags?AA(g.check,C,s,E-s):X(g.check,C,s,E-s)),s=e,(g.flags?a:UI(a))!==g.check){A.msg=\\\"incorrect data check\\\",g.mode=30;break}a=0,t=0}g.mode=28;case 28:if(g.wrap&&g.flags){for(;t<32;){if(0===i)break A;i--,a+=B[Q++]<<t,t+=8}if(a!==(4294967295&g.total)){A.msg=\\\"incorrect length check\\\",g.mode=30;break}a=0,t=0}g.mode=29;case 29:d=cI;break A;case 30:d=lI;break A;case 31:return kI;default:return FI}return A.next_out=E,A.avail_out=e,A.next_in=Q,A.avail_in=i,g.hold=a,g.bits=t,(g.wsize||s!==A.avail_out&&g.mode<30&&(g.mode<27||I!==yI))&&qI(A,A.output,A.next_out,s-A.avail_out),o-=A.avail_in,s-=A.avail_out,A.total_in+=o,A.total_out+=s,g.total+=s,g.wrap&&s&&(A.adler=g.check=g.flags?AA(g.check,C,s,A.next_out-s):X(g.check,C,s,A.next_out-s)),A.data_type=g.bits+(g.last?64:0)+(12===g.mode?128:0)+(20===g.mode||15===g.mode?256:0),(0===o&&0===s||I===yI)&&d===NI&&(d=RI),d},inflateEnd:A=>{if(!A||!A.state)return FI;let I=A.state;return I.window&&(I.window=null),A.state=null,NI},inflateGetHeader:(A,I)=>{if(!A||!A.state)return FI;const g=A.state;return 0==(2&g.wrap)?FI:(g.head=I,I.done=!1,NI)},inflateSetDictionary:(A,I)=>{const g=I.length;let B,C,Q;return A&&A.state?(B=A.state,0!==B.wrap&&11!==B.mode?FI:11===B.mode&&(C=1,C=X(C,I,g,0),C!==B.check)?lI:(Q=qI(A,I,g,g),Q?(B.mode=31,kI):(B.havedict=1,NI))):FI},inflateInfo:\\\"pako inflate (from Nodeca project)\\\"};var xI=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\\\"\\\",this.comment=\\\"\\\",this.hcrc=0,this.done=!1};const OI=Object.prototype.toString,{Z_NO_FLUSH:TI,Z_FINISH:_I,Z_OK:ZI,Z_STREAM_END:PI,Z_NEED_DICT:vI,Z_STREAM_ERROR:jI,Z_DATA_ERROR:WI,Z_MEM_ERROR:VI}=gA;function zI(A){this.options=vA({chunkSize:65536,windowBits:15,to:\\\"\\\"},A||{});const I=this.options;I.raw&&I.windowBits>=0&&I.windowBits<16&&(I.windowBits=-I.windowBits,0===I.windowBits&&(I.windowBits=-15)),!(I.windowBits>=0&&I.windowBits<16)||A&&A.windowBits||(I.windowBits+=32),I.windowBits>15&&I.windowBits<48&&0==(15&I.windowBits)&&(I.windowBits|=15),this.err=0,this.msg=\\\"\\\",this.ended=!1,this.chunks=[],this.strm=new AI,this.strm.avail_out=0;let g=bI.inflateInit2(this.strm,I.windowBits);if(g!==ZI)throw new Error(IA[g]);if(this.header=new xI,bI.inflateGetHeader(this.strm,this.header),I.dictionary&&(\\\"string\\\"==typeof I.dictionary?I.dictionary=zA(I.dictionary):\\\"[object ArrayBuffer]\\\"===OI.call(I.dictionary)&&(I.dictionary=new Uint8Array(I.dictionary)),I.raw&&(g=bI.inflateSetDictionary(this.strm,I.dictionary),g!==ZI)))throw new Error(IA[g])}function XI(A,I){const g=new zI(I);if(g.push(A),g.err)throw g.msg||IA[g.err];return g.result}zI.prototype.push=function(A,I){const g=this.strm,B=this.options.chunkSize,C=this.options.dictionary;let Q,E,i;if(this.ended)return!1;for(E=I===~~I?I:!0===I?_I:TI,\\\"[object ArrayBuffer]\\\"===OI.call(A)?g.input=new Uint8Array(A):g.input=A,g.next_in=0,g.avail_in=g.input.length;;){for(0===g.avail_out&&(g.output=new Uint8Array(B),g.next_out=0,g.avail_out=B),Q=bI.inflate(g,E),Q===vI&&C&&(Q=bI.inflateSetDictionary(g,C),Q===ZI?Q=bI.inflate(g,E):Q===WI&&(Q=vI));g.avail_in>0&&Q===PI&&g.state.wrap>0&&0!==A[g.next_in];)bI.inflateReset(g),Q=bI.inflate(g,E);switch(Q){case jI:case WI:case vI:case VI:return this.onEnd(Q),this.ended=!0,!1}if(i=g.avail_out,g.next_out&&(0===g.avail_out||Q===PI))if(\\\"string\\\"===this.options.to){let A=$A(g.output,g.next_out),I=g.next_out-A,C=XA(g.output,A);g.next_out=I,g.avail_out=B-I,I&&g.output.set(g.output.subarray(A,A+I),0),this.onData(C)}else this.onData(g.output.length===g.next_out?g.output:g.output.subarray(0,g.next_out));if(Q!==ZI||0!==i){if(Q===PI)return Q=bI.inflateEnd(this.strm),this.onEnd(Q),this.ended=!0,!0;if(0===g.avail_in)break}}return!0},zI.prototype.onData=function(A){this.chunks.push(A)},zI.prototype.onEnd=function(A){A===ZI&&(\\\"string\\\"===this.options.to?this.result=this.chunks.join(\\\"\\\"):this.result=jA(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};var $I={Inflate:zI,inflate:XI,inflateRaw:function(A,I){return(I=I||{}).raw=!0,XI(A,I)},ungzip:XI,constants:gA};const{Inflate:Ag,inflate:Ig,inflateRaw:gg,ungzip:Bg}=$I;var Cg=Ig;var Qg=Object.freeze({__proto__:null,default:class extends i{decodeBlock(A){return Cg(new Uint8Array(A)).buffer}}});var Eg,ig=Object.freeze({__proto__:null,default:class extends i{decodeBlock(A){const I=new DataView(A),g=[];for(let B=0;B<A.byteLength;++B){let A=I.getInt8(B);if(A<0){const C=I.getUint8(B+1);A=-A;for(let I=0;I<=A;++I)g.push(C);B+=1}else{for(let C=0;C<=A;++C)g.push(I.getUint8(B+C+1));B+=A+1}}return new Uint8Array(g).buffer}}}),eg={exports:{}};Eg=eg,\\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the \\\"License\\\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\\nfunction(){var A,I,g,B,C,Q,E,i,e,a,t,o,s,r,D,n,h=(A={defaultNoDataValue:-34027999387901484e22,decode:function(Q,E){var i=(E=E||{}).encodedMaskData||null===E.encodedMaskData,e=C(Q,E.inputOffset||0,i),a=null!==E.noDataValue?E.noDataValue:A.defaultNoDataValue,t=I(e,E.pixelType||Float32Array,E.encodedMaskData,a,E.returnMask),o={width:e.width,height:e.height,pixelData:t.resultPixels,minValue:t.minValue,maxValue:e.pixels.maxValue,noDataValue:a};return t.resultMask&&(o.maskData=t.resultMask),E.returnEncodedMask&&e.mask&&(o.encodedMaskData=e.mask.bitset?e.mask.bitset:null),E.returnFileInfo&&(o.fileInfo=g(e),E.computeUsedBitDepths&&(o.fileInfo.bitDepths=B(e))),o}},I=function(A,I,g,B,C){var E,i,e,a=0,t=A.pixels.numBlocksX,o=A.pixels.numBlocksY,s=Math.floor(A.width/t),r=Math.floor(A.height/o),D=2*A.maxZError,n=Number.MAX_VALUE;g=g||(A.mask?A.mask.bitset:null),i=new I(A.width*A.height),C&&g&&(e=new Uint8Array(A.width*A.height));for(var h,w,y=new Float32Array(s*r),G=0;G<=o;G++){var S=G!==o?r:A.height%o;if(0!==S)for(var N=0;N<=t;N++){var c=N!==t?s:A.width%t;if(0!==c){var d,F,l,k,R=G*A.width*r+N*s,L=A.width-c,U=A.pixels.blocks[a];if(U.encoding<2?(0===U.encoding?d=U.rawData:(Q(U.stuffedData,U.bitsPerPixel,U.numValidPixels,U.offset,D,y,A.pixels.maxValue),d=y),F=0):l=2===U.encoding?0:U.offset,g)for(w=0;w<S;w++){for(7&R&&(k=g[R>>3],k<<=7&R),h=0;h<c;h++)7&R||(k=g[R>>3]),128&k?(e&&(e[R]=1),n=n>(E=U.encoding<2?d[F++]:l)?E:n,i[R++]=E):(e&&(e[R]=0),i[R++]=B),k<<=1;R+=L}else if(U.encoding<2)for(w=0;w<S;w++){for(h=0;h<c;h++)n=n>(E=d[F++])?E:n,i[R++]=E;R+=L}else for(n=n>l?l:n,w=0;w<S;w++){for(h=0;h<c;h++)i[R++]=l;R+=L}if(1===U.encoding&&F!==U.numValidPixels)throw\\\"Block and Mask do not match\\\";a++}}}return{resultPixels:i,resultMask:e,minValue:n}},g=function(A){return{fileIdentifierString:A.fileIdentifierString,fileVersion:A.fileVersion,imageType:A.imageType,height:A.height,width:A.width,maxZError:A.maxZError,eofOffset:A.eofOffset,mask:A.mask?{numBlocksX:A.mask.numBlocksX,numBlocksY:A.mask.numBlocksY,numBytes:A.mask.numBytes,maxValue:A.mask.maxValue}:null,pixels:{numBlocksX:A.pixels.numBlocksX,numBlocksY:A.pixels.numBlocksY,numBytes:A.pixels.numBytes,maxValue:A.pixels.maxValue,noDataValue:A.noDataValue}}},B=function(A){for(var I=A.pixels.numBlocksX*A.pixels.numBlocksY,g={},B=0;B<I;B++){var C=A.pixels.blocks[B];0===C.encoding?g.float32=!0:1===C.encoding?g[C.bitsPerPixel]=!0:g[0]=!0}return Object.keys(g)},C=function(A,I,g){var B={},C=new Uint8Array(A,I,10);if(B.fileIdentifierString=String.fromCharCode.apply(null,C),\\\"CntZImage\\\"!==B.fileIdentifierString.trim())throw\\\"Unexpected file identifier string: \\\"+B.fileIdentifierString;I+=10;var Q=new DataView(A,I,24);if(B.fileVersion=Q.getInt32(0,!0),B.imageType=Q.getInt32(4,!0),B.height=Q.getUint32(8,!0),B.width=Q.getUint32(12,!0),B.maxZError=Q.getFloat64(16,!0),I+=24,!g)if(Q=new DataView(A,I,16),B.mask={},B.mask.numBlocksY=Q.getUint32(0,!0),B.mask.numBlocksX=Q.getUint32(4,!0),B.mask.numBytes=Q.getUint32(8,!0),B.mask.maxValue=Q.getFloat32(12,!0),I+=16,B.mask.numBytes>0){var E=new Uint8Array(Math.ceil(B.width*B.height/8)),i=(Q=new DataView(A,I,B.mask.numBytes)).getInt16(0,!0),e=2,a=0;do{if(i>0)for(;i--;)E[a++]=Q.getUint8(e++);else{var t=Q.getUint8(e++);for(i=-i;i--;)E[a++]=t}i=Q.getInt16(e,!0),e+=2}while(e<B.mask.numBytes);if(-32768!==i||a<E.length)throw\\\"Unexpected end of mask RLE encoding\\\";B.mask.bitset=E,I+=B.mask.numBytes}else 0==(B.mask.numBytes|B.mask.numBlocksY|B.mask.maxValue)&&(B.mask.bitset=new Uint8Array(Math.ceil(B.width*B.height/8)));Q=new DataView(A,I,16),B.pixels={},B.pixels.numBlocksY=Q.getUint32(0,!0),B.pixels.numBlocksX=Q.getUint32(4,!0),B.pixels.numBytes=Q.getUint32(8,!0),B.pixels.maxValue=Q.getFloat32(12,!0),I+=16;var o=B.pixels.numBlocksX,s=B.pixels.numBlocksY,r=o+(B.width%o>0?1:0),D=s+(B.height%s>0?1:0);B.pixels.blocks=new Array(r*D);for(var n=0,h=0;h<D;h++)for(var w=0;w<r;w++){var y=0,G=A.byteLength-I;Q=new DataView(A,I,Math.min(10,G));var S={};B.pixels.blocks[n++]=S;var N=Q.getUint8(0);if(y++,S.encoding=63&N,S.encoding>3)throw\\\"Invalid block encoding (\\\"+S.encoding+\\\")\\\";if(2!==S.encoding){if(0!==N&&2!==N){if(N>>=6,S.offsetType=N,2===N)S.offset=Q.getInt8(1),y++;else if(1===N)S.offset=Q.getInt16(1,!0),y+=2;else{if(0!==N)throw\\\"Invalid block offset type\\\";S.offset=Q.getFloat32(1,!0),y+=4}if(1===S.encoding)if(N=Q.getUint8(y),y++,S.bitsPerPixel=63&N,N>>=6,S.numValidPixelsType=N,2===N)S.numValidPixels=Q.getUint8(y),y++;else if(1===N)S.numValidPixels=Q.getUint16(y,!0),y+=2;else{if(0!==N)throw\\\"Invalid valid pixel count type\\\";S.numValidPixels=Q.getUint32(y,!0),y+=4}}var c;if(I+=y,3!==S.encoding)if(0===S.encoding){var d=(B.pixels.numBytes-1)/4;if(d!==Math.floor(d))throw\\\"uncompressed block has invalid length\\\";c=new ArrayBuffer(4*d),new Uint8Array(c).set(new Uint8Array(A,I,4*d));var F=new Float32Array(c);S.rawData=F,I+=4*d}else if(1===S.encoding){var l=Math.ceil(S.numValidPixels*S.bitsPerPixel/8),k=Math.ceil(l/4);c=new ArrayBuffer(4*k),new Uint8Array(c).set(new Uint8Array(A,I,l)),S.stuffedData=new Uint32Array(c),I+=l}}else I++}return B.eofOffset=I,B},Q=function(A,I,g,B,C,Q,E){var i,e,a,t=(1<<I)-1,o=0,s=0,r=Math.ceil((E-B)/C),D=4*A.length-Math.ceil(I*g/8);for(A[A.length-1]<<=8*D,i=0;i<g;i++){if(0===s&&(a=A[o++],s=32),s>=I)e=a>>>s-I&t,s-=I;else{var n=I-s;e=(a&t)<<n&t,e+=(a=A[o++])>>>(s=32-n)}Q[i]=e<r?B+e*C:E}return Q},A),w=(E=function(A,I,g,B,C,Q,E,i){var e,a,t,o,s,r=(1<<g)-1,D=0,n=0,h=4*A.length-Math.ceil(g*B/8);if(A[A.length-1]<<=8*h,C)for(e=0;e<B;e++)0===n&&(t=A[D++],n=32),n>=g?(a=t>>>n-g&r,n-=g):(a=(t&r)<<(o=g-n)&r,a+=(t=A[D++])>>>(n=32-o)),I[e]=C[a];else for(s=Math.ceil((i-Q)/E),e=0;e<B;e++)0===n&&(t=A[D++],n=32),n>=g?(a=t>>>n-g&r,n-=g):(a=(t&r)<<(o=g-n)&r,a+=(t=A[D++])>>>(n=32-o)),I[e]=a<s?Q+a*E:i},i=function(A,I,g,B,C,Q){var E,i=(1<<I)-1,e=0,a=0,t=0,o=0,s=0,r=[],D=4*A.length-Math.ceil(I*g/8);A[A.length-1]<<=8*D;var n=Math.ceil((Q-B)/C);for(a=0;a<g;a++)0===o&&(E=A[e++],o=32),o>=I?(s=E>>>o-I&i,o-=I):(s=(E&i)<<(t=I-o)&i,s+=(E=A[e++])>>>(o=32-t)),r[a]=s<n?B+s*C:Q;return r.unshift(B),r},e=function(A,I,g,B,C,Q,E,i){var e,a,t,o,s=(1<<g)-1,r=0,D=0,n=0;if(C)for(e=0;e<B;e++)0===D&&(t=A[r++],D=32,n=0),D>=g?(a=t>>>n&s,D-=g,n+=g):(a=t>>>n&s,D=32-(o=g-D),a|=((t=A[r++])&(1<<o)-1)<<g-o,n=o),I[e]=C[a];else{var h=Math.ceil((i-Q)/E);for(e=0;e<B;e++)0===D&&(t=A[r++],D=32,n=0),D>=g?(a=t>>>n&s,D-=g,n+=g):(a=t>>>n&s,D=32-(o=g-D),a|=((t=A[r++])&(1<<o)-1)<<g-o,n=o),I[e]=a<h?Q+a*E:i}return I},a=function(A,I,g,B,C,Q){var E,i=(1<<I)-1,e=0,a=0,t=0,o=0,s=0,r=0,D=[],n=Math.ceil((Q-B)/C);for(a=0;a<g;a++)0===o&&(E=A[e++],o=32,r=0),o>=I?(s=E>>>r&i,o-=I,r+=I):(s=E>>>r&i,o=32-(t=I-o),s|=((E=A[e++])&(1<<t)-1)<<I-t,r=t),D[a]=s<n?B+s*C:Q;return D.unshift(B),D},t=function(A,I,g,B){var C,Q,E,i,e=(1<<g)-1,a=0,t=0,o=4*A.length-Math.ceil(g*B/8);for(A[A.length-1]<<=8*o,C=0;C<B;C++)0===t&&(E=A[a++],t=32),t>=g?(Q=E>>>t-g&e,t-=g):(Q=(E&e)<<(i=g-t)&e,Q+=(E=A[a++])>>>(t=32-i)),I[C]=Q;return I},o=function(A,I,g,B){var C,Q,E,i,e=(1<<g)-1,a=0,t=0,o=0;for(C=0;C<B;C++)0===t&&(E=A[a++],t=32,o=0),t>=g?(Q=E>>>o&e,t-=g,o+=g):(Q=E>>>o&e,t=32-(i=g-t),Q|=((E=A[a++])&(1<<i)-1)<<g-i,o=i),I[C]=Q;return I},s={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(A){for(var I=65535,g=65535,B=A.length,C=Math.floor(B/2),Q=0;C;){var E=C>=359?359:C;C-=E;do{I+=A[Q++]<<8,g+=I+=A[Q++]}while(--E);I=(65535&I)+(I>>>16),g=(65535&g)+(g>>>16)}return 1&B&&(g+=I+=A[Q]<<8),((g=(65535&g)+(g>>>16))<<16|(I=(65535&I)+(I>>>16)))>>>0},readHeaderInfo:function(A,I){var g=I.ptr,B=new Uint8Array(A,g,6),C={};if(C.fileIdentifierString=String.fromCharCode.apply(null,B),0!==C.fileIdentifierString.lastIndexOf(\\\"Lerc2\\\",0))throw\\\"Unexpected file identifier string (expect Lerc2 ): \\\"+C.fileIdentifierString;g+=6;var Q,E=new DataView(A,g,8),i=E.getInt32(0,!0);if(C.fileVersion=i,g+=4,i>=3&&(C.checksum=E.getUint32(4,!0),g+=4),E=new DataView(A,g,12),C.height=E.getUint32(0,!0),C.width=E.getUint32(4,!0),g+=8,i>=4?(C.numDims=E.getUint32(8,!0),g+=4):C.numDims=1,E=new DataView(A,g,40),C.numValidPixel=E.getUint32(0,!0),C.microBlockSize=E.getInt32(4,!0),C.blobSize=E.getInt32(8,!0),C.imageType=E.getInt32(12,!0),C.maxZError=E.getFloat64(16,!0),C.zMin=E.getFloat64(24,!0),C.zMax=E.getFloat64(32,!0),g+=40,I.headerInfo=C,I.ptr=g,i>=3&&(Q=i>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(A,g-Q,C.blobSize-14))!==C.checksum))throw\\\"Checksum failed.\\\";return!0},checkMinMaxRanges:function(A,I){var g=I.headerInfo,B=this.getDataTypeArray(g.imageType),C=g.numDims*this.getDataTypeSize(g.imageType),Q=this.readSubArray(A,I.ptr,B,C),E=this.readSubArray(A,I.ptr+C,B,C);I.ptr+=2*C;var i,e=!0;for(i=0;i<g.numDims;i++)if(Q[i]!==E[i]){e=!1;break}return g.minValues=Q,g.maxValues=E,e},readSubArray:function(A,I,g,B){var C;if(g===Uint8Array)C=new Uint8Array(A,I,B);else{var Q=new ArrayBuffer(B);new Uint8Array(Q).set(new Uint8Array(A,I,B)),C=new g(Q)}return C},readMask:function(A,I){var g,B,C=I.ptr,Q=I.headerInfo,E=Q.width*Q.height,i=Q.numValidPixel,e=new DataView(A,C,4),a={};if(a.numBytes=e.getUint32(0,!0),C+=4,(0===i||E===i)&&0!==a.numBytes)throw\\\"invalid mask\\\";if(0===i)g=new Uint8Array(Math.ceil(E/8)),a.bitset=g,B=new Uint8Array(E),I.pixels.resultMask=B,C+=a.numBytes;else if(a.numBytes>0){g=new Uint8Array(Math.ceil(E/8));var t=(e=new DataView(A,C,a.numBytes)).getInt16(0,!0),o=2,s=0,r=0;do{if(t>0)for(;t--;)g[s++]=e.getUint8(o++);else for(r=e.getUint8(o++),t=-t;t--;)g[s++]=r;t=e.getInt16(o,!0),o+=2}while(o<a.numBytes);if(-32768!==t||s<g.length)throw\\\"Unexpected end of mask RLE encoding\\\";B=new Uint8Array(E);var D=0,n=0;for(n=0;n<E;n++)7&n?(D=g[n>>3],D<<=7&n):D=g[n>>3],128&D&&(B[n]=1);I.pixels.resultMask=B,a.bitset=g,C+=a.numBytes}return I.ptr=C,I.mask=a,!0},readDataOneSweep:function(A,I,g,B){var C,Q=I.ptr,E=I.headerInfo,i=E.numDims,e=E.width*E.height,a=E.imageType,t=E.numValidPixel*s.getDataTypeSize(a)*i,o=I.pixels.resultMask;if(g===Uint8Array)C=new Uint8Array(A,Q,t);else{var r=new ArrayBuffer(t);new Uint8Array(r).set(new Uint8Array(A,Q,t)),C=new g(r)}if(C.length===e*i)I.pixels.resultPixels=B?s.swapDimensionOrder(C,e,i,g,!0):C;else{I.pixels.resultPixels=new g(e*i);var D=0,n=0,h=0,w=0;if(i>1){if(B){for(n=0;n<e;n++)if(o[n])for(w=n,h=0;h<i;h++,w+=e)I.pixels.resultPixels[w]=C[D++]}else for(n=0;n<e;n++)if(o[n])for(w=n*i,h=0;h<i;h++)I.pixels.resultPixels[w+h]=C[D++]}else for(n=0;n<e;n++)o[n]&&(I.pixels.resultPixels[n]=C[D++])}return Q+=t,I.ptr=Q,!0},readHuffmanTree:function(A,I){var g=this.HUFFMAN_LUT_BITS_MAX,B=new DataView(A,I.ptr,16);if(I.ptr+=16,B.getInt32(0,!0)<2)throw\\\"unsupported Huffman version\\\";var C=B.getInt32(4,!0),Q=B.getInt32(8,!0),E=B.getInt32(12,!0);if(Q>=E)return!1;var i=new Uint32Array(E-Q);s.decodeBits(A,I,i);var e,a,t,o,D=[];for(e=Q;e<E;e++)D[a=e-(e<C?0:C)]={first:i[e-Q],second:null};var n=A.byteLength-I.ptr,h=Math.ceil(n/4),w=new ArrayBuffer(4*h);new Uint8Array(w).set(new Uint8Array(A,I.ptr,n));var y,G=new Uint32Array(w),S=0,N=0;for(y=G[0],e=Q;e<E;e++)(o=D[a=e-(e<C?0:C)].first)>0&&(D[a].second=y<<S>>>32-o,32-S>=o?32===(S+=o)&&(S=0,y=G[++N]):(S+=o-32,y=G[++N],D[a].second|=y>>>32-S));var c=0,d=0,F=new r;for(e=0;e<D.length;e++)void 0!==D[e]&&(c=Math.max(c,D[e].first));d=c>=g?g:c;var l,k,R,L,U,f=[];for(e=Q;e<E;e++)if((o=D[a=e-(e<C?0:C)].first)>0)if(l=[o,a],o<=d)for(k=D[a].second<<d-o,R=1<<d-o,t=0;t<R;t++)f[k|t]=l;else for(k=D[a].second,U=F,L=o-1;L>=0;L--)k>>>L&1?(U.right||(U.right=new r),U=U.right):(U.left||(U.left=new r),U=U.left),0!==L||U.val||(U.val=l[1]);return{decodeLut:f,numBitsLUTQick:d,numBitsLUT:c,tree:F,stuffedData:G,srcPtr:N,bitPos:S}},readHuffman:function(A,I,g,B){var C,Q,E,i,e,a,t,o,r,D=I.headerInfo.numDims,n=I.headerInfo.height,h=I.headerInfo.width,w=h*n,y=this.readHuffmanTree(A,I),G=y.decodeLut,S=y.tree,N=y.stuffedData,c=y.srcPtr,d=y.bitPos,F=y.numBitsLUTQick,l=y.numBitsLUT,k=0===I.headerInfo.imageType?128:0,R=I.pixels.resultMask,L=0;d>0&&(c++,d=0);var U,f=N[c],Y=1===I.encodeMode,K=new g(w*D),u=K;if(D<2||Y){for(U=0;U<D;U++)if(D>1&&(u=new g(K.buffer,w*U,w),L=0),I.headerInfo.numValidPixel===h*n)for(o=0,a=0;a<n;a++)for(t=0;t<h;t++,o++){if(Q=0,e=i=f<<d>>>32-F,32-d<F&&(e=i|=N[c+1]>>>64-d-F),G[e])Q=G[e][1],d+=G[e][0];else for(e=i=f<<d>>>32-l,32-d<l&&(e=i|=N[c+1]>>>64-d-l),C=S,r=0;r<l;r++)if(!(C=i>>>l-r-1&1?C.right:C.left).left&&!C.right){Q=C.val,d=d+r+1;break}d>=32&&(d-=32,f=N[++c]),E=Q-k,Y?(E+=t>0?L:a>0?u[o-h]:L,E&=255,u[o]=E,L=E):u[o]=E}else for(o=0,a=0;a<n;a++)for(t=0;t<h;t++,o++)if(R[o]){if(Q=0,e=i=f<<d>>>32-F,32-d<F&&(e=i|=N[c+1]>>>64-d-F),G[e])Q=G[e][1],d+=G[e][0];else for(e=i=f<<d>>>32-l,32-d<l&&(e=i|=N[c+1]>>>64-d-l),C=S,r=0;r<l;r++)if(!(C=i>>>l-r-1&1?C.right:C.left).left&&!C.right){Q=C.val,d=d+r+1;break}d>=32&&(d-=32,f=N[++c]),E=Q-k,Y?(t>0&&R[o-1]?E+=L:a>0&&R[o-h]?E+=u[o-h]:E+=L,E&=255,u[o]=E,L=E):u[o]=E}}else for(o=0,a=0;a<n;a++)for(t=0;t<h;t++)if(o=a*h+t,!R||R[o])for(U=0;U<D;U++,o+=w){if(Q=0,e=i=f<<d>>>32-F,32-d<F&&(e=i|=N[c+1]>>>64-d-F),G[e])Q=G[e][1],d+=G[e][0];else for(e=i=f<<d>>>32-l,32-d<l&&(e=i|=N[c+1]>>>64-d-l),C=S,r=0;r<l;r++)if(!(C=i>>>l-r-1&1?C.right:C.left).left&&!C.right){Q=C.val,d=d+r+1;break}d>=32&&(d-=32,f=N[++c]),E=Q-k,u[o]=E}I.ptr=I.ptr+4*(c+1)+(d>0?4:0),I.pixels.resultPixels=K,D>1&&!B&&(I.pixels.resultPixels=s.swapDimensionOrder(K,w,D,g))},decodeBits:function(A,I,g,B,C){var Q=I.headerInfo,s=Q.fileVersion,r=0,D=A.byteLength-I.ptr>=5?5:A.byteLength-I.ptr,n=new DataView(A,I.ptr,D),h=n.getUint8(0);r++;var w=h>>6,y=0===w?4:3-w,G=(32&h)>0,S=31&h,N=0;if(1===y)N=n.getUint8(r),r++;else if(2===y)N=n.getUint16(r,!0),r+=2;else{if(4!==y)throw\\\"Invalid valid pixel count type\\\";N=n.getUint32(r,!0),r+=4}var c,d,F,l,k,R,L,U,f,Y=2*Q.maxZError,K=Q.numDims>1?Q.maxValues[C]:Q.zMax;if(G){for(I.counter.lut++,U=n.getUint8(r),r++,l=Math.ceil((U-1)*S/8),k=Math.ceil(l/4),d=new ArrayBuffer(4*k),F=new Uint8Array(d),I.ptr+=r,F.set(new Uint8Array(A,I.ptr,l)),L=new Uint32Array(d),I.ptr+=l,f=0;U-1>>>f;)f++;l=Math.ceil(N*f/8),k=Math.ceil(l/4),d=new ArrayBuffer(4*k),(F=new Uint8Array(d)).set(new Uint8Array(A,I.ptr,l)),c=new Uint32Array(d),I.ptr+=l,R=s>=3?a(L,S,U-1,B,Y,K):i(L,S,U-1,B,Y,K),s>=3?e(c,g,f,N,R):E(c,g,f,N,R)}else I.counter.bitstuffer++,f=S,I.ptr+=r,f>0&&(l=Math.ceil(N*f/8),k=Math.ceil(l/4),d=new ArrayBuffer(4*k),(F=new Uint8Array(d)).set(new Uint8Array(A,I.ptr,l)),c=new Uint32Array(d),I.ptr+=l,s>=3?null==B?o(c,g,f,N):e(c,g,f,N,!1,B,Y,K):null==B?t(c,g,f,N):E(c,g,f,N,!1,B,Y,K))},readTiles:function(A,I,g,B){var C=I.headerInfo,Q=C.width,E=C.height,i=Q*E,e=C.microBlockSize,a=C.imageType,t=s.getDataTypeSize(a),o=Math.ceil(Q/e),r=Math.ceil(E/e);I.pixels.numBlocksY=r,I.pixels.numBlocksX=o,I.pixels.ptr=0;var D,n,h,w,y,G,S,N,c,d,F=0,l=0,k=0,R=0,L=0,U=0,f=0,Y=0,K=0,u=0,M=0,J=0,H=0,m=0,p=0,q=new g(e*e),b=E%e||e,x=Q%e||e,O=C.numDims,T=I.pixels.resultMask,_=I.pixels.resultPixels,Z=C.fileVersion>=5?14:15,P=C.zMax;for(k=0;k<r;k++)for(L=k!==r-1?e:b,R=0;R<o;R++)for(u=k*Q*e+R*e,M=Q-(U=R!==o-1?e:x),N=0;N<O;N++){if(O>1?(d=_,u=k*Q*e+R*e,_=new g(I.pixels.resultPixels.buffer,i*N*t,i),P=C.maxValues[N]):d=null,f=A.byteLength-I.ptr,n={},p=0,Y=(D=new DataView(A,I.ptr,Math.min(10,f))).getUint8(0),p++,c=C.fileVersion>=5?4&Y:0,K=Y>>6&255,(Y>>2&Z)!=(R*e>>3&Z))throw\\\"integrity issue\\\";if(c&&0===N)throw\\\"integrity issue\\\";if((y=3&Y)>3)throw I.ptr+=p,\\\"Invalid block encoding (\\\"+y+\\\")\\\";if(2!==y)if(0===y){if(c)throw\\\"integrity issue\\\";if(I.counter.uncompressed++,I.ptr+=p,J=(J=L*U*t)<(H=A.byteLength-I.ptr)?J:H,h=new ArrayBuffer(J%t==0?J:J+t-J%t),new Uint8Array(h).set(new Uint8Array(A,I.ptr,J)),w=new g(h),m=0,T)for(F=0;F<L;F++){for(l=0;l<U;l++)T[u]&&(_[u]=w[m++]),u++;u+=M}else for(F=0;F<L;F++){for(l=0;l<U;l++)_[u++]=w[m++];u+=M}I.ptr+=m*t}else if(G=s.getDataTypeUsed(c&&a<6?4:a,K),S=s.getOnePixel(n,p,G,D),p+=s.getDataTypeSize(G),3===y)if(I.ptr+=p,I.counter.constantoffset++,T)for(F=0;F<L;F++){for(l=0;l<U;l++)T[u]&&(_[u]=c?Math.min(P,d[u]+S):S),u++;u+=M}else for(F=0;F<L;F++){for(l=0;l<U;l++)_[u]=c?Math.min(P,d[u]+S):S,u++;u+=M}else if(I.ptr+=p,s.decodeBits(A,I,q,S,N),p=0,c)if(T)for(F=0;F<L;F++){for(l=0;l<U;l++)T[u]&&(_[u]=q[p++]+d[u]),u++;u+=M}else for(F=0;F<L;F++){for(l=0;l<U;l++)_[u]=q[p++]+d[u],u++;u+=M}else if(T)for(F=0;F<L;F++){for(l=0;l<U;l++)T[u]&&(_[u]=q[p++]),u++;u+=M}else for(F=0;F<L;F++){for(l=0;l<U;l++)_[u++]=q[p++];u+=M}else{if(c)if(T)for(F=0;F<L;F++)for(l=0;l<U;l++)T[u]&&(_[u]=d[u]),u++;else for(F=0;F<L;F++)for(l=0;l<U;l++)_[u]=d[u],u++;I.counter.constant++,I.ptr+=p}}O>1&&!B&&(I.pixels.resultPixels=s.swapDimensionOrder(I.pixels.resultPixels,i,O,g))},formatFileInfo:function(A){return{fileIdentifierString:A.headerInfo.fileIdentifierString,fileVersion:A.headerInfo.fileVersion,imageType:A.headerInfo.imageType,height:A.headerInfo.height,width:A.headerInfo.width,numValidPixel:A.headerInfo.numValidPixel,microBlockSize:A.headerInfo.microBlockSize,blobSize:A.headerInfo.blobSize,maxZError:A.headerInfo.maxZError,pixelType:s.getPixelType(A.headerInfo.imageType),eofOffset:A.eofOffset,mask:A.mask?{numBytes:A.mask.numBytes}:null,pixels:{numBlocksX:A.pixels.numBlocksX,numBlocksY:A.pixels.numBlocksY,maxValue:A.headerInfo.zMax,minValue:A.headerInfo.zMin,noDataValue:A.noDataValue}}},constructConstantSurface:function(A,I){var g=A.headerInfo.zMax,B=A.headerInfo.zMin,C=A.headerInfo.maxValues,Q=A.headerInfo.numDims,E=A.headerInfo.height*A.headerInfo.width,i=0,e=0,a=0,t=A.pixels.resultMask,o=A.pixels.resultPixels;if(t)if(Q>1){if(I)for(i=0;i<Q;i++)for(a=i*E,g=C[i],e=0;e<E;e++)t[e]&&(o[a+e]=g);else for(e=0;e<E;e++)if(t[e])for(a=e*Q,i=0;i<Q;i++)o[a+Q]=C[i]}else for(e=0;e<E;e++)t[e]&&(o[e]=g);else if(Q>1&&B!==g)if(I)for(i=0;i<Q;i++)for(a=i*E,g=C[i],e=0;e<E;e++)o[a+e]=g;else for(e=0;e<E;e++)for(a=e*Q,i=0;i<Q;i++)o[a+i]=C[i];else for(e=0;e<E*Q;e++)o[e]=g},getDataTypeArray:function(A){var I;switch(A){case 0:I=Int8Array;break;case 1:I=Uint8Array;break;case 2:I=Int16Array;break;case 3:I=Uint16Array;break;case 4:I=Int32Array;break;case 5:I=Uint32Array;break;case 6:default:I=Float32Array;break;case 7:I=Float64Array}return I},getPixelType:function(A){var I;switch(A){case 0:I=\\\"S8\\\";break;case 1:I=\\\"U8\\\";break;case 2:I=\\\"S16\\\";break;case 3:I=\\\"U16\\\";break;case 4:I=\\\"S32\\\";break;case 5:I=\\\"U32\\\";break;case 6:default:I=\\\"F32\\\";break;case 7:I=\\\"F64\\\"}return I},isValidPixelValue:function(A,I){if(null==I)return!1;var g;switch(A){case 0:g=I>=-128&&I<=127;break;case 1:g=I>=0&&I<=255;break;case 2:g=I>=-32768&&I<=32767;break;case 3:g=I>=0&&I<=65536;break;case 4:g=I>=-2147483648&&I<=2147483647;break;case 5:g=I>=0&&I<=4294967296;break;case 6:g=I>=-34027999387901484e22&&I<=34027999387901484e22;break;case 7:g=I>=-17976931348623157e292&&I<=17976931348623157e292;break;default:g=!1}return g},getDataTypeSize:function(A){var I=0;switch(A){case 0:case 1:I=1;break;case 2:case 3:I=2;break;case 4:case 5:case 6:I=4;break;case 7:I=8;break;default:I=A}return I},getDataTypeUsed:function(A,I){var g=A;switch(A){case 2:case 4:g=A-I;break;case 3:case 5:g=A-2*I;break;case 6:g=0===I?A:1===I?2:1;break;case 7:g=0===I?A:A-2*I+1;break;default:g=A}return g},getOnePixel:function(A,I,g,B){var C=0;switch(g){case 0:C=B.getInt8(I);break;case 1:C=B.getUint8(I);break;case 2:C=B.getInt16(I,!0);break;case 3:C=B.getUint16(I,!0);break;case 4:C=B.getInt32(I,!0);break;case 5:C=B.getUInt32(I,!0);break;case 6:C=B.getFloat32(I,!0);break;case 7:C=B.getFloat64(I,!0);break;default:throw\\\"the decoder does not understand this pixel type\\\"}return C},swapDimensionOrder:function(A,I,g,B,C){var Q=0,E=0,i=0,e=0,a=A;if(g>1)if(a=new B(I*g),C)for(Q=0;Q<I;Q++)for(e=Q,i=0;i<g;i++,e+=I)a[e]=A[E++];else for(Q=0;Q<I;Q++)for(e=Q,i=0;i<g;i++,e+=I)a[E++]=A[e];return a}},r=function(A,I,g){this.val=A,this.left=I,this.right=g},{decode:function(A,I){var g=(I=I||{}).noDataValue,B=0,C={};C.ptr=I.inputOffset||0,C.pixels={},s.readHeaderInfo(A,C);var Q=C.headerInfo,E=Q.fileVersion,i=s.getDataTypeArray(Q.imageType);if(E>5)throw\\\"unsupported lerc version 2.\\\"+E;s.readMask(A,C),Q.numValidPixel===Q.width*Q.height||C.pixels.resultMask||(C.pixels.resultMask=I.maskData);var e=Q.width*Q.height;C.pixels.resultPixels=new i(e*Q.numDims),C.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var a,t=!I.returnPixelInterleavedDims;if(0!==Q.numValidPixel)if(Q.zMax===Q.zMin)s.constructConstantSurface(C,t);else if(E>=4&&s.checkMinMaxRanges(A,C))s.constructConstantSurface(C,t);else{var o=new DataView(A,C.ptr,2),r=o.getUint8(0);if(C.ptr++,r)s.readDataOneSweep(A,C,i,t);else if(E>1&&Q.imageType<=1&&Math.abs(Q.maxZError-.5)<1e-5){var D=o.getUint8(1);if(C.ptr++,C.encodeMode=D,D>2||E<4&&D>1)throw\\\"Invalid Huffman flag \\\"+D;D?s.readHuffman(A,C,i,t):s.readTiles(A,C,i,t)}else s.readTiles(A,C,i,t)}C.eofOffset=C.ptr,I.inputOffset?(a=C.headerInfo.blobSize+I.inputOffset-C.ptr,Math.abs(a)>=1&&(C.eofOffset=I.inputOffset+C.headerInfo.blobSize)):(a=C.headerInfo.blobSize-C.ptr,Math.abs(a)>=1&&(C.eofOffset=C.headerInfo.blobSize));var n={width:Q.width,height:Q.height,pixelData:C.pixels.resultPixels,minValue:Q.zMin,maxValue:Q.zMax,validPixelCount:Q.numValidPixel,dimCount:Q.numDims,dimStats:{minValues:Q.minValues,maxValues:Q.maxValues},maskData:C.pixels.resultMask};if(C.pixels.resultMask&&s.isValidPixelValue(Q.imageType,g)){var h=C.pixels.resultMask;for(B=0;B<e;B++)h[B]||(n.pixelData[B]=g);n.noDataValue=g}return C.noDataValue=g,I.returnFileInfo&&(n.fileInfo=s.formatFileInfo(C)),n},getBandCount:function(A){for(var I=0,g=0,B={ptr:0,pixels:{}};g<A.byteLength-58;)s.readHeaderInfo(A,B),g+=B.headerInfo.blobSize,I++,B.ptr=g;return I}}),y=(D=new ArrayBuffer(4),n=new Uint8Array(D),new Uint32Array(D)[0]=1,1===n[0]),G={decode:function(A,I){if(!y)throw\\\"Big endian system is not supported.\\\";var g,B,C=(I=I||{}).inputOffset||0,Q=new Uint8Array(A,C,10),E=String.fromCharCode.apply(null,Q);if(\\\"CntZImage\\\"===E.trim())g=h,B=1;else{if(\\\"Lerc2\\\"!==E.substring(0,5))throw\\\"Unexpected file identifier string: \\\"+E;g=w,B=2}for(var i,e,a,t,o,s,r=0,D=A.byteLength-10,n=[],G={width:0,height:0,pixels:[],pixelType:I.pixelType,mask:null,statistics:[]},S=0;C<D;){var N=g.decode(A,{inputOffset:C,encodedMaskData:i,maskData:a,returnMask:0===r,returnEncodedMask:0===r,returnFileInfo:!0,returnPixelInterleavedDims:I.returnPixelInterleavedDims,pixelType:I.pixelType||null,noDataValue:I.noDataValue||null});C=N.fileInfo.eofOffset,a=N.maskData,0===r&&(i=N.encodedMaskData,G.width=N.width,G.height=N.height,G.dimCount=N.dimCount||1,G.pixelType=N.pixelType||N.fileInfo.pixelType,G.mask=a),B>1&&(a&&n.push(a),N.fileInfo.mask&&N.fileInfo.mask.numBytes>0&&S++),r++,G.pixels.push(N.pixelData),G.statistics.push({minValue:N.minValue,maxValue:N.maxValue,noDataValue:N.noDataValue,dimStats:N.dimStats})}if(B>1&&S>1){for(s=G.width*G.height,G.bandMasks=n,(a=new Uint8Array(s)).set(n[0]),t=1;t<n.length;t++)for(e=n[t],o=0;o<s;o++)a[o]=a[o]&e[o];G.maskData=a}return G}};Eg.exports?Eg.exports=G:this.Lerc=G}();var ag=eg.exports;let tg,og,sg;const rg={env:{emscripten_notify_memory_growth:A=>{sg=new Uint8Array(og.exports.memory.buffer)}}};const Dg=\\\"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AikACDcACCAHIDo3AAAgEUEZSA0BIARBGGohBANAIAIpABAhOiAEIAIpABg3AAggBCA6NwAAIAIpACAhOiAEIAIpACg3ABggBCA6NwAQIAJBIGohAiAEQSBqIgQgCkkNAAsMAQsCQAJAIAUoAswCIhEgBUHgAWogJUEHcUEMbGoiDygCACICaiIHIBxLDQAgCSAPKAIEIgogAmoiBmogG0sNACAGQSBqIBQgCWtNDQELIAUgDygCCDYCoAEgBSAPKQIANwOYASAJIBQgBUGYAWogBUHMAmogHCALIBcgIhAgIQYMAQsgAiAJaiEEIA8oAgghFSARKQAAITogCSARKQAINwAIIAkgOjcAAAJAIAJBEUkNACARKQAQITogCSARKQAYNwAYIAkgOjcAECACQRBrQRFIDQAgEUEQaiECIAlBIGohEgNAIAIpABAhOiASIAIpABg3AAggEiA6NwAAIAIpACAhOiASIAIpACg3ABggEiA6NwAQIAJBIGohAiASQSBqIhIgBEkNAAsLIAQgFWshAiAFIAc2AswCIAQgC2sgFUkEQCAVIAQgF2tLDQwgIiAiIAIgC2siD2oiByAKak8EQCAKRQ0CIAQgByAK/AoAAAwCC0EAIA9rIgIEQCAEIAcgAvwKAAALIAogD2ohCiAEIA9rIQQgCyECCyAVQRBPBEAgAikAACE6IAQgAikACDcACCAEIDo3AAAgCkERSA0BIAQgCmohByAEQRBqIQQDQCACKQAQITogBCACKQAYNwAIIAQgOjcAACACKQAgITogBCACKQAoNwAYIAQgOjcAECACQSBqIQIgBEEgaiIEIAdJDQALDAELAkAgFUEHTQRAIAQgAi0AADoAACAEIAItAAE6AAEgBCACLQACOgACIAQgAi0AAzoAAyAEIAIgFUECdCIHQeAaaigCAGoiAigAADYABCACIAdBgBtqKAIAayECDAELIAQgAikAADcAAAsgCkEJSQ0AIAQgCmohDyAEQQhqIgcgAkEIaiICa0EPTARAA0AgByACKQAANwAAIAJBCGohAiAHQQhqIgcgD0kNAAwCCwALIAIpAAAhOiAHIAIpAAg3AAggByA6NwAAIApBGUgNACAEQRhqIQQDQCACKQAQITogBCACKQAYNwAIIAQgOjcAACACKQAgITogBCACKQAoNwAYIAQgOjcAECACQSBqIQIgBEEgaiIEIA9JDQALCyAGQYh/SwRAIAYhAwwLCyAFQeABaiAlQQdxQQxsaiICIA02AgggAiAMNgIEIAIgEDYCAAsgBiAJaiEJICVBAWohJSAQIC1qIAxqIS0MAQsLIAUoArABIAUoArQBRw0HIAUoAqwBQSBHDQcgDiAoayEQA0ACQCAOIBBMBEBBACECA0AgAkEDRg0CIDIgAkECdCIDaiADICZqKAIANgIAIAJBAWohAgwACwALIAVB4AFqIBBBB3FBDGxqIQoCfwJAIAgoAoTsAUECRgRAIAUoAswCIg8gCigCACIEaiIHIAgoAoDsASICSwRAIAIgD0cEQCACIA9rIgIgFCAJa0sNCyAJIA8gAhAfIAogBCACayIENgIAIAIgCWohCQsgBSAWNgLMAiAIQQA2AoTsAQJAAkACQCAEQYCABEoNACAJIAooAgQiDSAEaiIGaiAbSw0AIAZBIGogFCAJa00NAQsgBSAKKAIINgJQIAUgCikCADcDSCAJIBQgBUHIAGogBUHMAmogGSALIBcgIhAgIQYMAQsgBCAWaiEHIAQgCWohDCAKKAIIIQogFikAACE6IAkgFikACDcACCAJIDo3AAACQCAEQRFJDQAgHikAACE6IAkgHikACDcAGCAJIDo3ABAgBEEQa0ERSA0AIAlBIGohAiAeIQQDQCAEKQAQITogAiAEKQAYNwAIIAIgOjcAACAEKQAgITogAiAEKQAoNwAYIAIgOjcAECAEQSBqIQQgAkEgaiICIAxJDQALCyAMIAprIQIgBSAHNgLMAiAMIAtrIApJBEAgCiAMIBdrSw0PICIgIiACIAtrIgdqIgQgDWpPBEAgDUUNAiAMIAQgDfwKAAAMAgtBACAHayICBEAgDCAEIAL8CgAACyAHIA1qIQ0gDCAHayEMIAshAgsgCkEQTwRAIAIpAAAhOiAMIAIpAAg3AAggDCA6NwAAIA1BEUgNASAMIA1qIQcgDEEQaiEEA0AgAikAECE6IAQgAikAGDcACCAEIDo3AAAgAikAICE6IAQgAikAKDcAGCAEIDo3ABAgAkEgaiECIARBIGoiBCAHSQ0ACwwBCwJAIApBB00EQCAMIAItAAA6AAAgDCACLQABOgABIAwgAi0AAjoAAiAMIAItAAM6AAMgDCACIApBAnQiBEHgGmooAgBqIgIoAAA2AAQgAiAEQYAbaigCAGshAgwBCyAMIAIpAAA3AAALIA1BCUkNACAMIA1qIQcgDEEIaiIEIAJBCGoiAmtBD0wEQANAIAQgAikAADcAACACQQhqIQIgBEEIaiIEIAdJDQAMAgsACyACKQAAITogBCACKQAINwAIIAQgOjcAACANQRlIDQAgDEEYaiEEA0AgAikAECE6IAQgAikAGDcACCAEIDo3AAAgAikAICE6IAQgAikAKDcAGCAEIDo3ABAgAkEgaiECIARBIGoiBCAHSQ0ACwsgBkGJf08EQCAGIQMMDgsgGSEcIAYgCWoMAwsgB0EgayECAkACQCAHIBxLDQAgCSAKKAIEIhIgBGoiDGogAksNACAMQSBqIBQgCWtNDQELIAUgCigCCDYCYCAFIAopAgA3A1ggCSAUIAIgBUHYAGogBUHMAmogHCALIBcgIhAhIQwMAgsgBCAJaiEGIAooAgghCiAPKQAAITogCSAPKQAINwAIIAkgOjcAAAJAIARBEUkNACAPKQAQITogCSAPKQAYNwAYIAkgOjcAECAEQRBrQRFIDQAgD0EQaiECIAlBIGohBANAIAIpABAhOiAEIAIpABg3AAggBCA6NwAAIAIpACAhOiAEIAIpACg3ABggBCA6NwAQIAJBIGohAiAEQSBqIgQgBkkNAAsLIAYgCmshAiAFIAc2AswCIAYgC2sgCkkEQCAKIAYgF2tLDQ0gIiAiIAIgC2siB2oiBCASak8EQCASRQ0DIAYgBCAS/AoAAAwDC0EAIAdrIgIEQCAGIAQgAvwKAAALIAcgEmohEiAGIAdrIQYgCyECCyAKQRBPBEAgAikAACE6IAYgAikACDcACCAGIDo3AAAgEkERSA0CIAYgEmohByAGQRBqIQQDQCACKQAQITogBCACKQAYNwAIIAQgOjcAACACKQAgITogBCACKQAoNwAYIAQgOjcAECACQSBqIQIgBEEgaiIEIAdJDQALDAILAkAgCkEHTQRAIAYgAi0AADoAACAGIAItAAE6AAEgBiACLQACOgACIAYgAi0AAzoAAyAGIAIgCkECdCIEQeAaaigCAGoiAigAADYABCACIARBgBtqKAIAayECDAELIAYgAikAADcAAAsgEkEJSQ0BIAYgEmohByAGQQhqIgQgAkEIaiICa0EPTARAA0AgBCACKQAANwAAIAJBCGohAiAE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\\\",ng=Object.freeze({BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,SBYTE:6,UNDEFINED:7,SSHORT:8,SLONG:9,SRATIONAL:10,FLOAT:11,DOUBLE:12,IFD:13,LONG8:16,SLONG8:17,IFD8:18});Object.freeze({[ng.BYTE]:1,[ng.ASCII]:1,[ng.SBYTE]:1,[ng.UNDEFINED]:1,[ng.SHORT]:2,[ng.SSHORT]:2,[ng.LONG]:4,[ng.SLONG]:4,[ng.FLOAT]:4,[ng.IFD]:4,[ng.RATIONAL]:8,[ng.SRATIONAL]:8,[ng.DOUBLE]:8,[ng.LONG8]:8,[ng.SLONG8]:8,[ng.IFD8]:8});const hg=[{tag:254,name:\\\"NewSubfileType\\\",fieldTypes:ng.LONG},{tag:255,name:\\\"SubfileType\\\",type:ng.SHORT},{tag:256,name:\\\"ImageWidth\\\",type:ng.SHORT},{tag:257,name:\\\"ImageLength\\\",type:ng.SHORT},{tag:258,name:\\\"BitsPerSample\\\",type:ng.SHORT,isArray:!0,eager:!0},{tag:259,name:\\\"Compression\\\",type:ng.SHORT},{tag:262,name:\\\"PhotometricInterpretation\\\",type:ng.SHORT},{tag:263,name:\\\"Threshholding\\\",type:ng.SHORT},{tag:264,name:\\\"CellWidth\\\",type:ng.SHORT},{tag:265,name:\\\"CellLength\\\",type:ng.SHORT},{tag:266,name:\\\"FillOrder\\\",type:ng.SHORT},{tag:269,name:\\\"DocumentName\\\",type:ng.ASCII},{tag:270,name:\\\"ImageDescription\\\",type:ng.ASCII},{tag:271,name:\\\"Make\\\",type:ng.ASCII},{tag:272,name:\\\"Model\\\",type:ng.ASCII},{tag:273,name:\\\"StripOffsets\\\",type:ng.SHORT,isArray:!0},{tag:274,name:\\\"Orientation\\\",type:ng.SHORT},{tag:277,name:\\\"SamplesPerPixel\\\",type:ng.SHORT},{tag:278,name:\\\"RowsPerStrip\\\",type:ng.SHORT},{tag:279,name:\\\"StripByteCounts\\\",type:ng.LONG,isArray:!0},{tag:280,name:\\\"MinSampleValue\\\",type:ng.SHORT,isArray:!0},{tag:281,name:\\\"MaxSampleValue\\\",type:ng.SHORT,isArray:!0},{tag:282,name:\\\"XResolution\\\",type:ng.RATIONAL},{tag:283,name:\\\"YResolution\\\",type:ng.RATIONAL},{tag:284,name:\\\"PlanarConfiguration\\\",fieldTypes:ng.SHORT},{tag:285,name:\\\"PageName\\\",type:ng.ASCII},{tag:286,name:\\\"XPosition\\\",type:ng.RATIONAL},{tag:287,name:\\\"YPosition\\\",type:ng.RATIONAL},{tag:288,name:\\\"FreeOffsets\\\",type:ng.LONG},{tag:289,name:\\\"FreeByteCounts\\\",type:ng.LONG},{tag:290,name:\\\"GrayResponseUnit\\\",type:ng.SHORT},{tag:291,name:\\\"GrayResponseCurve\\\",type:ng.SHORT,isArray:!0},{tag:292,name:\\\"T4Options\\\",type:ng.LONG},{tag:293,name:\\\"T6Options\\\",type:ng.LONG},{tag:296,name:\\\"ResolutionUnit\\\",type:ng.SHORT},{tag:297,name:\\\"PageNumber\\\",type:ng.SHORT,isArray:!0},{tag:301,name:\\\"TransferFunction\\\",type:ng.SHORT,isArray:!0},{tag:305,name:\\\"Software\\\",type:ng.ASCII},{tag:306,name:\\\"DateTime\\\",type:ng.ASCII},{tag:315,name:\\\"Artist\\\",type:ng.ASCII},{tag:316,name:\\\"HostComputer\\\",type:ng.ASCII},{tag:317,name:\\\"Predictor\\\",type:ng.SHORT},{tag:318,name:\\\"WhitePoint\\\",type:ng.RATIONAL,isArray:!0},{tag:319,name:\\\"PrimaryChromaticities\\\",type:ng.RATIONAL,isArray:!0},{tag:320,name:\\\"ColorMap\\\",type:ng.SHORT,isArray:!0},{tag:321,name:\\\"HalftoneHints\\\",type:ng.SHORT,isArray:!0},{tag:322,name:\\\"TileWidth\\\",type:ng.SHORT},{tag:323,name:\\\"TileLength\\\",type:ng.SHORT},{tag:324,name:\\\"TileOffsets\\\",type:ng.LONG,isArray:!0},{tag:325,name:\\\"TileByteCounts\\\",type:ng.SHORT,isArray:!0},{tag:332,name:\\\"InkSet\\\",type:ng.SHORT},{tag:333,name:\\\"InkNames\\\",type:ng.ASCII},{tag:334,name:\\\"NumberOfInks\\\",type:ng.SHORT},{tag:336,name:\\\"DotRange\\\",type:ng.BYTE,isArray:!0},{tag:337,name:\\\"TargetPrinter\\\",type:ng.ASCII},{tag:338,name:\\\"ExtraSamples\\\",type:ng.BYTE,isArray:!0},{tag:339,name:\\\"SampleFormat\\\",type:ng.SHORT,isArray:!0,eager:!0},{tag:340,name:\\\"SMinSampleValue\\\",isArray:!0},{tag:341,name:\\\"SMaxSampleValue\\\",isArray:!0},{tag:342,name:\\\"TransferRange\\\",type:ng.SHORT,isArray:!0},{tag:512,name:\\\"JPEGProc\\\",type:ng.SHORT},{tag:513,name:\\\"JPEGInterchangeFormat\\\",type:ng.LONG},{tag:514,name:\\\"JPEGInterchangeFormatLngth\\\",type:ng.LONG},{tag:515,name:\\\"JPEGRestartInterval\\\",type:ng.SHORT},{tag:517,name:\\\"JPEGLosslessPredictors\\\",type:ng.SHORT,isArray:!0},{tag:518,name:\\\"JPEGPointTransforms\\\",type:ng.SHORT,isArray:!0},{tag:519,name:\\\"JPEGQTables\\\",type:ng.LONG,isArray:!0},{tag:520,name:\\\"JPEGDCTables\\\",type:ng.LONG,isArray:!0},{tag:521,name:\\\"JPEGACTables\\\",type:ng.LONG,isArray:!0},{tag:529,name:\\\"YCbCrCoefficients\\\",type:ng.RATIONAL,isArray:!0},{tag:530,name:\\\"YCbCrSubSampling\\\",type:ng.SHORT,isArray:!0},{tag:531,name:\\\"YCbCrPositioning\\\",type:ng.SHORT},{tag:532,name:\\\"ReferenceBlackWhite\\\",type:ng.LONG,isArray:!0},{tag:33432,name:\\\"Copyright\\\",type:ng.ASCII},{tag:326,name:\\\"BadFaxLines\\\"},{tag:327,name:\\\"CleanFaxData\\\"},{tag:343,name:\\\"ClipPath\\\"},{tag:328,name:\\\"ConsecutiveBadFaxLines\\\"},{tag:433,name:\\\"Decode\\\"},{tag:434,name:\\\"DefaultImageColor\\\"},{tag:346,name:\\\"Indexed\\\"},{tag:347,name:\\\"JPEGTables\\\",isArray:!0,eager:!0},{tag:559,name:\\\"StripRowCounts\\\",isArray:!0},{tag:330,name:\\\"SubIFDs\\\",isArray:!0},{tag:344,name:\\\"XClipPathUnits\\\"},{tag:345,name:\\\"YClipPathUnits\\\"},{tag:37378,name:\\\"ApertureValue\\\"},{tag:40961,name:\\\"ColorSpace\\\"},{tag:36868,name:\\\"DateTimeDigitized\\\"},{tag:36867,name:\\\"DateTimeOriginal\\\"},{tag:34665,name:\\\"Exif IFD\\\",type:ng.LONG},{tag:36864,name:\\\"ExifVersion\\\"},{tag:33434,name:\\\"ExposureTime\\\"},{tag:41728,name:\\\"FileSource\\\"},{tag:37385,name:\\\"Flash\\\"},{tag:40960,name:\\\"FlashpixVersion\\\"},{tag:33437,name:\\\"FNumber\\\"},{tag:42016,name:\\\"ImageUniqueID\\\"},{tag:37384,name:\\\"LightSource\\\"},{tag:37500,name:\\\"MakerNote\\\"},{tag:37377,name:\\\"ShutterSpeedValue\\\"},{tag:37510,name:\\\"UserComment\\\"},{tag:33723,name:\\\"IPTC\\\"},{tag:34412,name:\\\"CZ_LSMINFO\\\"},{tag:34675,name:\\\"ICC Profile\\\"},{tag:700,name:\\\"XMP\\\"},{tag:42112,name:\\\"GDAL_METADATA\\\"},{tag:42113,name:\\\"GDAL_NODATA\\\",type:ng.ASCII},{tag:34377,name:\\\"Photoshop\\\"},{tag:33550,name:\\\"ModelPixelScale\\\",type:ng.DOUBLE,isArray:!0,eager:!0},{tag:33922,name:\\\"ModelTiepoint\\\",type:ng.DOUBLE,isArray:!0,eager:!0},{tag:34264,name:\\\"ModelTransformation\\\",type:ng.DOUBLE,isArray:!0,eager:!0},{tag:34735,name:\\\"GeoKeyDirectory\\\",type:ng.SHORT,isArray:!0,eager:!0},{tag:34736,name:\\\"GeoDoubleParams\\\",type:ng.DOUBLE,isArray:!0,eager:!0},{tag:34737,name:\\\"GeoAsciiParams\\\",type:ng.ASCII,eager:!0},{tag:50674,name:\\\"LercParameters\\\",eager:!0}],wg={},yg={};function Gg(A,I,g,B=!1,C=!1){wg[I]=A,yg[A]={tag:A,name:I,type:\\\"string\\\"==typeof g?ng[g]:g,isArray:B,eager:C}}for(const A of hg)Gg(A.tag,A.name,A.type,A.isArray,A.eager);const Sg=1,Ng=0,cg=1,dg=2,Fg=Object.freeze({1024:\\\"GTModelTypeGeoKey\\\",1025:\\\"GTRasterTypeGeoKey\\\",1026:\\\"GTCitationGeoKey\\\",2048:\\\"GeographicTypeGeoKey\\\",2049:\\\"GeogCitationGeoKey\\\",2050:\\\"GeogGeodeticDatumGeoKey\\\",2051:\\\"GeogPrimeMeridianGeoKey\\\",2052:\\\"GeogLinearUnitsGeoKey\\\",2053:\\\"GeogLinearUnitSizeGeoKey\\\",2054:\\\"GeogAngularUnitsGeoKey\\\",2055:\\\"GeogAngularUnitSizeGeoKey\\\",2056:\\\"GeogEllipsoidGeoKey\\\",2057:\\\"GeogSemiMajorAxisGeoKey\\\",2058:\\\"GeogSemiMinorAxisGeoKey\\\",2059:\\\"GeogInvFlatteningGeoKey\\\",2060:\\\"GeogAzimuthUnitsGeoKey\\\",2061:\\\"GeogPrimeMeridianLongGeoKey\\\",2062:\\\"GeogTOWGS84GeoKey\\\",3072:\\\"ProjectedCSTypeGeoKey\\\",3073:\\\"PCSCitationGeoKey\\\",3074:\\\"ProjectionGeoKey\\\",3075:\\\"ProjCoordTransGeoKey\\\",3076:\\\"ProjLinearUnitsGeoKey\\\",3077:\\\"ProjLinearUnitSizeGeoKey\\\",3078:\\\"ProjStdParallel1GeoKey\\\",3079:\\\"ProjStdParallel2GeoKey\\\",3080:\\\"ProjNatOriginLongGeoKey\\\",3081:\\\"ProjNatOriginLatGeoKey\\\",3082:\\\"ProjFalseEastingGeoKey\\\",3083:\\\"ProjFalseNorthingGeoKey\\\",3084:\\\"ProjFalseOriginLongGeoKey\\\",3085:\\\"ProjFalseOriginLatGeoKey\\\",3086:\\\"ProjFalseOriginEastingGeoKey\\\",3087:\\\"ProjFalseOriginNorthingGeoKey\\\",3088:\\\"ProjCenterLongGeoKey\\\",3089:\\\"ProjCenterLatGeoKey\\\",3090:\\\"ProjCenterEastingGeoKey\\\",3091:\\\"ProjCenterNorthingGeoKey\\\",3092:\\\"ProjScaleAtNatOriginGeoKey\\\",3093:\\\"ProjScaleAtCenterGeoKey\\\",3094:\\\"ProjAzimuthAngleGeoKey\\\",3095:\\\"ProjStraightVertPoleLongGeoKey\\\",3096:\\\"ProjRectifiedGridAngleGeoKey\\\",4096:\\\"VerticalCSTypeGeoKey\\\",4097:\\\"VerticalCitationGeoKey\\\",4098:\\\"VerticalDatumGeoKey\\\",4099:\\\"VerticalUnitsGeoKey\\\"}),lg={};for(const A in Fg)Fg.hasOwnProperty(A)&&(lg[Fg[A]]=parseInt(A,10));const kg=new class{init(){return tg||(tg=\\\"undefined\\\"!=typeof fetch?fetch(`data:application/wasm;base64,${Dg}`).then((A=>A.arrayBuffer())).then((A=>WebAssembly.instantiate(A,rg))).then(this._init):WebAssembly.instantiate(Buffer.from(Dg,\\\"base64\\\"),rg).then(this._init),tg)}_init(A){og=A.instance,rg.env.emscripten_notify_memory_growth(0)}decode(A,I=0){if(!og)throw new Error(\\\"ZSTDDecoder: Await .init() before decoding.\\\");const g=A.byteLength,B=og.exports.malloc(g);sg.set(A,B),I=I||Number(og.exports.ZSTD_findDecompressedSize(B,g));const C=og.exports.malloc(I),Q=og.exports.ZSTD_decompress(C,I,B,g),E=sg.slice(C,C+Q);return og.exports.free(B),og.exports.free(C),E}};var Rg=Object.freeze({__proto__:null,zstd:kg,default:class extends i{decodeBlock(A){const I=this.parameters.LercParameters[Sg];switch(I){case Ng:break;case cg:A=Cg(new Uint8Array(A)).buffer;break;case dg:A=kg.decode(new Uint8Array(A)).buffer;break;default:throw new Error(`Unsupported LERC additional compression method identifier: ${I}`)}return ag.decode(A,{returnPixelInterleavedDims:1===this.parameters.planarConfiguration}).pixels[0].buffer}}});let Lg,Ug,fg,Yg;const Kg={env:{emscripten_notify_memory_growth:A=>{fg=new Uint8Array(Ug.exports.memory.buffer),Yg=new DataView(fg.buffer)}}};const ug=\\\"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QQhyIQBBACEDA0AgACADTQ0DIANBQGshAwwACwALQWwhCiAOIA5B/ABqIA5B+ABqIAUgBhAGIgJBiH9LDQEgDigCeCIDIARLDQEgACAOIA4oAnwgByAIIAMgDRAlIAEgADYCACACIQoMAQtBbCEKCyAOQYABaiQAIAoLcAEEfyAAQgA3AgAgAgRAIAFBCmohBiABKAIEIQRBACECQQAhAQNAIAEgBHZFBEAgAiAGIAFBA3RqLQAAIgUgAiAFSxshAiABQQFqIQEgAyAFQRZLaiEDDAELCyAAIAI2AgQgACADQQggBGt0NgIACwuuAQEEfyABIAIoAgQiAyABKAIEaiIENgIEIAAgA0ECdEGwGWooAgAgASgCAEEAIARrdnE2AgACQCAEQSFPBEAgAUGwGjYCCAwBCyABKAIIIgMgASgCEE8EQCABEAwMAQsgAyABKAIMIgVGDQAgASADIAMgBWsgBEEDdiIGIAMgBmsgBUkbIgNrIgU2AgggASAEIANBA3RrNgIEIAEgBSgAADYCAAsgACACQQhqNgIEC40CAgN/AX4gACACaiEEAkACQCACQQhOBEAgACABayICQXlIDQELA0AgACAETw0CIAAgAS0AADoAACAAQQFqIQAgAUEBaiEBDAALAAsCQAJAIAJBb0sNACAAIARBIGsiAksNACABKQAAIQYgACABKQAINwAIIAAgBjcAACACIABrIgVBEU4EQCAAQRBqIQAgASEDA0AgAykAECEGIAAgAykAGDcACCAAIAY3AAAgAykAICEGIAAgAykAKDcAGCAAIAY3ABAgA0EgaiEDIABBIGoiACACSQ0ACwsgASAFaiEBDAELIAAhAgsDQCACIARPDQEgAiABLQAAOgAAIAJBAWohAiABQQFqIQEMAAsACwvfAQEGf0G6fyEKAkAgAigCBCIIIAIoAgAiCWoiDSABIABrSw0AQWwhCiAJIAQgAygCACILa0sNACAAIAlqIgQgAigCCCIMayECIAAgAUEgayIBIAsgCUEAEDMgAyAJIAtqNgIAAkACQCAEIAVrIAxPBEAgAiEFDAELIAwgBCAGa0sNAiAHIAcgAiAFayIDaiICIAhqTwRAIAhFDQIgBCACIAj8CgAADAILQQAgA2siAARAIAQgAiAA/AoAAAsgAyAIaiEIIAQgA2shBAsgBCABIAUgCEEBEDML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\\\",Mg=new class{init(){return Lg||(Lg=\\\"undefined\\\"!=typeof fetch?fetch(`data:application/wasm;base64,${ug}`).then((A=>A.arrayBuffer())).then((A=>WebAssembly.instantiate(A,Kg))).then(this._init):WebAssembly.instantiate(Buffer.from(ug,\\\"base64\\\"),Kg).then(this._init),Lg)}_init(A){Ug=A.instance,Kg.env.emscripten_notify_memory_growth(0)}decode(A,I=0){if(!Ug)throw new Error(\\\"ZSTDDecoder: Await .init() before decoding.\\\");const g=A.byteLength,B=Ug.exports.malloc(g);if(fg.set(A,B),0===I&&(I=Number(Ug.exports.ZSTD_findDecompressedSize(B,g))),-1===I){Ug.exports.free(B);const I=[];for(const g of this.decodeStreaming([A]))I.push(g);if(1===I.length)return I[0];const g=I.reduce(((A,I)=>A+I.byteLength),0),C=new Uint8Array(g);let Q=0;for(const A of I)C.set(A,Q),Q+=A.byteLength;return C}const C=Ug.exports.malloc(I),Q=Ug.exports.ZSTD_decompress(C,I,B,g),E=fg.slice(C,C+Q);return Ug.exports.free(B),Ug.exports.free(C),E}*decodeStreaming(A){if(!Ug)throw new Error(\\\"ZSTDDecoder: Await .init() before decoding.\\\");const I=Ug.exports.ZSTD_DStreamInSize(),g=Ug.exports.malloc(I),B=Ug.exports.ZSTD_DStreamOutSize(),C=Ug.exports.malloc(B),Q=Ug.exports.ZSTD_createDCtx(),E=Ug.exports.malloc(12),i=Ug.exports.malloc(12);let e=0;for(const I of A){const A=Ug.exports.malloc(I.byteLength);for(fg.set(I,A),Yg.setInt32(E,A,!0),Yg.setInt32(E+4,I.byteLength,!0),Yg.setInt32(E+4+4,0,!0);Yg.getUint32(E+4+4,!0)<Yg.getUint32(E+4,!0);){Yg.setInt32(i,C,!0),Yg.setInt32(i+4,B,!0),Yg.setInt32(i+4+4,0,!0),e=Ug.exports.ZSTD_decompressStream(Q,i,E);const A=Yg.getUint32(i+4+4,!0);yield fg.slice(C,C+A)}Ug.exports.free(A)}if(Ug.exports.ZSTD_freeDCtx(Q),Ug.exports.free(g),Ug.exports.free(C),Ug.exports.free(E),Ug.exports.free(i),0!==e)throw new Error(\\\"Incomplete stream, more data expected.\\\")}};var Jg=Object.freeze({__proto__:null,zstd:Mg,default:class extends i{decodeBlock(A){return Mg.decode(new Uint8Array(A)).buffer}}});var Hg=Object.freeze({__proto__:null,default:class extends i{constructor(A){if(super(A),\\\"undefined\\\"==typeof createImageBitmap)throw new Error(\\\"Cannot decode WebImage as `createImageBitmap` is not available\\\");if(\\\"undefined\\\"==typeof document&&\\\"undefined\\\"==typeof OffscreenCanvas)throw new Error(\\\"Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available\\\")}async decodeBlock(A){const I=new Blob([A]),g=await createImageBitmap(I);let B;\\\"undefined\\\"!=typeof document?(B=document.createElement(\\\"canvas\\\"),B.width=g.width,B.height=g.height):B=new OffscreenCanvas(g.width,g.height);const C=B.getContext(\\\"2d\\\");C.drawImage(g,0,0);const Q=C.getImageData(0,0,g.width,g.height).data,E=this.parameters.samplesPerPixel||4;if(4===E)return Q.buffer;if(3===E){const A=new Uint8ClampedArray(g.width*g.height*3);for(let I=0,g=0;I<A.length;I+=3,g+=4)A[I]=Q[g],A[I+1]=Q[g+1],A[I+2]=Q[g+2];return A.buffer}throw new Error(`Unsupported SamplesPerPixel value: ${E}`)}}});\";\r\n  return new Worker(typeof Buffer !== 'undefined' \r\n    ? 'data:application/javascript;base64,' + Buffer.from(source, 'binary').toString('base64')\r\n    : URL.createObjectURL(new Blob([source], { type: 'application/javascript' })));\r\n}\r\n", "import { getDecoder, preferWorker } from './compression/index.js';\r\nimport create from './worker/create.js';\r\nconst defaultPoolSize = typeof navigator !== 'undefined' ? (navigator.hardwareConcurrency || 2) : 2;\r\n/**\r\n * @module pool\r\n */\r\n/**\r\n * Wrapper for a worker that can submit jobs to the worker and receive responses.\r\n */\r\nclass WorkerWrapper {\r\n    /**\r\n     * @param {Worker} worker the worker to wrap\r\n     */\r\n    constructor(worker) {\r\n        this.worker = worker;\r\n        this.worker.addEventListener('message', (e) => this._onWorkerMessage(e));\r\n        this.jobIdCounter = 0;\r\n        this.jobs = new Map();\r\n    }\r\n    /**\r\n     * Get a new job id\r\n     * @returns {Number} the new job id\r\n     */\r\n    newJobId() {\r\n        return this.jobIdCounter++;\r\n    }\r\n    /**\r\n     * Get the number of jobs currently running\r\n     * @returns {Number} the number of jobs currently running\r\n     */\r\n    getJobCount() {\r\n        return this.jobs.size;\r\n    }\r\n    _onWorkerMessage(e) {\r\n        const { jobId, error, ...result } = e.data;\r\n        const job = this.jobs.get(jobId);\r\n        this.jobs.delete(jobId);\r\n        if (error) {\r\n            job.reject(new Error(error));\r\n        }\r\n        else {\r\n            job.resolve(result);\r\n        }\r\n    }\r\n    /**\r\n     * Submit a job to the worker\r\n     * @param {Object} message the message to send to the worker. A \"jobId\" property will be added to this object.\r\n     * @param {Object[]} [transferables] an optional array of transferable objects to transfer to the worker.\r\n     * @returns {Promise} a promise that gets resolved/rejected when a message with the same jobId is received from the worker.\r\n     */\r\n    submitJob(message, transferables = undefined) {\r\n        const jobId = this.newJobId();\r\n        let resolve;\r\n        let reject;\r\n        const promise = new Promise((_resolve, _reject) => {\r\n            resolve = _resolve;\r\n            reject = _reject;\r\n        });\r\n        this.jobs.set(jobId, { resolve, reject });\r\n        this.worker.postMessage({ ...message, jobId }, { transfer: transferables });\r\n        return promise;\r\n    }\r\n    terminate() {\r\n        this.worker.terminate();\r\n    }\r\n}\r\nconst finalizationRegistry = new FinalizationRegistry((worker) => {\r\n    worker.terminate();\r\n});\r\n/**\r\n * Pool for workers to decode chunks of the images.\r\n */\r\nclass Pool {\r\n    /**\r\n     * @constructor\r\n     * @param {Number} [size] The size of the pool. Defaults to the number of CPUs\r\n     *                      available. When this parameter is `null` or 0, then the\r\n     *                      decoding will be done in the main thread.\r\n     * @param {function(): Worker} [createWorker] A function that creates the decoder worker.\r\n     * Defaults to a worker with all decoders that ship with geotiff.js. The `createWorker()`\r\n     * function is expected to return a `Worker` compatible with Web Workers. For code that\r\n     * runs in Node, [web-worker](https://www.npmjs.com/package/web-worker) is a good choice.\r\n     *\r\n     * A worker that uses a custom lzw decoder would look like this `my-custom-worker.js` file:\r\n     * ```js\r\n     * import { addDecoder, getDecoder } from 'geotiff';\r\n     * addDecoder(5, () => import ('./my-custom-lzw').then((m) => m.default));\r\n     * self.addEventListener('message', async (e) => {\r\n     *   const { id, fileDirectory, buffer } = e.data;\r\n     *   const decoder = await getDecoder(fileDirectory);\r\n     *   const decoded = await decoder.decode(fileDirectory, buffer);\r\n     *   self.postMessage({ decoded, id }, [decoded]);\r\n     * });\r\n     * ```\r\n     * The way the above code is built into a worker by the `createWorker()` function\r\n     * depends on the used bundler. For most bundlers, something like this will work:\r\n     * ```js\r\n     * function createWorker() {\r\n     *   return new Worker(new URL('./my-custom-worker.js', import.meta.url));\r\n     * }\r\n     * ```\r\n     */\r\n    constructor(size = defaultPoolSize, createWorker = create) {\r\n        this.workerWrappers = null;\r\n        if (size) {\r\n            this.workerWrappers = (async () => {\r\n                const workerWrappers = [];\r\n                for (let i = 0; i < size; i++) {\r\n                    const worker = createWorker();\r\n                    const wrapper = new WorkerWrapper(worker);\r\n                    workerWrappers.push(wrapper);\r\n                    finalizationRegistry.register(wrapper, worker, wrapper);\r\n                }\r\n                return workerWrappers;\r\n            })();\r\n        }\r\n    }\r\n    bindParameters(compression, decoderParameters) {\r\n        return {\r\n            decode: async (buffer) => {\r\n                if (preferWorker(compression) && this.workerWrappers) {\r\n                    // select the worker with the lowest jobCount\r\n                    const workerWrapper = (await this.workerWrappers).reduce((a, b) => {\r\n                        return a.getJobCount() < b.getJobCount() ? a : b;\r\n                    });\r\n                    const { decoded } = await workerWrapper.submitJob({ compression, decoderParameters, buffer }, [buffer]);\r\n                    return decoded;\r\n                }\r\n                else {\r\n                    const decoder = await getDecoder(compression, decoderParameters);\r\n                    return decoder.decode(buffer);\r\n                }\r\n            },\r\n        };\r\n    }\r\n    async destroy() {\r\n        if (this.workerWrappers) {\r\n            (await this.workerWrappers).forEach((worker) => {\r\n                worker.terminate();\r\n            });\r\n            this.workerWrappers = null;\r\n        }\r\n    }\r\n}\r\nexport default Pool;\r\n", "const CRLFCRLF = '\\r\\n\\r\\n';\r\n/*\r\n * Shim for 'Object.fromEntries'\r\n */\r\nfunction itemsToObject(items) {\r\n    if (typeof Object.fromEntries !== 'undefined') {\r\n        return Object.fromEntries(items);\r\n    }\r\n    const obj = {};\r\n    for (const [key, value] of items) {\r\n        obj[key.toLowerCase()] = value;\r\n    }\r\n    return obj;\r\n}\r\n/**\r\n * Parse HTTP headers from a given string.\r\n * @param {String} text the text to parse the headers from\r\n * @returns {Object} the parsed headers with lowercase keys\r\n */\r\nfunction parseHeaders(text) {\r\n    const items = text\r\n        .split('\\r\\n')\r\n        .map((line) => {\r\n        const kv = line.split(':').map((str) => str.trim());\r\n        kv[0] = kv[0].toLowerCase();\r\n        return kv;\r\n    });\r\n    return itemsToObject(items);\r\n}\r\n/**\r\n * Parse a 'Content-Type' header value to the content-type and parameters\r\n * @param {string|null} rawContentType the raw string to parse from\r\n * @returns {{type: string|null, params: Object}}}\r\n *     the parsed content type with the fields: type and params\r\n */\r\nexport function parseContentType(rawContentType) {\r\n    if (!rawContentType) {\r\n        return { type: null, params: {} };\r\n    }\r\n    const [type, ...rawParams] = rawContentType.split(';').map((s) => s.trim());\r\n    const paramsItems = rawParams.map((param) => param.split('='));\r\n    return { type, params: itemsToObject(paramsItems) };\r\n}\r\n/**\r\n * Parse a 'Content-Range' header value to its start, end, and total parts\r\n * @param {string|null} rawContentRange the raw string to parse from\r\n * @returns {{start: number, end: number, total: number}} the parsed parts\r\n */\r\nexport function parseContentRange(rawContentRange) {\r\n    let start = NaN;\r\n    let end = NaN;\r\n    let total = NaN;\r\n    if (rawContentRange) {\r\n        [, start, end, total] = (rawContentRange.match(/bytes (\\d+)-(\\d+)\\/(\\d+)/) || []).map(Number);\r\n    }\r\n    return { start, end, total };\r\n}\r\n/**\r\n * Parses a list of byteranges from the given 'multipart/byteranges' HTTP response.\r\n * Each item in the list has the following properties:\r\n * - headers: the HTTP headers\r\n * - data: the sliced ArrayBuffer for that specific part\r\n * - offset: the offset of the byterange within its originating file\r\n * - length: the length of the byterange\r\n * @param {ArrayBuffer} responseArrayBuffer the response to be parsed and split\r\n * @param {String} boundary the boundary string used to split the sections\r\n * @returns {Object[]} the parsed byteranges\r\n */\r\nexport function parseByteRanges(responseArrayBuffer, boundary) {\r\n    let offset = null;\r\n    const decoder = new TextDecoder('ascii');\r\n    const out = [];\r\n    const startBoundary = `--${boundary}`;\r\n    const endBoundary = `${startBoundary}--`;\r\n    // search for the initial boundary, may be offset by some bytes\r\n    // TODO: more efficient to check for `--` in bytes directly\r\n    for (let i = 0; i < 10; ++i) {\r\n        const text = decoder.decode(new Uint8Array(responseArrayBuffer, i, startBoundary.length));\r\n        if (text === startBoundary) {\r\n            offset = i;\r\n        }\r\n    }\r\n    if (offset === null) {\r\n        throw new Error('Could not find initial boundary');\r\n    }\r\n    while (offset < responseArrayBuffer.byteLength) {\r\n        const text = decoder.decode(new Uint8Array(responseArrayBuffer, offset, Math.min(startBoundary.length + 1024, responseArrayBuffer.byteLength - offset)));\r\n        // break if we arrived at the end\r\n        if (text.length === 0 || text.startsWith(endBoundary)) {\r\n            break;\r\n        }\r\n        // assert that we are actually dealing with a byterange and are at the correct offset\r\n        if (!text.startsWith(startBoundary)) {\r\n            throw new Error('Part does not start with boundary');\r\n        }\r\n        // get a substring from where we read the headers\r\n        const innerText = text.substr(startBoundary.length + 2);\r\n        if (innerText.length === 0) {\r\n            break;\r\n        }\r\n        // find the double linebreak that denotes the end of the headers\r\n        const endOfHeaders = innerText.indexOf(CRLFCRLF);\r\n        // parse the headers to get the content range size\r\n        const headers = parseHeaders(innerText.substr(0, endOfHeaders));\r\n        const { start, end, total } = parseContentRange(headers['content-range']);\r\n        // calculate the length of the slice and the next offset\r\n        const startOfData = offset + startBoundary.length + endOfHeaders + CRLFCRLF.length;\r\n        const length = end + 1 - start;\r\n        out.push({\r\n            headers,\r\n            data: responseArrayBuffer.slice(startOfData, startOfData + length),\r\n            offset: start,\r\n            length,\r\n            fileSize: total,\r\n        });\r\n        offset = startOfData + length + 4;\r\n    }\r\n    return out;\r\n}\r\n", "/**\r\n * @typedef Slice\r\n * @property {number} offset\r\n * @property {number} length\r\n */\r\nexport class BaseSource {\r\n    /**\r\n     * @param {Array<Slice>} slices\r\n     * @param {AbortSignal} [signal]\r\n     * @returns {Promise<*[]>}\r\n     */\r\n    async fetch(slices, signal) {\r\n        return Promise.all(slices.map((slice) => this.fetchSlice(slice, signal)));\r\n    }\r\n    /**\r\n     * @param {Slice} slice\r\n     * @param {AbortSignal} [_signal]\r\n     * @returns {Promise<*>}\r\n     */\r\n    async fetchSlice(slice, _signal) {\r\n        throw new Error(`fetching of slice ${slice} not possible, not implemented`);\r\n    }\r\n    /**\r\n     * Returns the filesize if already determined and null otherwise\r\n     */\r\n    get fileSize() {\r\n        return null;\r\n    }\r\n    async close() {\r\n        // no-op by default\r\n    }\r\n}\r\n", "export default class QuickLRU extends Map {\r\n\tconstructor(options = {}) {\r\n\t\tsuper();\r\n\r\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\r\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\r\n\t\t}\r\n\r\n\t\tif (typeof options.maxAge === 'number' && options.maxAge === 0) {\r\n\t\t\tthrow new TypeError('`maxAge` must be a number greater than 0');\r\n\t\t}\r\n\r\n\t\t// TODO: Use private class fields when ESLint supports them.\r\n\t\tthis.maxSize = options.maxSize;\r\n\t\tthis.maxAge = options.maxAge || Number.POSITIVE_INFINITY;\r\n\t\tthis.onEviction = options.onEviction;\r\n\t\tthis.cache = new Map();\r\n\t\tthis.oldCache = new Map();\r\n\t\tthis._size = 0;\r\n\t}\r\n\r\n\t// TODO: Use private class methods when targeting Node.js 16.\r\n\t_emitEvictions(cache) {\r\n\t\tif (typeof this.onEviction !== 'function') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (const [key, item] of cache) {\r\n\t\t\tthis.onEviction(key, item.value);\r\n\t\t}\r\n\t}\r\n\r\n\t_deleteIfExpired(key, item) {\r\n\t\tif (typeof item.expiry === 'number' && item.expiry <= Date.now()) {\r\n\t\t\tif (typeof this.onEviction === 'function') {\r\n\t\t\t\tthis.onEviction(key, item.value);\r\n\t\t\t}\r\n\r\n\t\t\treturn this.delete(key);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t_getOrDeleteIfExpired(key, item) {\r\n\t\tconst deleted = this._deleteIfExpired(key, item);\r\n\t\tif (deleted === false) {\r\n\t\t\treturn item.value;\r\n\t\t}\r\n\t}\r\n\r\n\t_getItemValue(key, item) {\r\n\t\treturn item.expiry ? this._getOrDeleteIfExpired(key, item) : item.value;\r\n\t}\r\n\r\n\t_peek(key, cache) {\r\n\t\tconst item = cache.get(key);\r\n\r\n\t\treturn this._getItemValue(key, item);\r\n\t}\r\n\r\n\t_set(key, value) {\r\n\t\tthis.cache.set(key, value);\r\n\t\tthis._size++;\r\n\r\n\t\tif (this._size >= this.maxSize) {\r\n\t\t\tthis._size = 0;\r\n\t\t\tthis._emitEvictions(this.oldCache);\r\n\t\t\tthis.oldCache = this.cache;\r\n\t\t\tthis.cache = new Map();\r\n\t\t}\r\n\t}\r\n\r\n\t_moveToRecent(key, item) {\r\n\t\tthis.oldCache.delete(key);\r\n\t\tthis._set(key, item);\r\n\t}\r\n\r\n\t* _entriesAscending() {\r\n\t\tfor (const item of this.oldCache) {\r\n\t\t\tconst [key, value] = item;\r\n\t\t\tif (!this.cache.has(key)) {\r\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\r\n\t\t\t\tif (deleted === false) {\r\n\t\t\t\t\tyield item;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (const item of this.cache) {\r\n\t\t\tconst [key, value] = item;\r\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\r\n\t\t\tif (deleted === false) {\r\n\t\t\t\tyield item;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tget(key) {\r\n\t\tif (this.cache.has(key)) {\r\n\t\t\tconst item = this.cache.get(key);\r\n\r\n\t\t\treturn this._getItemValue(key, item);\r\n\t\t}\r\n\r\n\t\tif (this.oldCache.has(key)) {\r\n\t\t\tconst item = this.oldCache.get(key);\r\n\t\t\tif (this._deleteIfExpired(key, item) === false) {\r\n\t\t\t\tthis._moveToRecent(key, item);\r\n\t\t\t\treturn item.value;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tset(key, value, {maxAge = this.maxAge} = {}) {\r\n\t\tconst expiry =\r\n\t\t\ttypeof maxAge === 'number' && maxAge !== Number.POSITIVE_INFINITY ?\r\n\t\t\t\tDate.now() + maxAge :\r\n\t\t\t\tundefined;\r\n\t\tif (this.cache.has(key)) {\r\n\t\t\tthis.cache.set(key, {\r\n\t\t\t\tvalue,\r\n\t\t\t\texpiry\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis._set(key, {value, expiry});\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\thas(key) {\r\n\t\tif (this.cache.has(key)) {\r\n\t\t\treturn !this._deleteIfExpired(key, this.cache.get(key));\r\n\t\t}\r\n\r\n\t\tif (this.oldCache.has(key)) {\r\n\t\t\treturn !this._deleteIfExpired(key, this.oldCache.get(key));\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpeek(key) {\r\n\t\tif (this.cache.has(key)) {\r\n\t\t\treturn this._peek(key, this.cache);\r\n\t\t}\r\n\r\n\t\tif (this.oldCache.has(key)) {\r\n\t\t\treturn this._peek(key, this.oldCache);\r\n\t\t}\r\n\t}\r\n\r\n\tdelete(key) {\r\n\t\tconst deleted = this.cache.delete(key);\r\n\t\tif (deleted) {\r\n\t\t\tthis._size--;\r\n\t\t}\r\n\r\n\t\treturn this.oldCache.delete(key) || deleted;\r\n\t}\r\n\r\n\tclear() {\r\n\t\tthis.cache.clear();\r\n\t\tthis.oldCache.clear();\r\n\t\tthis._size = 0;\r\n\t}\r\n\r\n\tresize(newSize) {\r\n\t\tif (!(newSize && newSize > 0)) {\r\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\r\n\t\t}\r\n\r\n\t\tconst items = [...this._entriesAscending()];\r\n\t\tconst removeCount = items.length - newSize;\r\n\t\tif (removeCount < 0) {\r\n\t\t\tthis.cache = new Map(items);\r\n\t\t\tthis.oldCache = new Map();\r\n\t\t\tthis._size = items.length;\r\n\t\t} else {\r\n\t\t\tif (removeCount > 0) {\r\n\t\t\t\tthis._emitEvictions(items.slice(0, removeCount));\r\n\t\t\t}\r\n\r\n\t\t\tthis.oldCache = new Map(items.slice(removeCount));\r\n\t\t\tthis.cache = new Map();\r\n\t\t\tthis._size = 0;\r\n\t\t}\r\n\r\n\t\tthis.maxSize = newSize;\r\n\t}\r\n\r\n\t* keys() {\r\n\t\tfor (const [key] of this) {\r\n\t\t\tyield key;\r\n\t\t}\r\n\t}\r\n\r\n\t* values() {\r\n\t\tfor (const [, value] of this) {\r\n\t\t\tyield value;\r\n\t\t}\r\n\t}\r\n\r\n\t* [Symbol.iterator]() {\r\n\t\tfor (const item of this.cache) {\r\n\t\t\tconst [key, value] = item;\r\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\r\n\t\t\tif (deleted === false) {\r\n\t\t\t\tyield [key, value.value];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (const item of this.oldCache) {\r\n\t\t\tconst [key, value] = item;\r\n\t\t\tif (!this.cache.has(key)) {\r\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\r\n\t\t\t\tif (deleted === false) {\r\n\t\t\t\t\tyield [key, value.value];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t* entriesDescending() {\r\n\t\tlet items = [...this.cache];\r\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\r\n\t\t\tconst item = items[i];\r\n\t\t\tconst [key, value] = item;\r\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\r\n\t\t\tif (deleted === false) {\r\n\t\t\t\tyield [key, value.value];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\titems = [...this.oldCache];\r\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\r\n\t\t\tconst item = items[i];\r\n\t\t\tconst [key, value] = item;\r\n\t\t\tif (!this.cache.has(key)) {\r\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\r\n\t\t\t\tif (deleted === false) {\r\n\t\t\t\t\tyield [key, value.value];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t* entriesAscending() {\r\n\t\tfor (const [key, value] of this._entriesAscending()) {\r\n\t\t\tyield [key, value.value];\r\n\t\t}\r\n\t}\r\n\r\n\tget size() {\r\n\t\tif (!this._size) {\r\n\t\t\treturn this.oldCache.size;\r\n\t\t}\r\n\r\n\t\tlet oldCacheSize = 0;\r\n\t\tfor (const key of this.oldCache.keys()) {\r\n\t\t\tif (!this.cache.has(key)) {\r\n\t\t\t\toldCacheSize++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\r\n\t}\r\n\r\n\tentries() {\r\n\t\treturn this.entriesAscending();\r\n\t}\r\n\r\n\tforEach(callbackFunction, thisArgument = this) {\r\n\t\tfor (const [key, value] of this.entriesAscending()) {\r\n\t\t\tcallbackFunction.call(thisArgument, value, key, this);\r\n\t\t}\r\n\t}\r\n\r\n\tget [Symbol.toStringTag]() {\r\n\t\treturn JSON.stringify([...this.entriesAscending()]);\r\n\t}\r\n}\r\n", "export function assign(target, source) {\r\n    for (const key in source) {\r\n        if (source.hasOwnProperty(key)) {\r\n            target[key] = source[key];\r\n        }\r\n    }\r\n}\r\nexport function chunk(iterable, length) {\r\n    const results = [];\r\n    const lengthOfIterable = iterable.length;\r\n    for (let i = 0; i < lengthOfIterable; i += length) {\r\n        const chunked = [];\r\n        for (let ci = i; ci < i + length; ci++) {\r\n            chunked.push(iterable[ci]);\r\n        }\r\n        results.push(chunked);\r\n    }\r\n    return results;\r\n}\r\nexport function endsWith(string, expectedEnding) {\r\n    if (string.length < expectedEnding.length) {\r\n        return false;\r\n    }\r\n    const actualEnding = string.substr(string.length - expectedEnding.length);\r\n    return actualEnding === expectedEnding;\r\n}\r\nexport function forEach(iterable, func) {\r\n    const { length } = iterable;\r\n    for (let i = 0; i < length; i++) {\r\n        func(iterable[i], i);\r\n    }\r\n}\r\nexport function invert(oldObj) {\r\n    const newObj = {};\r\n    for (const key in oldObj) {\r\n        if (oldObj.hasOwnProperty(key)) {\r\n            const value = oldObj[key];\r\n            newObj[value] = key;\r\n        }\r\n    }\r\n    return newObj;\r\n}\r\nexport function range(n) {\r\n    const results = [];\r\n    for (let i = 0; i < n; i++) {\r\n        results.push(i);\r\n    }\r\n    return results;\r\n}\r\nexport function times(numTimes, func) {\r\n    const results = [];\r\n    for (let i = 0; i < numTimes; i++) {\r\n        results.push(func(i));\r\n    }\r\n    return results;\r\n}\r\nexport function toArray(iterable) {\r\n    const results = [];\r\n    const { length } = iterable;\r\n    for (let i = 0; i < length; i++) {\r\n        results.push(iterable[i]);\r\n    }\r\n    return results;\r\n}\r\nexport function toArrayRecursively(input) {\r\n    if (input.length) {\r\n        return toArray(input).map(toArrayRecursively);\r\n    }\r\n    return input;\r\n}\r\n// copied from https://github.com/academia-de-codigo/parse-content-range-header/blob/master/index.js\r\nexport function parseContentRange(headerValue) {\r\n    if (!headerValue) {\r\n        return null;\r\n    }\r\n    if (typeof headerValue !== 'string') {\r\n        throw new Error('invalid argument');\r\n    }\r\n    const parseInt = (number) => Number.parseInt(number, 10);\r\n    // Check for presence of unit\r\n    let matches = headerValue.match(/^(\\w*) /);\r\n    const unit = matches && matches[1];\r\n    // check for start-end/size header format\r\n    matches = headerValue.match(/(\\d+)-(\\d+)\\/(\\d+|\\*)/);\r\n    if (matches) {\r\n        return {\r\n            unit,\r\n            first: parseInt(matches[1]),\r\n            last: parseInt(matches[2]),\r\n            length: matches[3] === '*' ? null : parseInt(matches[3]),\r\n        };\r\n    }\r\n    // check for size header format\r\n    matches = headerValue.match(/(\\d+|\\*)/);\r\n    if (matches) {\r\n        return {\r\n            unit,\r\n            first: null,\r\n            last: null,\r\n            length: matches[1] === '*' ? null : parseInt(matches[1]),\r\n        };\r\n    }\r\n    return null;\r\n}\r\n/*\r\n * Promisified wrapper around 'setTimeout' to allow 'await'\r\n */\r\nexport async function wait(milliseconds) {\r\n    return new Promise((resolve) => setTimeout(resolve, milliseconds));\r\n}\r\n/**\r\n * @template T,U\r\n * @param {Iterable<T>} a\r\n * @param {Iterable<U>} b\r\n * @returns {Array<[T, U]>}\r\n */\r\nexport function zip(a, b) {\r\n    const A = Array.isArray(a) ? a : Array.from(a);\r\n    const B = Array.isArray(b) ? b : Array.from(b);\r\n    return A.map((k, i) => [k, B[i]]);\r\n}\r\n// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\r\nexport class AbortError extends Error {\r\n    constructor(params) {\r\n        // Pass remaining arguments (including vendor specific ones) to parent constructor\r\n        super(params);\r\n        // Maintains proper stack trace for where our error was thrown (only available on V8)\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(this, AbortError);\r\n        }\r\n        this.name = 'AbortError';\r\n    }\r\n}\r\nexport class CustomAggregateError extends Error {\r\n    constructor(errors, message) {\r\n        super(message);\r\n        this.errors = errors;\r\n        this.message = message;\r\n        this.name = 'AggregateError';\r\n    }\r\n}\r\nexport const AggregateError = CustomAggregateError;\r\nexport function isTypedFloatArray(input) {\r\n    if (ArrayBuffer.isView(input)) {\r\n        const ctr = input.constructor;\r\n        if (ctr === Float32Array || ctr === Float64Array) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexport function isTypedIntArray(input) {\r\n    if (ArrayBuffer.isView(input)) {\r\n        const ctr = input.constructor;\r\n        if (ctr === Int8Array || ctr === Int16Array || ctr === Int32Array) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexport function isTypedUintArray(input) {\r\n    if (ArrayBuffer.isView(input)) {\r\n        const ctr = input.constructor;\r\n        if (ctr === Uint8Array || ctr === Uint16Array || ctr === Uint32Array || ctr === Uint8ClampedArray) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexport const typeMap = {\r\n    Float64Array,\r\n    Float32Array,\r\n    Uint32Array,\r\n    Uint16Array,\r\n    Uint8Array,\r\n};\r\n", "import QuickLRU from 'quick-lru';\r\nimport { AbortError, AggregateError, wait, zip } from '../utils.js';\r\nimport { BaseSource } from './basesource.js';\r\nclass Block {\r\n    /**\r\n     *\r\n     * @param {number} offset\r\n     * @param {number} length\r\n     * @param {ArrayBuffer} data\r\n     */\r\n    constructor(offset, length, data) {\r\n        this.offset = offset;\r\n        this.length = length;\r\n        this.data = data;\r\n    }\r\n    /**\r\n     * @returns {number} the top byte border\r\n     */\r\n    get top() {\r\n        return this.offset + this.length;\r\n    }\r\n}\r\nclass BlockGroup {\r\n    /**\r\n     *\r\n     * @param {number} offset\r\n     * @param {number} length\r\n     * @param {number[]} blockIds\r\n     */\r\n    constructor(offset, length, blockIds) {\r\n        this.offset = offset;\r\n        this.length = length;\r\n        this.blockIds = blockIds;\r\n    }\r\n}\r\nexport class BlockedSource extends BaseSource {\r\n    /**\r\n     *\r\n     * @param {BaseSource} source The underlying source that shall be blocked and cached\r\n     * @param {object} options\r\n     * @param {number} [options.blockSize]\r\n     * @param {number} [options.cacheSize]\r\n     */\r\n    constructor(source, { blockSize = 65536, cacheSize = 100 } = {}) {\r\n        super();\r\n        this.source = source;\r\n        this.blockSize = blockSize;\r\n        this.blockCache = new QuickLRU({\r\n            maxSize: cacheSize,\r\n            onEviction: (blockId, block) => {\r\n                this.evictedBlocks.set(blockId, block);\r\n            },\r\n        });\r\n        /** @type {Map<number, Block>} */\r\n        this.evictedBlocks = new Map();\r\n        // mapping blockId -> Block instance\r\n        this.blockRequests = new Map();\r\n        // set of blockIds missing for the current requests\r\n        this.blockIdsToFetch = new Set();\r\n        this.abortedBlockIds = new Set();\r\n    }\r\n    get fileSize() {\r\n        return this.source.fileSize;\r\n    }\r\n    /**\r\n     * @param {import(\"./basesource\").Slice[]} slices\r\n     * @param {AbortSignal} [signal]\r\n     * @return {Promise<ArrayBuffer[]>}\r\n     */\r\n    async fetch(slices, signal) {\r\n        const blockRequests = [];\r\n        const missingBlockIds = [];\r\n        const allBlockIds = [];\r\n        this.evictedBlocks.clear();\r\n        for (const { offset, length } of slices) {\r\n            let top = offset + length;\r\n            const { fileSize } = this;\r\n            if (fileSize !== null) {\r\n                top = Math.min(top, fileSize);\r\n            }\r\n            const firstBlockOffset = Math.floor(offset / this.blockSize) * this.blockSize;\r\n            for (let current = firstBlockOffset; current < top; current += this.blockSize) {\r\n                const blockId = Math.floor(current / this.blockSize);\r\n                if (!this.blockCache.has(blockId) && !this.blockRequests.has(blockId)) {\r\n                    this.blockIdsToFetch.add(blockId);\r\n                    missingBlockIds.push(blockId);\r\n                }\r\n                if (this.blockRequests.has(blockId)) {\r\n                    blockRequests.push(this.blockRequests.get(blockId));\r\n                }\r\n                allBlockIds.push(blockId);\r\n            }\r\n        }\r\n        // allow additional block requests to accumulate\r\n        await wait();\r\n        this.fetchBlocks(signal);\r\n        // Gather all of the new requests that this fetch call is contributing to `fetch`.\r\n        const missingRequests = [];\r\n        for (const blockId of missingBlockIds) {\r\n            // The requested missing block could already be in the cache\r\n            // instead of having its request still be outstanding.\r\n            if (this.blockRequests.has(blockId)) {\r\n                missingRequests.push(this.blockRequests.get(blockId));\r\n            }\r\n        }\r\n        // Actually await all pending requests that are needed for this `fetch`.\r\n        await Promise.allSettled(blockRequests);\r\n        await Promise.allSettled(missingRequests);\r\n        // Perform retries if a block was interrupted by a previous signal\r\n        const abortedBlockRequests = [];\r\n        const abortedBlockIds = allBlockIds\r\n            .filter((id) => this.abortedBlockIds.has(id) || !this.blockCache.has(id));\r\n        abortedBlockIds.forEach((id) => this.blockIdsToFetch.add(id));\r\n        // start the retry of some blocks if required\r\n        if (abortedBlockIds.length > 0 && signal && !signal.aborted) {\r\n            this.fetchBlocks();\r\n            for (const blockId of abortedBlockIds) {\r\n                const block = this.blockRequests.get(blockId);\r\n                if (!block) {\r\n                    throw new Error(`Block ${blockId} is not in the block requests`);\r\n                }\r\n                abortedBlockRequests.push(block);\r\n            }\r\n            await Promise.allSettled(abortedBlockRequests);\r\n        }\r\n        // throw an  abort error\r\n        if (signal && signal.aborted) {\r\n            throw new AbortError('Request was aborted');\r\n        }\r\n        const blocks = allBlockIds.map((id) => this.blockCache.get(id) || this.evictedBlocks.get(id));\r\n        const failedBlocks = blocks.filter((i) => !i);\r\n        if (failedBlocks.length) {\r\n            throw new AggregateError(failedBlocks, 'Request failed');\r\n        }\r\n        // create a final Map, with all required blocks for this request to satisfy\r\n        const requiredBlocks = new Map(zip(allBlockIds, blocks));\r\n        // TODO: satisfy each slice\r\n        return this.readSliceData(slices, requiredBlocks);\r\n    }\r\n    /**\r\n     * @param {AbortSignal} [signal]\r\n     */\r\n    fetchBlocks(signal) {\r\n        // check if we still need to\r\n        if (this.blockIdsToFetch.size > 0) {\r\n            const groups = this.groupBlocks(this.blockIdsToFetch);\r\n            // start requesting slices of data\r\n            const groupRequests = this.source.fetch(groups, signal);\r\n            for (let groupIndex = 0; groupIndex < groups.length; ++groupIndex) {\r\n                const group = groups[groupIndex];\r\n                for (const blockId of group.blockIds) {\r\n                    // make an async IIFE for each block\r\n                    this.blockRequests.set(blockId, (async () => {\r\n                        try {\r\n                            const response = (await groupRequests)[groupIndex];\r\n                            const blockOffset = blockId * this.blockSize;\r\n                            const o = blockOffset - response.offset;\r\n                            const t = Math.min(o + this.blockSize, response.data.byteLength);\r\n                            const data = response.data.slice(o, t);\r\n                            const block = new Block(blockOffset, data.byteLength, data);\r\n                            this.blockCache.set(blockId, block);\r\n                            this.abortedBlockIds.delete(blockId);\r\n                        }\r\n                        catch (err) {\r\n                            if (err.name === 'AbortError') {\r\n                                // store the signal here, we need it to determine later if an\r\n                                // error was caused by this signal\r\n                                err.signal = signal;\r\n                                this.blockCache.delete(blockId);\r\n                                this.abortedBlockIds.add(blockId);\r\n                            }\r\n                            else {\r\n                                throw err;\r\n                            }\r\n                        }\r\n                        finally {\r\n                            this.blockRequests.delete(blockId);\r\n                        }\r\n                    })());\r\n                }\r\n            }\r\n            this.blockIdsToFetch.clear();\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     * @param {Set} blockIds\r\n     * @returns {BlockGroup[]}\r\n     */\r\n    groupBlocks(blockIds) {\r\n        const sortedBlockIds = Array.from(blockIds).sort((a, b) => a - b);\r\n        if (sortedBlockIds.length === 0) {\r\n            return [];\r\n        }\r\n        let current = [];\r\n        let lastBlockId = null;\r\n        const groups = [];\r\n        for (const blockId of sortedBlockIds) {\r\n            if (lastBlockId === null || lastBlockId + 1 === blockId) {\r\n                current.push(blockId);\r\n                lastBlockId = blockId;\r\n            }\r\n            else {\r\n                groups.push(new BlockGroup(current[0] * this.blockSize, current.length * this.blockSize, current));\r\n                current = [blockId];\r\n                lastBlockId = blockId;\r\n            }\r\n        }\r\n        groups.push(new BlockGroup(current[0] * this.blockSize, current.length * this.blockSize, current));\r\n        return groups;\r\n    }\r\n    /**\r\n     * @param {import(\"./basesource\").Slice[]} slices\r\n     * @param {Map<number, Block>} blocks\r\n     * @returns {ArrayBuffer[]}\r\n     */\r\n    readSliceData(slices, blocks) {\r\n        return slices.map((slice) => {\r\n            let top = slice.offset + slice.length;\r\n            if (this.fileSize !== null) {\r\n                top = Math.min(this.fileSize, top);\r\n            }\r\n            const blockIdLow = Math.floor(slice.offset / this.blockSize);\r\n            const blockIdHigh = Math.floor((top - 1) / this.blockSize);\r\n            const sliceData = new ArrayBuffer(slice.length);\r\n            const sliceView = new Uint8Array(sliceData);\r\n            for (let blockId = blockIdLow; blockId <= blockIdHigh; ++blockId) {\r\n                const block = blocks.get(blockId);\r\n                if (!block) {\r\n                    continue;\r\n                }\r\n                const delta = block.offset - slice.offset;\r\n                const topDelta = block.top - top;\r\n                let blockInnerOffset = 0;\r\n                let rangeInnerOffset = 0;\r\n                let usedBlockLength;\r\n                if (delta < 0) {\r\n                    blockInnerOffset = -delta;\r\n                }\r\n                else if (delta > 0) {\r\n                    rangeInnerOffset = delta;\r\n                }\r\n                if (topDelta < 0) {\r\n                    usedBlockLength = block.length - blockInnerOffset;\r\n                }\r\n                else {\r\n                    usedBlockLength = top - block.offset - blockInnerOffset;\r\n                }\r\n                const blockView = new Uint8Array(block.data, blockInnerOffset, usedBlockLength);\r\n                sliceView.set(blockView, rangeInnerOffset);\r\n            }\r\n            return sliceData;\r\n        });\r\n    }\r\n}\r\n", "export class BaseResponse {\r\n    /**\r\n     * Returns whether the response has an ok'ish status code\r\n     */\r\n    get ok() {\r\n        return this.status >= 200 && this.status <= 299;\r\n    }\r\n    /**\r\n     * Returns the status code of the response\r\n     * @returns {number} the status code\r\n     */\r\n    get status() {\r\n        throw new Error('not implemented');\r\n    }\r\n    /**\r\n     * Returns the value of the specified header\r\n     * @param {string} headerName the header name\r\n     * @returns {string|null} the header value\r\n     */\r\n    getHeader(headerName) {\r\n        throw new Error('not implemented');\r\n    }\r\n    /**\r\n     * @returns {Promise<ArrayBuffer>} the response data of the request\r\n     */\r\n    async getData() {\r\n        throw new Error('not implemented');\r\n    }\r\n}\r\nexport class BaseClient {\r\n    constructor(url) {\r\n        this.url = url;\r\n    }\r\n    /**\r\n     * Send a request with the options\r\n     * @param {RequestInit} [options={}]\r\n     * @returns {Promise<BaseResponse>}\r\n     */\r\n    async request({ headers, signal } = {}) {\r\n        throw new Error('request is not implemented');\r\n    }\r\n}\r\n", "import { BaseClient, BaseResponse } from './base.js';\r\nclass FetchResponse extends BaseResponse {\r\n    /**\r\n     * BaseResponse facade for fetch API Response\r\n     * @param {Response} response\r\n     */\r\n    constructor(response) {\r\n        super();\r\n        this.response = response;\r\n    }\r\n    get status() {\r\n        return this.response.status;\r\n    }\r\n    /**\r\n     * @param {string} name\r\n     * @returns {string|null}\r\n     */\r\n    getHeader(name) {\r\n        return this.response.headers.get(name);\r\n    }\r\n    async getData() {\r\n        const data = this.response.arrayBuffer\r\n            ? await this.response.arrayBuffer()\r\n            // FIXME Can this really have a buffer property?\r\n            : (await /** @type {*} */ (this.response).buffer()).buffer;\r\n        return data;\r\n    }\r\n}\r\nexport class FetchClient extends BaseClient {\r\n    constructor(url, credentials) {\r\n        super(url);\r\n        this.credentials = credentials;\r\n    }\r\n    /**\r\n     * @param {RequestInit} [options={}]\r\n     * @returns {Promise<FetchResponse>}\r\n     */\r\n    async request({ headers, signal } = {}) {\r\n        const response = await fetch(this.url, {\r\n            headers, credentials: this.credentials, signal,\r\n        });\r\n        return new FetchResponse(response);\r\n    }\r\n}\r\n", "import { BaseClient, BaseResponse } from './base.js';\r\nimport { AbortError } from '../../utils.js';\r\nclass XHRResponse extends BaseResponse {\r\n    /**\r\n     * BaseResponse facade for XMLHttpRequest\r\n     * @param {XMLHttpRequest} xhr\r\n     * @param {ArrayBuffer} data\r\n     */\r\n    constructor(xhr, data) {\r\n        super();\r\n        this.xhr = xhr;\r\n        this.data = data;\r\n    }\r\n    get status() {\r\n        return this.xhr.status;\r\n    }\r\n    getHeader(name) {\r\n        return this.xhr.getResponseHeader(name);\r\n    }\r\n    async getData() {\r\n        return this.data;\r\n    }\r\n}\r\nexport class XHRClient extends BaseClient {\r\n    constructRequest(headers, signal) {\r\n        return new Promise((resolve, reject) => {\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.open('GET', this.url);\r\n            xhr.responseType = 'arraybuffer';\r\n            for (const [key, value] of Object.entries(headers)) {\r\n                xhr.setRequestHeader(key, value);\r\n            }\r\n            // hook signals\r\n            xhr.onload = () => {\r\n                const data = xhr.response;\r\n                resolve(new XHRResponse(xhr, data));\r\n            };\r\n            xhr.onerror = reject;\r\n            xhr.onabort = () => reject(new AbortError('Request aborted'));\r\n            xhr.send();\r\n            if (signal) {\r\n                if (signal.aborted) {\r\n                    xhr.abort();\r\n                }\r\n                signal.addEventListener('abort', () => xhr.abort());\r\n            }\r\n        });\r\n    }\r\n    async request({ headers = undefined, signal = undefined } = {}) {\r\n        const response = await this.constructRequest(headers, signal);\r\n        return response;\r\n    }\r\n}\r\n", "import http from 'http';\r\nimport https from 'https';\r\nimport urlMod from 'url';\r\nimport { BaseClient, BaseResponse } from './base.js';\r\nimport { AbortError } from '../../utils.js';\r\nclass HttpResponse extends BaseResponse {\r\n    /**\r\n     * BaseResponse facade for node HTTP/HTTPS API Response\r\n     * @param {import('http').IncomingMessage} response\r\n     */\r\n    constructor(response, dataPromise) {\r\n        super();\r\n        this.response = response;\r\n        this.dataPromise = dataPromise;\r\n    }\r\n    get status() {\r\n        return /** @type {number} */ (this.response.statusCode);\r\n    }\r\n    getHeader(name) {\r\n        return /** @type {string|null} */ (this.response.headers[name]);\r\n    }\r\n    async getData() {\r\n        const data = await this.dataPromise;\r\n        return data;\r\n    }\r\n}\r\nexport class HttpClient extends BaseClient {\r\n    constructor(url) {\r\n        super(url);\r\n        this.parsedUrl = urlMod.parse(this.url);\r\n        this.httpApi = (this.parsedUrl.protocol === 'http:' ? http : https);\r\n    }\r\n    constructRequest(headers, signal) {\r\n        return new Promise((resolve, reject) => {\r\n            const request = this.httpApi.get({\r\n                ...this.parsedUrl,\r\n                headers,\r\n            }, (response) => {\r\n                const dataPromise = new Promise((resolveData) => {\r\n                    const chunks = [];\r\n                    // collect chunks\r\n                    response.on('data', (chunk) => {\r\n                        chunks.push(chunk);\r\n                    });\r\n                    // concatenate all chunks and resolve the promise with the resulting buffer\r\n                    response.on('end', () => {\r\n                        const data = Buffer.concat(chunks).buffer;\r\n                        resolveData(data);\r\n                    });\r\n                    response.on('error', reject);\r\n                });\r\n                resolve(new HttpResponse(response, dataPromise));\r\n            });\r\n            request.on('error', reject);\r\n            if (signal) {\r\n                if (signal.aborted) {\r\n                    request.destroy(new AbortError('Request aborted'));\r\n                }\r\n                signal.addEventListener('abort', () => request.destroy(new AbortError('Request aborted')));\r\n            }\r\n        });\r\n    }\r\n    async request({ headers = undefined, signal = undefined } = {}) {\r\n        const response = await this.constructRequest(headers, signal);\r\n        return response;\r\n    }\r\n}\r\n", "import { parseByteRanges, parseContentRange, parseContentType } from './httputils.js';\r\nimport { BaseSource } from './basesource.js';\r\nimport { BlockedSource } from './blockedsource.js';\r\nimport { FetchClient } from './client/fetch.js';\r\nimport { XHRClient } from './client/xhr.js';\r\nimport { HttpClient } from './client/http.js';\r\n/** @import { RemoteSourceOptions, BlockedSourceOptions } from '../geotiff.js' */\r\nclass RemoteSource extends BaseSource {\r\n    /**\r\n     * @param {import(\"../geotiff\").BaseClient} client\r\n     * @param {RemoteSourceOptions} options\r\n     */\r\n    constructor(client, { headers, maxRanges = 0, allowFullFile } = {}) {\r\n        super();\r\n        this.client = client;\r\n        this.headers = headers;\r\n        this.maxRanges = maxRanges;\r\n        this.allowFullFile = allowFullFile;\r\n        this._fileSize = null;\r\n    }\r\n    /**\r\n     * @param {import('./basesource.js').Slice[]} slices\r\n     * @param {AbortSignal} [signal]\r\n     * @returns {Promise<*[]>}\r\n     */\r\n    async fetch(slices, signal) {\r\n        // if we allow multi-ranges, split the incoming request into that many sub-requests\r\n        // and join them afterwards\r\n        if (this.maxRanges >= slices.length) {\r\n            return this.fetchSlices(slices, signal);\r\n        }\r\n        else if (this.maxRanges > 0 && slices.length > 1) {\r\n            // TODO: split into multiple multi-range requests\r\n            // const subSlicesRequests = [];\r\n            // for (let i = 0; i < slices.length; i += this.maxRanges) {\r\n            //   subSlicesRequests.push(\r\n            //     this.fetchSlices(slices.slice(i, i + this.maxRanges), signal),\r\n            //   );\r\n            // }\r\n            // return (await Promise.all(subSlicesRequests)).flat();\r\n        }\r\n        // otherwise make a single request for each slice\r\n        return Promise.all(slices.map((slice) => this.fetchSlice(slice, signal)));\r\n    }\r\n    async fetchSlices(slices, signal) {\r\n        const response = await this.client.request({\r\n            headers: {\r\n                ...this.headers,\r\n                Range: `bytes=${slices\r\n                    .map(({ offset, length }) => `${offset}-${offset + length}`)\r\n                    .join(',')}`,\r\n            },\r\n            signal,\r\n        });\r\n        if (!response.ok) {\r\n            throw new Error('Error fetching data.');\r\n        }\r\n        else if (response.status === 206) {\r\n            const { type, params } = parseContentType(response.getHeader('content-type'));\r\n            if (type === 'multipart/byteranges') {\r\n                const byteRanges = parseByteRanges(await response.getData(), params.boundary);\r\n                this._fileSize = byteRanges[0].fileSize || null;\r\n                return byteRanges;\r\n            }\r\n            const data = await response.getData();\r\n            const { start, end, total } = parseContentRange(response.getHeader('content-range'));\r\n            this._fileSize = total || null;\r\n            const first = [{\r\n                    data,\r\n                    offset: start,\r\n                    length: end - start,\r\n                }];\r\n            if (slices.length > 1) {\r\n                // we requested more than one slice, but got only the first\r\n                // unfortunately, some HTTP Servers don't support multi-ranges\r\n                // and return only the first\r\n                // get the rest of the slices and fetch them iteratively\r\n                const others = await Promise.all(slices.slice(1).map((slice) => this.fetchSlice(slice, signal)));\r\n                return first.concat(others);\r\n            }\r\n            return first;\r\n        }\r\n        else {\r\n            if (!this.allowFullFile) {\r\n                throw new Error('Server responded with full file');\r\n            }\r\n            const data = await response.getData();\r\n            this._fileSize = data.byteLength;\r\n            return [{\r\n                    data,\r\n                    offset: 0,\r\n                    length: data.byteLength,\r\n                }];\r\n        }\r\n    }\r\n    async fetchSlice(slice, signal) {\r\n        const { offset, length } = slice;\r\n        const response = await this.client.request({\r\n            headers: {\r\n                ...this.headers,\r\n                Range: `bytes=${offset}-${offset + length}`,\r\n            },\r\n            signal,\r\n        });\r\n        // check the response was okay and if the server actually understands range requests\r\n        if (!response.ok) {\r\n            throw new Error('Error fetching data.');\r\n        }\r\n        else if (response.status === 206) {\r\n            const data = await response.getData();\r\n            const { total } = parseContentRange(response.getHeader('content-range'));\r\n            this._fileSize = total || null;\r\n            return {\r\n                data,\r\n                offset,\r\n                length,\r\n            };\r\n        }\r\n        else {\r\n            if (!this.allowFullFile) {\r\n                throw new Error('Server responded with full file');\r\n            }\r\n            const data = await response.getData();\r\n            this._fileSize = data.byteLength;\r\n            return {\r\n                data,\r\n                offset: 0,\r\n                length: data.byteLength,\r\n            };\r\n        }\r\n    }\r\n    get fileSize() {\r\n        return this._fileSize;\r\n    }\r\n}\r\n/**\r\n * @param {BaseSource} source\r\n * @param {BlockedSourceOptions} blockedSourceOptions\r\n * @returns {BaseSource}\r\n */\r\nfunction maybeWrapInBlockedSource(source, { blockSize, cacheSize }) {\r\n    if (blockSize === null) {\r\n        return source;\r\n    }\r\n    return new BlockedSource(source, { blockSize, cacheSize });\r\n}\r\n/**\r\n * @param {string} url\r\n * @param {RemoteSourceOptions & BlockedSourceOptions & { credentials?: RequestCredentials}} [param1]\r\n * @returns {BaseSource}\r\n */\r\nexport function makeFetchSource(url, { headers = {}, credentials, maxRanges = 0, allowFullFile = false, ...blockOptions } = {}) {\r\n    const client = new FetchClient(url, credentials);\r\n    const source = new RemoteSource(client, { headers, maxRanges, allowFullFile });\r\n    return maybeWrapInBlockedSource(source, blockOptions);\r\n}\r\n/**\r\n * @param {string} url\r\n * @param {RemoteSourceOptions & BlockedSourceOptions} [param1]\r\n * @returns {BaseSource}\r\n */\r\nexport function makeXHRSource(url, { headers = {}, maxRanges = 0, allowFullFile = false, ...blockOptions } = {}) {\r\n    const client = new XHRClient(url);\r\n    const source = new RemoteSource(client, { headers, maxRanges, allowFullFile });\r\n    return maybeWrapInBlockedSource(source, blockOptions);\r\n}\r\n/**\r\n * @param {string} url\r\n * @param {RemoteSourceOptions & BlockedSourceOptions} [param1]\r\n * @returns {BaseSource}\r\n */\r\nexport function makeHttpSource(url, { headers = {}, maxRanges = 0, allowFullFile = false, ...blockOptions } = {}) {\r\n    const client = new HttpClient(url);\r\n    const source = new RemoteSource(client, { headers, maxRanges, allowFullFile });\r\n    return maybeWrapInBlockedSource(source, blockOptions);\r\n}\r\n/**\r\n * @param {import(\"../geotiff\").BaseClient} client\r\n * @param {RemoteSourceOptions & BlockedSourceOptions} [param1]\r\n * @returns {BaseSource}\r\n */\r\nexport function makeCustomSource(client, { headers = {}, maxRanges = 0, allowFullFile = false, ...blockOptions } = {}) {\r\n    const source = new RemoteSource(client, { headers, maxRanges, allowFullFile });\r\n    return maybeWrapInBlockedSource(source, blockOptions);\r\n}\r\n/**\r\n *\r\n * @param {string} url\r\n * @param {RemoteSourceOptions} options\r\n */\r\nexport function makeRemoteSource(url, { forceXHR = false, ...clientOptions } = {}) {\r\n    if (typeof fetch === 'function' && !forceXHR) {\r\n        return makeFetchSource(url, clientOptions);\r\n    }\r\n    if (typeof XMLHttpRequest !== 'undefined') {\r\n        return makeXHRSource(url, clientOptions);\r\n    }\r\n    return makeHttpSource(url, clientOptions);\r\n}\r\n", "import { BaseSource } from './basesource.js';\r\nclass FileReaderSource extends BaseSource {\r\n    constructor(file) {\r\n        super();\r\n        this.file = file;\r\n    }\r\n    async fetchSlice(slice, signal) {\r\n        return new Promise((resolve, reject) => {\r\n            const blob = this.file.slice(slice.offset, slice.offset + slice.length);\r\n            const reader = new FileReader();\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = reject;\r\n            reader.onabort = reject;\r\n            reader.readAsArrayBuffer(blob);\r\n            if (signal) {\r\n                signal.addEventListener('abort', () => reader.abort());\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * Create a new source from a given file/blob.\r\n * @param {Blob} file The file or blob to read from.\r\n * @returns The constructed source\r\n */\r\nexport function makeFileReaderSource(file) {\r\n    return new FileReaderSource(file);\r\n}\r\n", "import fs from 'fs';\r\nimport { BaseSource } from './basesource.js';\r\nfunction closeAsync(fd) {\r\n    return /** @type{Promise<void>} */ (new Promise((resolve, reject) => {\r\n        fs.close(fd, (err) => {\r\n            if (err) {\r\n                reject(err);\r\n            }\r\n            else {\r\n                resolve();\r\n            }\r\n        });\r\n    }));\r\n}\r\nfunction openAsync(path, flags, mode = undefined) {\r\n    return new Promise((resolve, reject) => {\r\n        fs.open(path, flags, mode, (err, fd) => {\r\n            if (err) {\r\n                reject(err);\r\n            }\r\n            else {\r\n                resolve(fd);\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction readAsync(_fd, _buffer, _offset, _length, _position) {\r\n    return new Promise((resolve, reject) => {\r\n        fs.read(_fd, _buffer, _offset, _length, _position, (err, bytesRead, buffer) => {\r\n            if (err) {\r\n                reject(err);\r\n            }\r\n            else {\r\n                resolve({ bytesRead, buffer });\r\n            }\r\n        });\r\n    });\r\n}\r\nclass FileSource extends BaseSource {\r\n    constructor(path) {\r\n        super();\r\n        this.path = path;\r\n        this.openRequest = openAsync(path, 'r');\r\n    }\r\n    async fetchSlice(slice) {\r\n        // TODO: use `signal`\r\n        const fd = await this.openRequest;\r\n        const { buffer } = await readAsync(fd, Buffer.alloc(slice.length), 0, slice.length, slice.offset);\r\n        return buffer.buffer;\r\n    }\r\n    async close() {\r\n        const fd = await this.openRequest;\r\n        await closeAsync(fd);\r\n    }\r\n}\r\nexport function makeFileSource(path) {\r\n    return new FileSource(path);\r\n}\r\n", "import DataSlice from './dataslice.js';\r\nimport { fieldTypes, geoKeyNames, tagDefinitions, resolveTag, getFieldTypeSize, } from './globals.js';\r\n/**\r\n * Allocates an appropriate TypedArray based on the TIFF field type.\r\n * @param {number} fieldType - TIFF field type constant from fieldTypes\r\n * @param {number} count - Number of elements to allocate\r\n * @returns {import('./geotiff.js').TypedArray|Array<number>} The allocated typed array for the given field type\r\n * @throws {RangeError} If the field type is invalid\r\n */\r\nfunction getArrayForSamples(fieldType, count) {\r\n    switch (fieldType) {\r\n        case fieldTypes.BYTE:\r\n        case fieldTypes.ASCII:\r\n        case fieldTypes.UNDEFINED:\r\n            return new Uint8Array(count);\r\n        case fieldTypes.SBYTE:\r\n            return new Int8Array(count);\r\n        case fieldTypes.SHORT:\r\n            return new Uint16Array(count);\r\n        case fieldTypes.SSHORT:\r\n            return new Int16Array(count);\r\n        case fieldTypes.LONG:\r\n        case fieldTypes.IFD:\r\n            return new Uint32Array(count);\r\n        case fieldTypes.SLONG:\r\n            return new Int32Array(count);\r\n        case fieldTypes.LONG8:\r\n        case fieldTypes.IFD8:\r\n            return new Array(count);\r\n        case fieldTypes.SLONG8:\r\n            return new Array(count);\r\n        case fieldTypes.RATIONAL:\r\n            return new Uint32Array(count * 2);\r\n        case fieldTypes.SRATIONAL:\r\n            return new Int32Array(count * 2);\r\n        case fieldTypes.FLOAT:\r\n            return new Float32Array(count);\r\n        case fieldTypes.DOUBLE:\r\n            return new Float64Array(count);\r\n        default:\r\n            throw new RangeError(`Invalid field type: ${fieldType}`);\r\n    }\r\n}\r\n/**\r\n * Returns the appropriate DataSlice read method for a given field type.\r\n * @param {DataSlice} dataSlice - The DataSlice instance to get the reader from\r\n * @param {number} fieldType - TIFF field type constant from fieldTypes\r\n * @returns {Function} The bound read method (e.g., readUint16, readFloat32)\r\n * @throws {RangeError} If the field type is invalid\r\n */\r\nfunction getDataSliceReader(dataSlice, fieldType) {\r\n    switch (fieldType) {\r\n        case fieldTypes.BYTE:\r\n        case fieldTypes.ASCII:\r\n        case fieldTypes.UNDEFINED:\r\n            return dataSlice.readUint8;\r\n        case fieldTypes.SBYTE:\r\n            return dataSlice.readInt8;\r\n        case fieldTypes.SHORT:\r\n            return dataSlice.readUint16;\r\n        case fieldTypes.SSHORT:\r\n            return dataSlice.readInt16;\r\n        case fieldTypes.LONG:\r\n        case fieldTypes.IFD:\r\n            return dataSlice.readUint32;\r\n        case fieldTypes.SLONG:\r\n            return dataSlice.readInt32;\r\n        case fieldTypes.LONG8:\r\n        case fieldTypes.IFD8:\r\n            return dataSlice.readUint64;\r\n        case fieldTypes.SLONG8:\r\n            return dataSlice.readInt64;\r\n        case fieldTypes.RATIONAL:\r\n            return dataSlice.readUint32;\r\n        case fieldTypes.SRATIONAL:\r\n            return dataSlice.readInt32;\r\n        case fieldTypes.FLOAT:\r\n            return dataSlice.readFloat32;\r\n        case fieldTypes.DOUBLE:\r\n            return dataSlice.readFloat64;\r\n        default:\r\n            throw new RangeError(`Invalid field type: ${fieldType}`);\r\n    }\r\n}\r\n/**\r\n * @overload\r\n * @param {import('./geotiff.js').TypedArray|Array<number>|null} outValues - Optional pre-allocated output array\r\n * @param {Function} readMethod - DataView read method (e.g., getUint16)\r\n * @param {DataSlice} dataSlice - Source data slice\r\n * @param {number} fieldType - TIFF field type constant\r\n * @param {number} count - Number of values to read\r\n * @param {number} offset - Byte offset to start reading\r\n * @param {true} isArray - Whether to always return an array (vs single value)\r\n * @returns {import('./geotiff.js').TypedArray|Array<number>} The decoded value(s)\r\n */\r\n/**\r\n * Reads field values from a DataSlice.\r\n * @param {import('./geotiff.js').TypedArray|Array<number>|null} outValues - Optional pre-allocated output array\r\n * @param {Function} readMethod - DataView read method (e.g., getUint16)\r\n * @param {DataSlice} dataSlice - Source data slice\r\n * @param {import('./globals.js').FieldType} fieldType - TIFF field type constant\r\n * @param {number} count - Number of values to read\r\n * @param {number} offset - Byte offset to start reading\r\n * @param {boolean} [isArray] - Whether to always return an array (vs single value)\r\n * @returns {import('./geotiff.js').TypedArray|Array<number>|string|number} The decoded value(s)\r\n */\r\nfunction getValues(outValues = null, readMethod, dataSlice, fieldType, count, offset, isArray = false) {\r\n    const fieldTypeLength = getFieldTypeSize(fieldType);\r\n    const values = outValues || getArrayForSamples(fieldType, count);\r\n    // const readMethod = getDataSliceReader(dataSlice, fieldType);\r\n    const isRational = (fieldType === fieldTypes.RATIONAL || fieldType === fieldTypes.SRATIONAL);\r\n    // normal fields\r\n    if (!isRational) {\r\n        for (let i = 0; i < count; ++i) {\r\n            values[i] = readMethod.call(dataSlice, offset + (i * fieldTypeLength));\r\n        }\r\n    }\r\n    else {\r\n        // RATIONAL or SRATIONAL\r\n        for (let i = 0; i < count; i += 2) {\r\n            values[i] = readMethod.call(dataSlice, offset + (i * fieldTypeLength));\r\n            values[i + 1] = readMethod.call(dataSlice, offset + ((i * fieldTypeLength) + 4));\r\n        }\r\n    }\r\n    if (fieldType === fieldTypes.ASCII) {\r\n        return new TextDecoder('utf-8').decode(/** @type {Uint8Array} */ (values));\r\n    }\r\n    if (count === 1 && !isArray && !isRational) {\r\n        return values[0];\r\n    }\r\n    return values;\r\n}\r\n/**\r\n * Lazily-loaded array for large TIFF field values that are fetched on-demand.\r\n * Supports loading individual indices or the entire array. Uses a bitmap to track\r\n * which values have been loaded to avoid redundant fetches.\r\n */\r\nclass DeferredArray {\r\n    /**\r\n     * Creates a DeferredArray for lazy-loading of large TIFF field arrays.\r\n     * @param {import(\"./source/basesource.js\").BaseSource} source - Data source for fetching\r\n     * @param {number} arrayOffset - Byte offset where the array data starts\r\n     * @param {boolean} littleEndian - Endianness of the data\r\n     * @param {import('./globals.js').FieldType} fieldType - TIFF field type constant\r\n     * @param {number} length - Number of elements in the array\r\n     */\r\n    constructor(source, arrayOffset, littleEndian, fieldType, length) {\r\n        this.source = source;\r\n        this.arrayOffset = arrayOffset;\r\n        this.littleEndian = littleEndian;\r\n        this.fieldType = fieldType;\r\n        this.length = length;\r\n        this.data = getArrayForSamples(fieldType, length);\r\n        this.itemSize = getFieldTypeSize(fieldType);\r\n        this.maskBitmap = new Uint8Array(Math.ceil(length / 8));\r\n        this.fetchIndexPromises = new Map();\r\n        this.fullFetchPromise = null;\r\n    }\r\n    /**\r\n     * Loads all values in the deferred array at once.\r\n     * Subsequent calls return the same promise to avoid redundant fetches.\r\n     * @returns {Promise<import('./geotiff.js').TypedArray|Array<number>>} Promise resolving to the fully loaded array\r\n     */\r\n    async loadAll() {\r\n        if (!this.fullFetchPromise) {\r\n            this.fullFetchPromise = this.source.fetch([{\r\n                    offset: this.arrayOffset,\r\n                    length: this.itemSize * this.length,\r\n                }]).then((data) => {\r\n                const dataSlice = new DataSlice(data[0], this.arrayOffset, true, false);\r\n                const result = getValues(this.data, getDataSliceReader(dataSlice, this.fieldType), dataSlice, this.fieldType, this.length, this.arrayOffset, true);\r\n                // Mark all items as loaded in the bitmap\r\n                this.maskBitmap.fill(0xFF);\r\n                // Clean up any pending individual fetch promises since all data is now loaded\r\n                this.fetchIndexPromises.clear();\r\n                return result;\r\n            });\r\n        }\r\n        return this.fullFetchPromise;\r\n    }\r\n    /**\r\n     * Loads and returns a single value at the specified index.\r\n     * If the value is already loaded, returns it immediately. Otherwise, fetches it\r\n     * from the source. Multiple calls for the same index reuse the same promise.\r\n     * @param {number} index - Zero-based index of the value to load\r\n     * @returns {Promise<number|bigint>} Promise resolving to the value at the given index\r\n     * @throws {RangeError} If index is out of bounds\r\n     */\r\n    async get(index) {\r\n        if (index < 0 || index >= this.data.length) {\r\n            throw new RangeError(`Index ${index} out of bounds for length ${this.data.length}`);\r\n        }\r\n        const byteIndex = Math.floor(index / 8);\r\n        const bitMask = 1 << index % 8;\r\n        const offset = this.arrayOffset + (index * this.itemSize);\r\n        if ((this.maskBitmap[byteIndex] & bitMask) === 0) {\r\n            if (!this.fetchIndexPromises.has(index)) {\r\n                const fetchPromise = this.source.fetch([{\r\n                        offset,\r\n                        length: this.itemSize,\r\n                    }]).then((data) => {\r\n                    const dataSlice = new DataSlice(data[0], this.arrayOffset + (index * this.itemSize), true, false);\r\n                    const readMethod = getDataSliceReader(dataSlice, this.fieldType);\r\n                    const value = readMethod.call(dataSlice, offset);\r\n                    this.data[index] = value;\r\n                    this.maskBitmap[byteIndex] |= bitMask;\r\n                    this.fetchIndexPromises.delete(index);\r\n                    return value;\r\n                });\r\n                this.fetchIndexPromises.set(index, fetchPromise);\r\n            }\r\n            return this.fetchIndexPromises.get(index);\r\n        }\r\n        return this.data[index];\r\n    }\r\n}\r\nexport class ImageFileDirectory {\r\n    /**\r\n     * Create an ImageFileDirectory.\r\n     * @param {Map} actualizedFields the file directory, mapping tag names to values\r\n     * @param {Map} deferredFields the deferred fields, mapping tag names to async functions\r\n     * @param {Map} deferredArrays the deferred arrays, mapping tag names to DeferredArray objects\r\n     * @param {number} nextIFDByteOffset the byte offset to the next IFD\r\n     */\r\n    constructor(actualizedFields, deferredFields, deferredArrays, nextIFDByteOffset) {\r\n        this.actualizedFields = actualizedFields;\r\n        this.deferredFields = deferredFields;\r\n        this.deferredFieldsBeingResolved = new Map();\r\n        this.deferredArrays = deferredArrays;\r\n        this.nextIFDByteOffset = nextIFDByteOffset;\r\n    }\r\n    /**\r\n     * @param {number|string} tagIdentifier The field tag ID or name\r\n     * @returns {boolean} whether the field exists (actualized or deferred)\r\n     */\r\n    hasTag(tagIdentifier) {\r\n        const tag = resolveTag(tagIdentifier);\r\n        return this.actualizedFields.has(tag) || this.deferredFields.has(tag) || this.deferredArrays.has(tag);\r\n    }\r\n    /**\r\n     * Synchronously retrieves the value for a given tag. If it is deferred, an error is thrown.\r\n     * @param {number|string} tagIdentifier The field tag ID or name\r\n     * @returns the field value, or undefined if it does not exist\r\n     * @throws {Error} If the tag is deferred and requires asynchronous loading\r\n     */\r\n    getValue(tagIdentifier) {\r\n        const tag = resolveTag(tagIdentifier);\r\n        if (this.deferredFields.has(tag) || this.deferredArrays.has(tag)) {\r\n            const tagDef = tagDefinitions[tag];\r\n            const tagName = tagDef?.name || `Tag${tag}`;\r\n            throw new Error(`Field '${tagName}' (${tag}) is deferred. Use loadValue() to load it asynchronously.`);\r\n        }\r\n        if (!this.actualizedFields.has(tag)) {\r\n            return undefined;\r\n        }\r\n        return this.actualizedFields.get(tag);\r\n    }\r\n    /**\r\n     * Retrieves the value for a given tag. If it is deferred, it will be loaded first.\r\n     * @param {number|string} tagIdentifier The field tag ID or name\r\n     * @returns the field value, or undefined if it does not exist\r\n     */\r\n    async loadValue(tagIdentifier) {\r\n        const tag = resolveTag(tagIdentifier);\r\n        if (this.actualizedFields.has(tag)) {\r\n            return this.actualizedFields.get(tag);\r\n        }\r\n        if (this.deferredFieldsBeingResolved.has(tag)) {\r\n            return this.deferredFieldsBeingResolved.get(tag);\r\n        }\r\n        if (this.deferredFields.has(tag)) {\r\n            const loaderFn = this.deferredFields.get(tag);\r\n            this.deferredFields.delete(tag);\r\n            // Set promise BEFORE starting async work to prevent race conditions\r\n            const valuePromise = (async () => {\r\n                try {\r\n                    const value = await loaderFn();\r\n                    this.actualizedFields.set(tag, value);\r\n                    return value;\r\n                }\r\n                finally {\r\n                    this.deferredFieldsBeingResolved.delete(tag);\r\n                }\r\n            })();\r\n            this.deferredFieldsBeingResolved.set(tag, valuePromise);\r\n            return valuePromise;\r\n        }\r\n        if (this.deferredArrays.has(tag)) {\r\n            const deferredArray = this.deferredArrays.get(tag);\r\n            return deferredArray.loadAll();\r\n        }\r\n        return undefined;\r\n    }\r\n    /**\r\n     * Retrieves the value at a given index for a tag that is an array. If it is deferred, it will be loaded first.\r\n     * @param {number|string} tagIdentifier The field tag ID or name\r\n     * @param {number} index The index within the array\r\n     * @returns the field value at the given index, or undefined if it does not exist\r\n     */\r\n    async loadValueIndexed(tagIdentifier, index) {\r\n        const tag = resolveTag(tagIdentifier);\r\n        if (this.actualizedFields.has(tag)) {\r\n            const value = this.actualizedFields.get(tag);\r\n            return value[index];\r\n        }\r\n        else if (this.deferredArrays.has(tag)) {\r\n            const deferredArray = this.deferredArrays.get(tag);\r\n            return deferredArray.get(index);\r\n        }\r\n        else if (this.hasTag(tag)) {\r\n            return (await this.loadValue(tag))[index];\r\n        }\r\n        return undefined;\r\n    }\r\n    /**\r\n     * Parses the GeoTIFF GeoKeyDirectory tag into a structured object.\r\n     * The GeoKeyDirectory is a special TIFF tag that contains geographic metadata\r\n     * in a key-value format as defined by the GeoTIFF specification.\r\n     * @returns {Partial<Record<import('./globals.js').GeoKeyName, *>>|null} Parsed geo key directory\r\n     *     mapping key names to values, or null if not present\r\n     * @throws {Error} If a referenced geo key value cannot be retrieved\r\n     */\r\n    parseGeoKeyDirectory() {\r\n        const rawGeoKeyDirectory = this.getValue('GeoKeyDirectory');\r\n        if (!rawGeoKeyDirectory) {\r\n            return null;\r\n        }\r\n        /** @type {Partial<Record<import('./globals.js').GeoKeyName, *>>} */\r\n        const geoKeyDirectory = {};\r\n        for (let i = 4; i <= rawGeoKeyDirectory[3] * 4; i += 4) {\r\n            const key = geoKeyNames[rawGeoKeyDirectory[i]];\r\n            const location = rawGeoKeyDirectory[i + 1] || null;\r\n            const count = rawGeoKeyDirectory[i + 2];\r\n            const offset = rawGeoKeyDirectory[i + 3];\r\n            let value = null;\r\n            if (!location) {\r\n                value = offset;\r\n            }\r\n            else {\r\n                value = this.getValue(location);\r\n                if (typeof value === 'undefined' || value === null) {\r\n                    throw new Error(`Could not get value of geoKey '${key}'.`);\r\n                }\r\n                else if (typeof value === 'string') {\r\n                    value = value.substring(offset, offset + count - 1);\r\n                }\r\n                else if (value.subarray) {\r\n                    value = value.subarray(offset, offset + count);\r\n                    if (count === 1) {\r\n                        value = value[0];\r\n                    }\r\n                }\r\n            }\r\n            geoKeyDirectory[key] = value;\r\n        }\r\n        return geoKeyDirectory;\r\n    }\r\n    toObject() {\r\n        const obj = {};\r\n        for (const [tag, value] of this.actualizedFields.entries()) {\r\n            const tagDefinition = tagDefinitions[tag];\r\n            const tagName = tagDefinition ? tagDefinition.name : `Tag${tag}`;\r\n            obj[tagName] = value;\r\n        }\r\n        return obj;\r\n    }\r\n}\r\n/**\r\n * Parser for Image File Directories (IFDs).\r\n */\r\nexport class ImageFileDirectoryParser {\r\n    /**\r\n     * @param {import(\"./source/basesource.js\").BaseSource} source the data source to fetch from\r\n     * @param {boolean} littleEndian the endianness of the file\r\n     * @param {boolean} bigTiff whether the file is a BigTIFF\r\n     * @param {boolean} [eager=false] whether to eagerly fetch deferred fields.\r\n     *                                 When false (default), tags are loaded lazily on-demand.\r\n     *                                 When true, all tags are loaded immediately during parsing.\r\n     */\r\n    constructor(source, littleEndian, bigTiff, eager = false) {\r\n        this.source = source;\r\n        this.littleEndian = littleEndian;\r\n        this.bigTiff = bigTiff;\r\n        this.eager = eager;\r\n    }\r\n    /**\r\n     * Helper function to retrieve a DataSlice from the source.\r\n     * @param {number} offset Byte offset of the slice\r\n     * @param {number} [length] Length of the slice\r\n     * @returns {Promise<DataSlice>}\r\n     */\r\n    async getSlice(offset, length) {\r\n        const fallbackLength = this.bigTiff ? 4048 : 1024;\r\n        return new DataSlice((await this.source.fetch([\r\n            {\r\n                offset,\r\n                length: typeof length !== 'undefined' ? length : fallbackLength,\r\n            },\r\n        ]))[0], offset, this.littleEndian, this.bigTiff);\r\n    }\r\n    /**\r\n     * Instructs to parse an image file directory at the given file offset.\r\n     * As there is no way to ensure that a location is indeed the start of an IFD,\r\n     * this function must be called with caution (e.g only using the IFD offsets from\r\n     * the headers or other IFDs).\r\n     * @param {number} offset the offset to parse the IFD at\r\n     * @returns {Promise<ImageFileDirectory>} the parsed IFD\r\n     */\r\n    async parseFileDirectoryAt(offset) {\r\n        const entrySize = this.bigTiff ? 20 : 12;\r\n        const offsetSize = this.bigTiff ? 8 : 2;\r\n        let dataSlice = await this.getSlice(offset);\r\n        const numDirEntries = this.bigTiff\r\n            ? dataSlice.readUint64(offset)\r\n            : dataSlice.readUint16(offset);\r\n        // if the slice does not cover the whole IFD, request a bigger slice, where the\r\n        // whole IFD fits: num of entries + n x tag length + offset to next IFD\r\n        const byteSize = numDirEntries * (entrySize + (this.bigTiff ? 16 : 6));\r\n        if (!dataSlice.covers(offset, byteSize)) {\r\n            dataSlice = await this.getSlice(offset, byteSize);\r\n        }\r\n        const actualizedFields = new Map();\r\n        const deferredFields = new Map();\r\n        const deferredArrays = new Map();\r\n        // loop over the IFD and create a file directory object\r\n        let i = offset + (this.bigTiff ? 8 : 2);\r\n        for (let entryCount = 0; entryCount < numDirEntries; i += entrySize, ++entryCount) {\r\n            const fieldTag = dataSlice.readUint16(i);\r\n            const fieldType = /** @type {import('./globals.js').FieldType} */ (dataSlice.readUint16(i + 2));\r\n            const typeCount = this.bigTiff\r\n                ? dataSlice.readUint64(i + 4)\r\n                : dataSlice.readUint32(i + 4);\r\n            let fieldValues = null;\r\n            let deferredFieldValues = null;\r\n            let deferredArray = null;\r\n            const fieldTypeLength = getFieldTypeSize(fieldType);\r\n            const valueOffset = i + (this.bigTiff ? 12 : 8);\r\n            const isArray = tagDefinitions[fieldTag]?.isArray;\r\n            const eager = tagDefinitions[fieldTag]?.eager || this.eager;\r\n            // check whether the value is directly encoded in the tag or refers to a\r\n            // different external byte range\r\n            if (fieldTypeLength * typeCount <= (this.bigTiff ? 8 : 4)) {\r\n                fieldValues = getValues(getArrayForSamples(fieldType, typeCount), getDataSliceReader(dataSlice, fieldType), dataSlice, fieldType, typeCount, valueOffset, isArray);\r\n            }\r\n            else {\r\n                // resolve the reference to the actual byte range\r\n                const actualOffset = dataSlice.readOffset(valueOffset);\r\n                const length = getFieldTypeSize(fieldType) * typeCount;\r\n                // check, whether we actually cover the referenced byte range\r\n                if (dataSlice.covers(actualOffset, length)) {\r\n                    fieldValues = getValues(getArrayForSamples(fieldType, typeCount), getDataSliceReader(dataSlice, fieldType), dataSlice, fieldType, typeCount, actualOffset, isArray);\r\n                }\r\n                else if (eager) {\r\n                    // eager evaluation: fetch the data right now\r\n                    // TODO: instead of fetching the slice right here, collect all slices and fetch them together\r\n                    // to allow conjoined requests\r\n                    const fieldDataSlice = await this.getSlice(actualOffset, length);\r\n                    fieldValues = getValues(getArrayForSamples(fieldType, typeCount), getDataSliceReader(fieldDataSlice, fieldType), fieldDataSlice, fieldType, typeCount, actualOffset, isArray);\r\n                }\r\n                else if (isArray) {\r\n                    deferredArray = new DeferredArray(this.source, actualOffset, this.littleEndian, fieldType, typeCount);\r\n                }\r\n                else {\r\n                    deferredFieldValues = async () => {\r\n                        const fieldDataSlice = await this.getSlice(actualOffset, length);\r\n                        return getValues(getArrayForSamples(fieldType, typeCount), getDataSliceReader(fieldDataSlice, fieldType), fieldDataSlice, fieldType, typeCount, actualOffset, isArray);\r\n                    };\r\n                }\r\n            }\r\n            if (fieldValues !== null) {\r\n                actualizedFields.set(fieldTag, fieldValues);\r\n            }\r\n            else if (deferredFieldValues !== null) {\r\n                deferredFields.set(fieldTag, deferredFieldValues);\r\n            }\r\n            else if (deferredArray !== null) {\r\n                deferredArrays.set(fieldTag, deferredArray);\r\n            }\r\n        }\r\n        const nextIFDByteOffset = dataSlice.readOffset(offset + offsetSize + (entrySize * numDirEntries));\r\n        return new ImageFileDirectory(actualizedFields, deferredFields, deferredArrays, nextIFDByteOffset);\r\n    }\r\n}\r\n", "/*\r\n  Some parts of this file are based on UTIF.js,\r\n  which was released under the MIT License.\r\n  You can view that here:\r\n  https://github.com/photopea/UTIF.js/blob/master/LICENSE\r\n*/\r\nimport { tags, fieldTagTypes, fieldTypes, geoKeyNames } from './globals.js';\r\nimport { assign, endsWith, forEach, invert, times, typeMap, isTypedUintArray, isTypedIntArray, isTypedFloatArray } from './utils.js';\r\nconst tagName2Code = tags;\r\nconst geoKeyName2Code = invert(geoKeyNames);\r\nconst name2code = {};\r\nassign(name2code, tagName2Code);\r\nassign(name2code, geoKeyName2Code);\r\nconst typeName2byte = fieldTypes;\r\n// config variables\r\nconst numBytesInIfd = 1000;\r\nconst _binBE = {\r\n    nextZero: (data, o) => {\r\n        let oincr = o;\r\n        while (data[oincr] !== 0) {\r\n            oincr++;\r\n        }\r\n        return oincr;\r\n    },\r\n    readUshort: (buff, p) => {\r\n        return (buff[p] << 8) | buff[p + 1];\r\n    },\r\n    readShort: (buff, p) => {\r\n        const a = _binBE.ui8;\r\n        a[0] = buff[p + 1];\r\n        a[1] = buff[p + 0];\r\n        return _binBE.i16[0];\r\n    },\r\n    readInt: (buff, p) => {\r\n        const a = _binBE.ui8;\r\n        a[0] = buff[p + 3];\r\n        a[1] = buff[p + 2];\r\n        a[2] = buff[p + 1];\r\n        a[3] = buff[p + 0];\r\n        return _binBE.i32[0];\r\n    },\r\n    readUint: (buff, p) => {\r\n        const a = _binBE.ui8;\r\n        a[0] = buff[p + 3];\r\n        a[1] = buff[p + 2];\r\n        a[2] = buff[p + 1];\r\n        a[3] = buff[p + 0];\r\n        return _binBE.ui32[0];\r\n    },\r\n    readASCII: (buff, p, l) => {\r\n        return l.map((i) => String.fromCharCode(buff[p + i])).join('');\r\n    },\r\n    readFloat: (buff, p) => {\r\n        const a = _binBE.ui8;\r\n        times(4, (i) => {\r\n            a[i] = buff[p + 3 - i];\r\n        });\r\n        return _binBE.fl32[0];\r\n    },\r\n    readDouble: (buff, p) => {\r\n        const a = _binBE.ui8;\r\n        times(8, (i) => {\r\n            a[i] = buff[p + 7 - i];\r\n        });\r\n        return _binBE.fl64[0];\r\n    },\r\n    writeUshort: (buff, p, n) => {\r\n        buff[p] = (n >> 8) & 255;\r\n        buff[p + 1] = n & 255;\r\n    },\r\n    writeUint: (buff, p, n) => {\r\n        buff[p] = (n >> 24) & 255;\r\n        buff[p + 1] = (n >> 16) & 255;\r\n        buff[p + 2] = (n >> 8) & 255;\r\n        buff[p + 3] = (n >> 0) & 255;\r\n    },\r\n    writeASCII: (buff, p, s) => {\r\n        times(s.length, (i) => {\r\n            buff[p + i] = s.charCodeAt(i);\r\n        });\r\n    },\r\n    ui8: new Uint8Array(8),\r\n};\r\n_binBE.fl64 = new Float64Array(_binBE.ui8.buffer);\r\n_binBE.writeDouble = (buff, p, n) => {\r\n    _binBE.fl64[0] = n;\r\n    times(8, (i) => {\r\n        buff[p + i] = _binBE.ui8[7 - i];\r\n    });\r\n};\r\nconst _writeIFD = (bin, data, _offset, ifd) => {\r\n    let offset = _offset;\r\n    const keys = Object.keys(ifd).filter((key) => {\r\n        return key !== undefined && key !== null && key !== 'undefined';\r\n    });\r\n    bin.writeUshort(data, offset, keys.length);\r\n    offset += 2;\r\n    let eoff = offset + (12 * keys.length) + 4;\r\n    for (const key of keys) {\r\n        let tag = null;\r\n        if (typeof key === 'number') {\r\n            tag = key;\r\n        }\r\n        else if (typeof key === 'string') {\r\n            tag = parseInt(key, 10);\r\n        }\r\n        const typeName = fieldTagTypes[tag];\r\n        const typeNum = typeName2byte[typeName];\r\n        if (typeName == null || typeName === undefined || typeof typeName === 'undefined') {\r\n            throw new Error(`unknown type of tag: ${tag}`);\r\n        }\r\n        let val = ifd[key];\r\n        if (val === undefined) {\r\n            throw new Error(`failed to get value for key ${key}`);\r\n        }\r\n        // ASCIIZ format with trailing 0 character\r\n        // http://www.fileformat.info/format/tiff/corion.htm\r\n        // https://stackoverflow.com/questions/7783044/whats-the-difference-between-asciiz-vs-ascii\r\n        if (typeName === 'ASCII' && typeof val === 'string' && endsWith(val, '\\u0000') === false) {\r\n            val += '\\u0000';\r\n        }\r\n        const num = val.length;\r\n        bin.writeUshort(data, offset, tag);\r\n        offset += 2;\r\n        bin.writeUshort(data, offset, typeNum);\r\n        offset += 2;\r\n        bin.writeUint(data, offset, num);\r\n        offset += 4;\r\n        let dlen = [-1, 1, 1, 2, 4, 8, 0, 0, 0, 0, 0, 0, 8][typeNum] * num;\r\n        let toff = offset;\r\n        if (dlen > 4) {\r\n            bin.writeUint(data, offset, eoff);\r\n            toff = eoff;\r\n        }\r\n        if (typeName === 'ASCII') {\r\n            bin.writeASCII(data, toff, val);\r\n        }\r\n        else if (typeName === 'SHORT') {\r\n            times(num, (i) => {\r\n                bin.writeUshort(data, toff + (2 * i), val[i]);\r\n            });\r\n        }\r\n        else if (typeName === 'LONG') {\r\n            times(num, (i) => {\r\n                bin.writeUint(data, toff + (4 * i), val[i]);\r\n            });\r\n        }\r\n        else if (typeName === 'RATIONAL') {\r\n            times(num, (i) => {\r\n                bin.writeUint(data, toff + (8 * i), Math.round(val[i] * 10000));\r\n                bin.writeUint(data, toff + (8 * i) + 4, 10000);\r\n            });\r\n        }\r\n        else if (typeName === 'DOUBLE') {\r\n            times(num, (i) => {\r\n                bin.writeDouble(data, toff + (8 * i), val[i]);\r\n            });\r\n        }\r\n        if (dlen > 4) {\r\n            dlen += (dlen & 1);\r\n            eoff += dlen;\r\n        }\r\n        offset += 4;\r\n    }\r\n    return [offset, eoff];\r\n};\r\nconst encodeIfds = (ifds) => {\r\n    const data = new Uint8Array(numBytesInIfd);\r\n    let offset = 4;\r\n    const bin = _binBE;\r\n    // set big-endian byte-order\r\n    // https://en.wikipedia.org/wiki/TIFF#Byte_order\r\n    data[0] = 77;\r\n    data[1] = 77;\r\n    // set format-version number\r\n    // https://en.wikipedia.org/wiki/TIFF#Byte_order\r\n    data[3] = 42;\r\n    let ifdo = 8;\r\n    bin.writeUint(data, offset, ifdo);\r\n    offset += 4;\r\n    ifds.forEach((ifd, i) => {\r\n        const noffs = _writeIFD(bin, data, ifdo, ifd);\r\n        ifdo = noffs[1];\r\n        if (i < ifds.length - 1) {\r\n            bin.writeUint(data, noffs[0], ifdo);\r\n        }\r\n    });\r\n    if (data.slice) {\r\n        return data.slice(0, ifdo).buffer;\r\n    }\r\n    // node hasn't implemented slice on Uint8Array yet\r\n    const result = new Uint8Array(ifdo);\r\n    for (let i = 0; i < ifdo; i++) {\r\n        result[i] = data[i];\r\n    }\r\n    return result.buffer;\r\n};\r\nconst encodeImage = (values, width, height, metadata) => {\r\n    if (height === undefined || height === null) {\r\n        throw new Error(`you passed into encodeImage a width of type ${height}`);\r\n    }\r\n    if (width === undefined || width === null) {\r\n        throw new Error(`you passed into encodeImage a width of type ${width}`);\r\n    }\r\n    const ifd = {\r\n        256: [width], // ImageWidth\r\n        257: [height], // ImageLength\r\n        273: [numBytesInIfd], // strips offset\r\n        278: [height], // RowsPerStrip\r\n        305: 'geotiff.js', // no array for ASCII(Z)\r\n    };\r\n    if (metadata) {\r\n        for (const i in metadata) {\r\n            if (metadata.hasOwnProperty(i)) {\r\n                ifd[i] = metadata[i];\r\n            }\r\n        }\r\n    }\r\n    const prfx = new Uint8Array(encodeIfds([ifd]));\r\n    const samplesPerPixel = ifd[tags.SamplesPerPixel];\r\n    const dataType = values.constructor.name;\r\n    const TypedArray = typeMap[dataType];\r\n    // default for Float64\r\n    let elementSize = 8;\r\n    if (TypedArray) {\r\n        elementSize = TypedArray.BYTES_PER_ELEMENT;\r\n    }\r\n    const data = new Uint8Array(numBytesInIfd + (values.length * elementSize * samplesPerPixel));\r\n    times(prfx.length, (i) => {\r\n        data[i] = prfx[i];\r\n    });\r\n    forEach(values, (value, i) => {\r\n        if (!TypedArray) {\r\n            data[numBytesInIfd + i] = value;\r\n            return;\r\n        }\r\n        const buffer = new ArrayBuffer(elementSize);\r\n        const view = new DataView(buffer);\r\n        if (dataType === 'Float64Array') {\r\n            view.setFloat64(0, value, false);\r\n        }\r\n        else if (dataType === 'Float32Array') {\r\n            view.setFloat32(0, value, false);\r\n        }\r\n        else if (dataType === 'Uint32Array') {\r\n            view.setUint32(0, value, false);\r\n        }\r\n        else if (dataType === 'Uint16Array') {\r\n            view.setUint16(0, value, false);\r\n        }\r\n        else if (dataType === 'Uint8Array') {\r\n            view.setUint8(0, value);\r\n        }\r\n        const typedArray = new Uint8Array(view.buffer);\r\n        const idx = numBytesInIfd + (i * elementSize);\r\n        for (let j = 0; j < elementSize; j++) {\r\n            data[idx + j] = typedArray[j];\r\n        }\r\n    });\r\n    return data.buffer;\r\n};\r\nconst convertToTids = (input) => {\r\n    const result = {};\r\n    for (const key in input) {\r\n        if (key !== 'StripOffsets') {\r\n            if (!name2code[key]) {\r\n                console.error(key, 'not in name2code:', Object.keys(name2code));\r\n            }\r\n            result[name2code[key]] = input[key];\r\n        }\r\n    }\r\n    return result;\r\n};\r\nconst toArray = (input) => {\r\n    if (Array.isArray(input)) {\r\n        return input;\r\n    }\r\n    return [input];\r\n};\r\nconst metadataDefaults = [\r\n    ['Compression', 1], // no compression\r\n    ['PlanarConfiguration', 1],\r\n    ['ExtraSamples', 0],\r\n];\r\nexport function writeGeotiff(data, metadata) {\r\n    const isFlattened = typeof data[0] === 'number';\r\n    let height;\r\n    let numBands;\r\n    let width;\r\n    let flattenedValues;\r\n    if (isFlattened) {\r\n        height = metadata.height || metadata.ImageLength;\r\n        width = metadata.width || metadata.ImageWidth;\r\n        numBands = data.length / (height * width);\r\n        flattenedValues = data;\r\n    }\r\n    else {\r\n        numBands = data.length;\r\n        height = data[0].length;\r\n        width = data[0][0].length;\r\n        flattenedValues = [];\r\n        times(height, (rowIndex) => {\r\n            times(width, (columnIndex) => {\r\n                times(numBands, (bandIndex) => {\r\n                    flattenedValues.push(data[bandIndex][rowIndex][columnIndex]);\r\n                });\r\n            });\r\n        });\r\n    }\r\n    metadata.ImageLength = height;\r\n    delete metadata.height;\r\n    metadata.ImageWidth = width;\r\n    delete metadata.width;\r\n    // consult https://www.loc.gov/preservation/digital/formats/content/tiff_tags.shtml\r\n    if (!metadata.BitsPerSample) {\r\n        let bitsPerSample = 8;\r\n        if (ArrayBuffer.isView(flattenedValues)) {\r\n            bitsPerSample = 8 * Object.getPrototypeOf(flattenedValues).BYTES_PER_ELEMENT;\r\n        }\r\n        metadata.BitsPerSample = times(numBands, () => bitsPerSample);\r\n    }\r\n    metadataDefaults.forEach((tag) => {\r\n        const key = tag[0];\r\n        if (!metadata[key]) {\r\n            const value = tag[1];\r\n            metadata[key] = value;\r\n        }\r\n    });\r\n    // The color space of the image data.\r\n    // 1=black is zero and 2=RGB.\r\n    if (!metadata.PhotometricInterpretation) {\r\n        metadata.PhotometricInterpretation = metadata.BitsPerSample.length === 3 ? 2 : 1;\r\n    }\r\n    // The number of components per pixel.\r\n    if (!metadata.SamplesPerPixel) {\r\n        metadata.SamplesPerPixel = [numBands];\r\n    }\r\n    if (!metadata.StripByteCounts) {\r\n        // we are only writing one strip\r\n        // default for Float64\r\n        let elementSize = 8;\r\n        if (ArrayBuffer.isView(flattenedValues)) {\r\n            elementSize = Object.getPrototypeOf(flattenedValues).BYTES_PER_ELEMENT;\r\n        }\r\n        metadata.StripByteCounts = [numBands * elementSize * height * width];\r\n    }\r\n    if (!metadata.ModelPixelScale && !metadata.ModelTransformation) {\r\n        // assumes raster takes up exactly the whole globe\r\n        metadata.ModelPixelScale = [360 / width, 180 / height, 0];\r\n    }\r\n    if (!metadata.SampleFormat) {\r\n        let sampleFormat = 1;\r\n        if (isTypedFloatArray(flattenedValues)) {\r\n            sampleFormat = 3;\r\n        }\r\n        if (isTypedIntArray(flattenedValues)) {\r\n            sampleFormat = 2;\r\n        }\r\n        if (isTypedUintArray(flattenedValues)) {\r\n            sampleFormat = 1;\r\n        }\r\n        metadata.SampleFormat = times(numBands, () => sampleFormat);\r\n    }\r\n    // if didn't pass in projection information, assume the popular 4326 \"geographic projection\"\r\n    if (!metadata.hasOwnProperty('GeographicTypeGeoKey') && !metadata.hasOwnProperty('ProjectedCSTypeGeoKey')) {\r\n        metadata.GeographicTypeGeoKey = 4326;\r\n        if (!metadata.ModelTransformation) {\r\n            metadata.ModelTiepoint = [0, 0, 0, -180, 90, 0]; // raster fits whole globe\r\n        }\r\n        metadata.GeogCitationGeoKey = 'WGS 84';\r\n        metadata.GTModelTypeGeoKey = 2;\r\n    }\r\n    const geoKeys = Object.keys(metadata)\r\n        .filter((key) => endsWith(key, 'GeoKey'))\r\n        .sort((a, b) => name2code[a] - name2code[b]);\r\n    // If not provided, build GeoKeyDirectory as well as GeoAsciiParamsTag and GeoDoubleParamsTag\r\n    // if GeoAsciiParams/GeoDoubleParams were passed in, we assume offsets are already correct\r\n    // Spec http://geotiff.maptools.org/spec/geotiff2.4.html\r\n    if (!metadata.GeoKeyDirectory) {\r\n        // Only build ASCII / DOUBLE params if not provided\r\n        let geoAsciiParams = metadata.GeoAsciiParams || '';\r\n        let currentAsciiOffset = geoAsciiParams.length;\r\n        const geoDoubleParams = metadata.GeoDoubleParams || [];\r\n        let currentDoubleIndex = geoDoubleParams.length;\r\n        // Since geoKeys already sorted and filtered, do a single pass to append to corresponding directory for SHORT/ASCII/DOUBLE\r\n        const GeoKeyDirectory = [1, 1, 0, 0];\r\n        let validKeys = 0;\r\n        geoKeys.forEach((geoKey) => {\r\n            const KeyID = Number(name2code[geoKey]);\r\n            const tagType = fieldTagTypes[KeyID];\r\n            const val = metadata[geoKey];\r\n            if (val === undefined) {\r\n                return;\r\n            }\r\n            let Count;\r\n            let TIFFTagLocation;\r\n            let valueOffset;\r\n            if (tagType === 'SHORT') {\r\n                Count = 1;\r\n                TIFFTagLocation = 0;\r\n                valueOffset = val;\r\n            }\r\n            else if (tagType === 'ASCII') {\r\n                if (!metadata.GeoAsciiParams) {\r\n                    const valStr = `${val.toString()}\\u0000`;\r\n                    TIFFTagLocation = Number(name2code.GeoAsciiParams); // 34737\r\n                    valueOffset = currentAsciiOffset;\r\n                    Count = valStr.length;\r\n                    geoAsciiParams += valStr;\r\n                    currentAsciiOffset += valStr.length;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            else if (tagType === 'DOUBLE') {\r\n                if (!metadata.GeoDoubleParams) {\r\n                    const arr = toArray(val);\r\n                    TIFFTagLocation = Number(name2code.GeoDoubleParams); // 34736\r\n                    valueOffset = currentDoubleIndex;\r\n                    Count = arr.length;\r\n                    arr.forEach((v) => {\r\n                        geoDoubleParams.push(Number(v));\r\n                        currentDoubleIndex++;\r\n                    });\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                console.warn(`[geotiff.js] couldn't get TIFFTagLocation for ${geoKey}`);\r\n                return;\r\n            }\r\n            GeoKeyDirectory.push(KeyID, TIFFTagLocation, Count, valueOffset);\r\n            validKeys++;\r\n        });\r\n        // Write GeoKeyDirectory, GeoAsciiParams, GeoDoubleParams\r\n        GeoKeyDirectory[3] = validKeys;\r\n        metadata.GeoKeyDirectory = GeoKeyDirectory;\r\n        if (!metadata.GeoAsciiParams && geoAsciiParams.length > 0) {\r\n            metadata.GeoAsciiParams = geoAsciiParams;\r\n        }\r\n        if (!metadata.GeoDoubleParams && geoDoubleParams.length > 0) {\r\n            metadata.GeoDoubleParams = geoDoubleParams;\r\n        }\r\n    }\r\n    // cleanup original GeoKeys metadata, because stored in GeoKeyDirectory tag\r\n    for (const geoKey of geoKeys) {\r\n        if (metadata.hasOwnProperty(geoKey)) {\r\n            delete metadata[geoKey];\r\n        }\r\n    }\r\n    [\r\n        'Compression',\r\n        'ExtraSamples',\r\n        'GeographicTypeGeoKey',\r\n        'GTModelTypeGeoKey',\r\n        'GTRasterTypeGeoKey',\r\n        'ImageLength', // synonym of ImageHeight\r\n        'ImageWidth',\r\n        'Orientation',\r\n        'PhotometricInterpretation',\r\n        'ProjectedCSTypeGeoKey',\r\n        'PlanarConfiguration',\r\n        'ResolutionUnit',\r\n        'SamplesPerPixel',\r\n        'XPosition',\r\n        'YPosition',\r\n        'RowsPerStrip',\r\n    ].forEach((name) => {\r\n        if (metadata[name]) {\r\n            metadata[name] = toArray(metadata[name]);\r\n        }\r\n    });\r\n    const encodedMetadata = convertToTids(metadata);\r\n    const outputImage = encodeImage(flattenedValues, width, height, encodedMetadata);\r\n    return outputImage;\r\n}\r\n", "/**\r\n * A no-op logger\r\n */\r\nclass DummyLogger {\r\n    log(..._args) { }\r\n    debug(..._args) { }\r\n    info(..._args) { }\r\n    warn(..._args) { }\r\n    error(..._args) { }\r\n    time(..._args) { }\r\n    timeEnd(..._args) { }\r\n}\r\nlet LOGGER = new DummyLogger();\r\n/**\r\n *\r\n * @param {object} logger the new logger. e.g `console`\r\n */\r\nexport function setLogger(logger = new DummyLogger()) {\r\n    LOGGER = logger;\r\n}\r\nexport function debug(...args) {\r\n    return LOGGER.debug(...args);\r\n}\r\nexport function log(...args) {\r\n    return LOGGER.log(...args);\r\n}\r\nexport function info(...args) {\r\n    return LOGGER.info(...args);\r\n}\r\nexport function warn(...args) {\r\n    return LOGGER.warn(...args);\r\n}\r\nexport function error(...args) {\r\n    return LOGGER.error(...args);\r\n}\r\nexport function time(...args) {\r\n    return LOGGER.time(...args);\r\n}\r\nexport function timeEnd(...args) {\r\n    return LOGGER.timeEnd(...args);\r\n}\r\n", "/** @module geotiff */\r\nimport GeoTIFFImage from './geotiffimage.js';\r\nimport DataView64 from './dataview64.js';\r\nimport DataSlice from './dataslice.js';\r\nimport Pool from './pool.js';\r\nimport { makeRemoteSource, makeCustomSource } from './source/remote.js';\r\nimport { makeBufferSource } from './source/arraybuffer.js';\r\nimport { makeFileReaderSource } from './source/filereader.js';\r\nimport { makeFileSource } from './source/file.js';\r\nimport { BaseClient, BaseResponse } from './source/client/base.js';\r\nimport { ImageFileDirectoryParser } from './imagefiledirectory.js';\r\nimport { fieldTypes, getFieldTypeSize, registerTag } from './globals.js';\r\nimport { writeGeotiff } from './geotiffwriter.js';\r\nimport * as globals from './globals.js';\r\nimport * as rgb from './rgb.js';\r\nimport { getDecoder, addDecoder } from './compression/index.js';\r\nimport { setLogger } from './logging.js';\r\n/** @import { BaseSource } from './source/basesource.js' */\r\nexport { globals };\r\nexport { registerTag };\r\nexport { rgb };\r\nexport { default as BaseDecoder } from './compression/basedecoder.js';\r\nexport { getDecoder, addDecoder };\r\nexport { setLogger };\r\nexport { ImageFileDirectory } from './imagefiledirectory.js';\r\n/**\r\n * @typedef {Uint8Array | Int8Array | Uint16Array | Int16Array | Uint32Array | Int32Array | Float32Array | Float64Array}\r\n * TypedArray\r\n */\r\n/**\r\n * @typedef {{ height:number, width: number }} Dimensions\r\n */\r\n/**\r\n * The autogenerated docs are a little confusing here. The effective type is:\r\n *\r\n * `TypedArray & { height: number; width: number}`\r\n * @typedef {TypedArray & Dimensions} TypedArrayWithDimensions\r\n */\r\n/**\r\n * The autogenerated docs are a little confusing here. The effective type is:\r\n *\r\n * `TypedArray[] & { height: number; width: number}`\r\n * @typedef {TypedArray[] & Dimensions} TypedArrayArrayWithDimensions\r\n */\r\n/**\r\n *  The autogenerated docs are a little confusing here. The effective type is:\r\n *\r\n * `(TypedArray | TypedArray[]) & { height: number; width: number}`\r\n * @typedef {TypedArrayWithDimensions | TypedArrayArrayWithDimensions} ReadRasterResult\r\n */\r\n/**\r\n * @typedef {Object} DecoderWorker\r\n * Use the {@link Pool.bindParameters} method to get a decoder worker for\r\n * a specific compression and its parameters.\r\n *\r\n * @property {(buffer: ArrayBuffer) => Promise<ArrayBuffer>} decode\r\n *   A function that takes a compressed buffer and returns a promise resolving to the decoded buffer.\r\n */\r\n/**\r\n * @typedef {Object} ReadRastersOptions\r\n * @property {Array<number>} [window] the subset to read data from in pixels. Whole window if not specified.\r\n * @property {Array<number>} [samples] the selection of samples to read from. Default is all samples.\r\n *     All samples if not specified.\r\n * @property {Pool|null} [pool=null] The optional decoder pool to use.\r\n * @property {number} [width] The desired width of the output. When the width is not the\r\n *                                 same as the images, resampling will be performed.\r\n * @property {number} [height] The desired height of the output. When the width is not the\r\n *                                  same as the images, resampling will be performed.\r\n * @property {string} [resampleMethod='nearest'] The desired resampling method.\r\n * @property {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\r\n *                                       to be aborted\r\n * @property {number|number[]} [fillValue] The value to use for parts of the image\r\n *     outside of the images extent. When multiple samples are requested and `interleave` is\r\n *     `false`, an array of fill values can be passed.\r\n * @property {boolean|true|false} [interleave] whether the data shall be read\r\n *     in one single array or separate arrays.\r\n */\r\n/**\r\n * @typedef {Object} ReadRGBOptions\r\n * @property {Array<number>} [window] the subset to read data from in pixels. Whole window if not specified.\r\n * @property {Pool|null} [pool=null] The optional decoder pool to use.\r\n * @property {number} [width] The desired width of the output. When the width is no the\r\n *                                 same as the images, resampling will be performed.\r\n * @property {number} [height] The desired height of the output. When the width is no the\r\n *                                  same as the images, resampling will be performed.\r\n * @property {string} [resampleMethod='nearest'] The desired resampling method.\r\n * @property {boolean} [enableAlpha=false] Enable reading alpha channel if present.\r\n * @property {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\r\n *                                       to be aborted\r\n * @property {boolean|true|false} [interleave] whether the data shall be read\r\n *     in one single array or separate arrays.\r\n */\r\n/**\r\n * @typedef {Object} BlockedSourceOptions\r\n * @property {number|null} [blockSize=null] Block size for a BlockedSource.\r\n * @property {number} [cacheSize=100] The number of blocks to cache.\r\n */\r\n/**\r\n * @typedef {Object} RemoteSourceOptions\r\n * @property {Object} [headers={}] Additional headers to add to each request\r\n * @property {number} [maxRanges=0] Maximum number of ranges to request in a single HTTP request. 0 means no multi-range requests.\r\n * @property {boolean} [allowFullFile=false] Whether to allow full file responses when requesting ranges\r\n * @property {boolean} [forceXHR=false] When the Fetch API would be used, force using XMLHttpRequest instead.\r\n */\r\n/**\r\n * @overload\r\n * @param {DataSlice} dataSlice\r\n * @param {0x0002} fieldType\r\n * @param {number} count\r\n * @param {number} offset\r\n * @returns {string}\r\n */\r\n/**\r\n * @param {DataSlice} dataSlice\r\n * @param {import('./globals.js').FieldType} fieldType\r\n * @param {number} count\r\n * @param {number} offset\r\n * @returns {TypedArray|Array<number>|string}\r\n */\r\nfunction getValues(dataSlice, fieldType, count, offset) {\r\n    /** @type {TypedArray|Array|null} */\r\n    let values = null;\r\n    let readMethod = null;\r\n    const fieldTypeLength = getFieldTypeSize(fieldType);\r\n    switch (fieldType) {\r\n        case fieldTypes.BYTE:\r\n        case fieldTypes.ASCII:\r\n        case fieldTypes.UNDEFINED:\r\n            values = new Uint8Array(count);\r\n            readMethod = dataSlice.readUint8;\r\n            break;\r\n        case fieldTypes.SBYTE:\r\n            values = new Int8Array(count);\r\n            readMethod = dataSlice.readInt8;\r\n            break;\r\n        case fieldTypes.SHORT:\r\n            values = new Uint16Array(count);\r\n            readMethod = dataSlice.readUint16;\r\n            break;\r\n        case fieldTypes.SSHORT:\r\n            values = new Int16Array(count);\r\n            readMethod = dataSlice.readInt16;\r\n            break;\r\n        case fieldTypes.LONG:\r\n        case fieldTypes.IFD:\r\n            values = new Uint32Array(count);\r\n            readMethod = dataSlice.readUint32;\r\n            break;\r\n        case fieldTypes.SLONG:\r\n            values = new Int32Array(count);\r\n            readMethod = dataSlice.readInt32;\r\n            break;\r\n        case fieldTypes.LONG8:\r\n        case fieldTypes.IFD8:\r\n            values = new Array(count);\r\n            readMethod = dataSlice.readUint64;\r\n            break;\r\n        case fieldTypes.SLONG8:\r\n            values = new Array(count);\r\n            readMethod = dataSlice.readInt64;\r\n            break;\r\n        case fieldTypes.RATIONAL:\r\n            values = new Uint32Array(count * 2);\r\n            readMethod = dataSlice.readUint32;\r\n            break;\r\n        case fieldTypes.SRATIONAL:\r\n            values = new Int32Array(count * 2);\r\n            readMethod = dataSlice.readInt32;\r\n            break;\r\n        case fieldTypes.FLOAT:\r\n            values = new Float32Array(count);\r\n            readMethod = dataSlice.readFloat32;\r\n            break;\r\n        case fieldTypes.DOUBLE:\r\n            values = new Float64Array(count);\r\n            readMethod = dataSlice.readFloat64;\r\n            break;\r\n        default:\r\n        // will throw below\r\n    }\r\n    if (values === null || readMethod === null) {\r\n        throw new RangeError(`Invalid field type: ${fieldType}`);\r\n    }\r\n    // normal fields\r\n    if (!(fieldType === fieldTypes.RATIONAL || fieldType === fieldTypes.SRATIONAL)) {\r\n        for (let i = 0; i < count; ++i) {\r\n            values[i] = readMethod.call(dataSlice, offset + (i * fieldTypeLength));\r\n        }\r\n    }\r\n    else { // RATIONAL or SRATIONAL\r\n        for (let i = 0; i < count; i += 2) {\r\n            values[i] = readMethod.call(dataSlice, offset + (i * fieldTypeLength));\r\n            values[i + 1] = readMethod.call(dataSlice, offset + ((i * fieldTypeLength) + 4));\r\n        }\r\n    }\r\n    if (fieldType === fieldTypes.ASCII) {\r\n        return new TextDecoder('utf-8').decode(/** @type {Uint8Array} */ (values));\r\n    }\r\n    return values;\r\n}\r\n/**\r\n * Error class for cases when an IFD index was requested, that does not exist\r\n * in the file.\r\n */\r\nclass GeoTIFFImageIndexError extends Error {\r\n    constructor(index) {\r\n        super(`No image at index ${index}`);\r\n        this.index = index;\r\n    }\r\n}\r\nclass GeoTIFFBase {\r\n    /**\r\n     * @param {number} [_index=0] the index of the image to return.\r\n     * @returns {Promise<GeoTIFFImage>} the image at the given index\r\n     */\r\n    async getImage(_index = 0) {\r\n        throw new Error('Not implemented');\r\n    }\r\n    /**\r\n     * @returns {Promise<number>} the number of internal subfile images\r\n     */\r\n    async getImageCount() {\r\n        throw new Error('Not implemented');\r\n    }\r\n    /**\r\n     * @typedef {Object} ReadRastersWindowOptions\r\n     * @property {number} [resX] desired Y resolution (world units per pixel)\r\n     * @property {number} [resY] desired X resolution (world units per pixel)\r\n     * @property {Array<number>} [bbox] the subset to read data from in\r\n     *     geographical coordinates. Whole image if not specified.\r\n     */\r\n    /**\r\n     * (experimental) Reads raster data from the best fitting image. This function uses\r\n     * the image with the lowest resolution that is still a higher resolution than the\r\n     * requested resolution.\r\n     * When specified, the `bbox` option is translated to the `window` option and the\r\n     * `resX` and `resY` to `width` and `height` respectively.\r\n     * Then, the [readRasters]{@link GeoTIFFImage#readRasters} method of the selected\r\n     * image is called and the result returned.\r\n     * @see GeoTIFFImage.readRasters\r\n     * @param {ReadRastersOptions & ReadRastersWindowOptions} options optional parameters\r\n     * @returns {Promise<ReadRasterResult>} the decoded array(s), with `height` and `width`, as a promise\r\n     */\r\n    async readRasters(options = {}) {\r\n        const { window: imageWindow, width, height } = options;\r\n        let { resX, resY, bbox } = options;\r\n        const firstImage = await this.getImage();\r\n        let usedImage = firstImage;\r\n        const imageCount = await this.getImageCount();\r\n        const imgBBox = firstImage.getBoundingBox();\r\n        if (imageWindow && bbox) {\r\n            throw new Error('Both \"bbox\" and \"window\" passed.');\r\n        }\r\n        // if width/height is passed, transform it to resolution\r\n        if (width || height) {\r\n            // if we have an image window (pixel coordinates), transform it to a BBox\r\n            // using the origin/resolution of the first image.\r\n            if (imageWindow) {\r\n                const [oX, oY] = firstImage.getOrigin();\r\n                const [rX, rY] = firstImage.getResolution();\r\n                bbox = [\r\n                    oX + (imageWindow[0] * rX),\r\n                    oY + (imageWindow[1] * rY),\r\n                    oX + (imageWindow[2] * rX),\r\n                    oY + (imageWindow[3] * rY),\r\n                ];\r\n            }\r\n            // if we have a bbox (or calculated one)\r\n            const usedBBox = bbox || imgBBox;\r\n            if (width) {\r\n                if (resX) {\r\n                    throw new Error('Both width and resX passed');\r\n                }\r\n                resX = (usedBBox[2] - usedBBox[0]) / width;\r\n            }\r\n            if (height) {\r\n                if (resY) {\r\n                    throw new Error('Both width and resY passed');\r\n                }\r\n                resY = (usedBBox[3] - usedBBox[1]) / height;\r\n            }\r\n        }\r\n        // if resolution is set or calculated, try to get the image with the worst acceptable resolution\r\n        if (resX || resY) {\r\n            const allImages = [];\r\n            for (let i = 0; i < imageCount; ++i) {\r\n                const image = await this.getImage(i);\r\n                const subfileType = image.fileDirectory.getValue('SubfileType');\r\n                const newSubfileType = image.fileDirectory.getValue('NewSubfileType');\r\n                if (i === 0 || subfileType === 2 || newSubfileType & 1) {\r\n                    allImages.push(image);\r\n                }\r\n            }\r\n            allImages.sort((a, b) => a.getWidth() - b.getWidth());\r\n            for (let i = 0; i < allImages.length; ++i) {\r\n                const image = allImages[i];\r\n                const imgResX = (imgBBox[2] - imgBBox[0]) / image.getWidth();\r\n                const imgResY = (imgBBox[3] - imgBBox[1]) / image.getHeight();\r\n                usedImage = image;\r\n                if ((resX && resX > imgResX) || (resY && resY > imgResY)) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        let wnd = imageWindow;\r\n        if (bbox) {\r\n            const [oX, oY] = firstImage.getOrigin();\r\n            const [imageResX, imageResY] = usedImage.getResolution(firstImage);\r\n            wnd = [\r\n                Math.round((bbox[0] - oX) / imageResX),\r\n                Math.round((bbox[1] - oY) / imageResY),\r\n                Math.round((bbox[2] - oX) / imageResX),\r\n                Math.round((bbox[3] - oY) / imageResY),\r\n            ];\r\n            wnd = [\r\n                Math.min(wnd[0], wnd[2]),\r\n                Math.min(wnd[1], wnd[3]),\r\n                Math.max(wnd[0], wnd[2]),\r\n                Math.max(wnd[1], wnd[3]),\r\n            ];\r\n        }\r\n        return usedImage.readRasters({ ...options, window: wnd });\r\n    }\r\n}\r\n/**\r\n * @typedef {Object} GeoTIFFOptions\r\n * @property {boolean} [cache=false] whether or not decoded tiles shall be cached.\r\n */\r\n/**\r\n * The abstraction for a whole GeoTIFF file.\r\n */\r\nclass GeoTIFF extends GeoTIFFBase {\r\n    /**\r\n     * @constructor\r\n     * @param {BaseSource} source The datasource to read from.\r\n     * @param {boolean} littleEndian Whether the image uses little endian.\r\n     * @param {boolean} bigTiff Whether the image uses bigTIFF conventions.\r\n     * @param {number} firstIFDOffset The numeric byte-offset from the start of the image\r\n     *                                to the first IFD.\r\n     * @param {GeoTIFFOptions} [options] further options.\r\n     */\r\n    constructor(source, littleEndian, bigTiff, firstIFDOffset, options = {}) {\r\n        super();\r\n        this.source = source;\r\n        this.parser = new ImageFileDirectoryParser(source, littleEndian, bigTiff, false);\r\n        this.littleEndian = littleEndian;\r\n        this.bigTiff = bigTiff;\r\n        this.firstIFDOffset = firstIFDOffset;\r\n        this.cache = options.cache || false;\r\n        this.ifdRequests = [];\r\n        this.ghostValues = null;\r\n    }\r\n    async getSlice(offset, size) {\r\n        const fallbackSize = this.bigTiff ? 4048 : 1024;\r\n        return new DataSlice((await this.source.fetch([{\r\n                offset,\r\n                length: typeof size !== 'undefined' ? size : fallbackSize,\r\n            }]))[0], offset, this.littleEndian, this.bigTiff);\r\n    }\r\n    async requestIFD(index) {\r\n        // see if we already have that IFD index requested.\r\n        if (this.ifdRequests[index]) {\r\n            // attach to an already requested IFD\r\n            return this.ifdRequests[index];\r\n        }\r\n        else if (index === 0) {\r\n            // special case for index 0\r\n            this.ifdRequests[index] = this.parser.parseFileDirectoryAt(this.firstIFDOffset);\r\n            return this.ifdRequests[index];\r\n        }\r\n        else if (!this.ifdRequests[index - 1]) {\r\n            // if the previous IFD was not yet loaded, load that one first\r\n            // this is the recursive call.\r\n            try {\r\n                this.ifdRequests[index - 1] = this.requestIFD(index - 1);\r\n            }\r\n            catch (e) {\r\n                // if the previous one already was an index error, rethrow\r\n                // with the current index\r\n                if (e instanceof GeoTIFFImageIndexError) {\r\n                    throw new GeoTIFFImageIndexError(index);\r\n                }\r\n                // rethrow anything else\r\n                throw e;\r\n            }\r\n        }\r\n        // if the previous IFD was loaded, we can finally fetch the one we are interested in.\r\n        // we need to wrap this in an IIFE, otherwise this.ifdRequests[index] would be delayed\r\n        this.ifdRequests[index] = (async () => {\r\n            const previousIfd = await this.ifdRequests[index - 1];\r\n            if (previousIfd.nextIFDByteOffset === 0) {\r\n                throw new GeoTIFFImageIndexError(index);\r\n            }\r\n            return this.parser.parseFileDirectoryAt(previousIfd.nextIFDByteOffset);\r\n        })();\r\n        return this.ifdRequests[index];\r\n    }\r\n    /**\r\n     * Get the n-th internal subfile of an image. By default, the first is returned.\r\n     *\r\n     * @param {number} [index=0] the index of the image to return.\r\n     * @returns {Promise<GeoTIFFImage>} the image at the given index\r\n     */\r\n    async getImage(index = 0) {\r\n        return new GeoTIFFImage(await this.requestIFD(index), this.littleEndian, this.cache, this.source);\r\n    }\r\n    /**\r\n     * Returns the count of the internal subfiles.\r\n     *\r\n     * @returns {Promise<number>} the number of internal subfile images\r\n     */\r\n    async getImageCount() {\r\n        let index = 0;\r\n        // loop until we run out of IFDs\r\n        let hasNext = true;\r\n        while (hasNext) {\r\n            try {\r\n                await this.requestIFD(index);\r\n                ++index;\r\n            }\r\n            catch (e) {\r\n                if (e instanceof GeoTIFFImageIndexError) {\r\n                    hasNext = false;\r\n                }\r\n                else {\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n    /**\r\n     * Get the values of the COG ghost area as a parsed map.\r\n     * See https://gdal.org/drivers/raster/cog.html#header-ghost-area for reference\r\n     * @returns {Promise<Object>} the parsed ghost area or null, if no such area was found\r\n     */\r\n    async getGhostValues() {\r\n        const offset = this.bigTiff ? 16 : 8;\r\n        if (this.ghostValues) {\r\n            return this.ghostValues;\r\n        }\r\n        const detectionString = 'GDAL_STRUCTURAL_METADATA_SIZE=';\r\n        const heuristicAreaSize = detectionString.length + 100;\r\n        let slice = await this.getSlice(offset, heuristicAreaSize);\r\n        if (detectionString === getValues(slice, fieldTypes.ASCII, detectionString.length, offset)) {\r\n            const valuesString = getValues(slice, fieldTypes.ASCII, heuristicAreaSize, offset);\r\n            const firstLine = valuesString.split('\\n')[0];\r\n            const metadataSize = Number(firstLine.split('=')[1].split(' ')[0]) + firstLine.length;\r\n            if (metadataSize > heuristicAreaSize) {\r\n                slice = await this.getSlice(offset, metadataSize);\r\n            }\r\n            const fullString = getValues(slice, fieldTypes.ASCII, metadataSize, offset);\r\n            /** @type {Object} */\r\n            this.ghostValues = {};\r\n            fullString\r\n                .split('\\n')\r\n                .filter((line) => line.length > 0)\r\n                .map((line) => line.split('='))\r\n                .forEach(([key, value]) => {\r\n                this.ghostValues[key] = value;\r\n            });\r\n        }\r\n        return this.ghostValues;\r\n    }\r\n    /**\r\n     * Parse a (Geo)TIFF file from the given source.\r\n     *\r\n     * @param {BaseSource} source The source of data to parse from.\r\n     * @param {GeoTIFFOptions} [options] Additional options.\r\n     * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\r\n     *                               to be aborted\r\n     */\r\n    static async fromSource(source, options, signal) {\r\n        const headerData = (await source.fetch([{ offset: 0, length: 1024 }], signal))[0];\r\n        const dataView = new DataView64(headerData);\r\n        const BOM = dataView.getUint16(0, 0);\r\n        let littleEndian;\r\n        if (BOM === 0x4949) {\r\n            littleEndian = true;\r\n        }\r\n        else if (BOM === 0x4D4D) {\r\n            littleEndian = false;\r\n        }\r\n        else {\r\n            throw new TypeError('Invalid byte order value.');\r\n        }\r\n        const magicNumber = dataView.getUint16(2, littleEndian);\r\n        let bigTiff;\r\n        if (magicNumber === 42) {\r\n            bigTiff = false;\r\n        }\r\n        else if (magicNumber === 43) {\r\n            bigTiff = true;\r\n            const offsetByteSize = dataView.getUint16(4, littleEndian);\r\n            if (offsetByteSize !== 8) {\r\n                throw new Error('Unsupported offset byte-size.');\r\n            }\r\n        }\r\n        else {\r\n            throw new TypeError('Invalid magic number.');\r\n        }\r\n        const firstIFDOffset = bigTiff\r\n            ? dataView.getUint64(8, littleEndian)\r\n            : dataView.getUint32(4, littleEndian);\r\n        return new GeoTIFF(source, littleEndian, bigTiff, firstIFDOffset, options);\r\n    }\r\n    /**\r\n     * Closes the underlying file buffer\r\n     * N.B. After the GeoTIFF has been completely processed it needs\r\n     * to be closed but only if it has been constructed from a file.\r\n     */\r\n    close() {\r\n        if (typeof this.source.close === 'function') {\r\n            return this.source.close();\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexport { GeoTIFF };\r\nexport default GeoTIFF;\r\n/**\r\n * Wrapper for GeoTIFF files that have external overviews.\r\n * @augments GeoTIFFBase\r\n */\r\nclass MultiGeoTIFF extends GeoTIFFBase {\r\n    /**\r\n     * Construct a new MultiGeoTIFF from a main and several overview files.\r\n     * @param {GeoTIFF} mainFile The main GeoTIFF file.\r\n     * @param {GeoTIFF[]} overviewFiles An array of overview files.\r\n     */\r\n    constructor(mainFile, overviewFiles) {\r\n        super();\r\n        this.mainFile = mainFile;\r\n        this.overviewFiles = overviewFiles;\r\n        this.imageFiles = [mainFile].concat(overviewFiles);\r\n        this.fileDirectoriesPerFile = null;\r\n        this.fileDirectoriesPerFileParsing = null;\r\n        this.imageCount = null;\r\n    }\r\n    async parseFileDirectoriesPerFile() {\r\n        const requests = [this.mainFile.parser.parseFileDirectoryAt(this.mainFile.firstIFDOffset)]\r\n            .concat(this.overviewFiles.map((file) => file.parser.parseFileDirectoryAt(file.firstIFDOffset)));\r\n        this.fileDirectoriesPerFile = await Promise.all(requests);\r\n        return this.fileDirectoriesPerFile;\r\n    }\r\n    /**\r\n     * Get the n-th internal subfile of an image. By default, the first is returned.\r\n     *\r\n     * @param {number} [index=0] the index of the image to return.\r\n     * @returns {Promise<GeoTIFFImage>} the image at the given index\r\n     */\r\n    async getImage(index = 0) {\r\n        // Initialize this.imageCounts if not yet done\r\n        await this.getImageCount();\r\n        if (!this.imageCounts) {\r\n            throw new Error('Image counts not available');\r\n        }\r\n        await this.parseFileDirectoriesPerFile();\r\n        let visited = 0;\r\n        let relativeIndex = 0;\r\n        for (let i = 0; i < this.imageFiles.length; i++) {\r\n            const imageFile = this.imageFiles[i];\r\n            for (let ii = 0; ii < this.imageCounts[i]; ii++) {\r\n                if (index === visited) {\r\n                    return new GeoTIFFImage(await imageFile.requestIFD(relativeIndex), imageFile.littleEndian, imageFile.cache, imageFile.source);\r\n                }\r\n                visited++;\r\n                relativeIndex++;\r\n            }\r\n            relativeIndex = 0;\r\n        }\r\n        throw new RangeError('Invalid image index');\r\n    }\r\n    /**\r\n     * Returns the count of the internal subfiles.\r\n     *\r\n     * @returns {Promise<number>} the number of internal subfile images\r\n     */\r\n    async getImageCount() {\r\n        if (this.imageCount !== null) {\r\n            return this.imageCount;\r\n        }\r\n        const requests = [this.mainFile.getImageCount()]\r\n            .concat(this.overviewFiles.map((file) => file.getImageCount()));\r\n        this.imageCounts = await Promise.all(requests);\r\n        this.imageCount = this.imageCounts.reduce((count, ifds) => count + ifds, 0);\r\n        return this.imageCount;\r\n    }\r\n}\r\nexport { MultiGeoTIFF };\r\n/**\r\n * Creates a new GeoTIFF from a remote URL.\r\n * @param {string} url The URL to access the image from\r\n * @param {RemoteSourceOptions} [options] Additional options to pass to the source.\r\n *                           See {@link makeRemoteSource} for details.\r\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\r\n *                               to be aborted\r\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\r\n */\r\nexport async function fromUrl(url, options = {}, signal) {\r\n    return GeoTIFF.fromSource(makeRemoteSource(url, options), undefined, signal);\r\n}\r\n/**\r\n * Creates a new GeoTIFF from a custom {@link BaseClient}.\r\n * @param {BaseClient} client The client.\r\n * @param {RemoteSourceOptions} [options] Additional options to pass to the source.\r\n *                           See {@link makeRemoteSource} for details.\r\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\r\n *                               to be aborted\r\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\r\n */\r\nexport async function fromCustomClient(client, options = {}, signal) {\r\n    return GeoTIFF.fromSource(makeCustomSource(client, options), undefined, signal);\r\n}\r\n/**\r\n * Construct a new GeoTIFF from an\r\n * [ArrayBuffer]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer}.\r\n * @param {ArrayBuffer} arrayBuffer The data to read the file from.\r\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\r\n *                               to be aborted\r\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\r\n */\r\nexport async function fromArrayBuffer(arrayBuffer, signal) {\r\n    return GeoTIFF.fromSource(makeBufferSource(arrayBuffer), undefined, signal);\r\n}\r\n/**\r\n * Construct a GeoTIFF from a local file path. This uses the node\r\n * [filesystem API]{@link https://nodejs.org/api/fs.html} and is\r\n * not available on browsers.\r\n *\r\n * N.B. After the GeoTIFF has been completely processed it needs\r\n * to be closed but only if it has been constructed from a file.\r\n * @param {string} path The file path to read from.\r\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\r\n *                               to be aborted\r\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\r\n */\r\nexport async function fromFile(path, signal) {\r\n    return GeoTIFF.fromSource(makeFileSource(path), undefined, signal);\r\n}\r\n/**\r\n * Construct a GeoTIFF from an HTML\r\n * [Blob]{@link https://developer.mozilla.org/en-US/docs/Web/API/Blob} or\r\n * [File]{@link https://developer.mozilla.org/en-US/docs/Web/API/File}\r\n * object.\r\n * @param {Blob|File} blob The Blob or File object to read from.\r\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\r\n *                               to be aborted\r\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\r\n */\r\nexport async function fromBlob(blob, signal) {\r\n    return GeoTIFF.fromSource(makeFileReaderSource(blob), undefined, signal);\r\n}\r\n/**\r\n * Construct a MultiGeoTIFF from the given URLs.\r\n * @param {string} mainUrl The URL for the main file.\r\n * @param {string[]} overviewUrls An array of URLs for the overview images.\r\n * @param {RemoteSourceOptions} [options] Additional options to pass to the source.\r\n *                           See [makeRemoteSource]{@link module:source.makeRemoteSource}\r\n *                           for details.\r\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\r\n *                               to be aborted\r\n * @returns {Promise<MultiGeoTIFF>} The resulting MultiGeoTIFF file.\r\n */\r\nexport async function fromUrls(mainUrl, overviewUrls = [], options = {}, signal) {\r\n    const mainFile = await GeoTIFF.fromSource(makeRemoteSource(mainUrl, options), undefined, signal);\r\n    const overviewFiles = await Promise.all(overviewUrls.map((url) => GeoTIFF.fromSource(makeRemoteSource(url, options), undefined, signal)));\r\n    return new MultiGeoTIFF(mainFile, overviewFiles);\r\n}\r\n/**\r\n * Main creating function for GeoTIFF files.\r\n * @param {Array} values of pixel values\r\n * @param {Object} metadata\r\n * @returns {ArrayBuffer}\r\n */\r\nexport function writeArrayBuffer(values, metadata) {\r\n    return writeGeotiff(values, metadata);\r\n}\r\nexport { Pool };\r\nexport { GeoTIFFImage };\r\nexport { BaseClient, BaseResponse };\r\n", "/**\r\n * @module ol/source/GeoTIFF\r\n */\r\nimport {\r\n  Pool,\r\n  fromBlob as tiffFromBlob,\r\n  fromUrl as tiffFromUrl,\r\n  fromUrls as tiffFromUrls,\r\n  globals as geotiffGlobals,\r\n} from 'geotiff';\r\nimport {error as logError} from '../console.js';\r\nimport {applyTransform, getCenter, getIntersection} from '../extent.js';\r\nimport {clamp} from '../math.js';\r\nimport {fromCode as unitsFromCode} from '../proj/Units.js';\r\nimport {\r\n  Projection,\r\n  createTransformFromCoordinateTransform,\r\n  get as getCachedProjection,\r\n  toUserCoordinate,\r\n  toUserExtent,\r\n} from '../proj.js';\r\nimport TileGrid from '../tilegrid/TileGrid.js';\r\nimport {\r\n  apply as applyMatrix,\r\n  create as createMatrix,\r\n  makeInverse,\r\n  multiply as multiplyTransform,\r\n} from '../transform.js';\r\nimport DataTile from './DataTile.js';\r\n\r\n/**\r\n * Determine if an image type is a mask.\r\n * See https://www.awaresystems.be/imaging/tiff/tifftags/newsubfiletype.html\r\n * @param {GeoTIFFImage} image The image.\r\n * @return {boolean} The image is a mask.\r\n */\r\nfunction isMask(image) {\r\n  const type = image.fileDirectory.getValue('NewSubfileType') || 0;\r\n  return (type & 4) === 4;\r\n}\r\n\r\n/**\r\n * @param {true|false|'auto'} preference The convertToRGB option.\r\n * @param {GeoTIFFImage} image The image.\r\n * @return {boolean} Use the `image.readRGB()` method.\r\n */\r\nfunction readRGB(preference, image) {\r\n  if (!preference) {\r\n    return false;\r\n  }\r\n  if (preference === true) {\r\n    return true;\r\n  }\r\n  if (image.getSamplesPerPixel() !== 3) {\r\n    return false;\r\n  }\r\n  const interpretation = image.fileDirectory.getValue(\r\n    'PhotometricInterpretation',\r\n  );\r\n  const interpretations = geotiffGlobals.photometricInterpretations;\r\n  return (\r\n    interpretation === interpretations.CMYK ||\r\n    interpretation === interpretations.YCbCr ||\r\n    interpretation === interpretations.CIELab ||\r\n    interpretation === interpretations.ICCLab\r\n  );\r\n}\r\n\r\n/**\r\n * @typedef {Object} SourceInfo\r\n * @property {string} [url] URL for the source GeoTIFF.\r\n * @property {Array<string>} [overviews] List of any overview URLs, only applies if the url parameter is given.\r\n * @property {Blob} [blob] Blob containing the source GeoTIFF. `blob` and `url` are mutually exclusive.\r\n * @property {number} [min=0] The minimum source data value.  Rendered values are scaled from 0 to 1 based on\r\n * the configured min and max.  If not provided and raster statistics are available, those will be used instead.\r\n * If neither are available, the minimum for the data type will be used.  To disable this behavior, set\r\n * the `normalize` option to `false` in the constructor.\r\n * @property {number} [max] The maximum source data value.  Rendered values are scaled from 0 to 1 based on\r\n * the configured min and max.  If not provided and raster statistics are available, those will be used instead.\r\n * If neither are available, the maximum for the data type will be used.  To disable this behavior, set\r\n * the `normalize` option to `false` in the constructor.\r\n * @property {number} [nodata] Values to discard (overriding any nodata values in the metadata).\r\n * When provided, an additional alpha band will be added to the data.  Often the GeoTIFF metadata\r\n * will include information about nodata values, so you should only need to set this property if\r\n * you find that it is not already extracted from the metadata.\r\n * @property {Array<number>} [bands] Band numbers to be read from (where the first band is `1`). If not provided, all bands will\r\n * be read. For example, if a GeoTIFF has blue (1), green (2), red (3), and near-infrared (4) bands, and you only need the\r\n * near-infrared band, configure `bands: [4]`.\r\n */\r\n\r\n/**\r\n * @typedef {Object} GeoKeys\r\n * @property {number} GTModelTypeGeoKey Model type.\r\n * @property {number} GTRasterTypeGeoKey Raster type.\r\n * @property {number} GeogAngularUnitsGeoKey Angular units.\r\n * @property {number} GeogInvFlatteningGeoKey Inverse flattening.\r\n * @property {number} GeogSemiMajorAxisGeoKey Semi-major axis.\r\n * @property {number} GeographicTypeGeoKey Geographic coordinate system code.\r\n * @property {number} ProjLinearUnitsGeoKey Projected linear unit code.\r\n * @property {number} ProjectedCSTypeGeoKey Projected coordinate system code.\r\n */\r\n\r\n/**\r\n * @typedef {import(\"geotiff\").GeoTIFF} GeoTIFF\r\n */\r\n\r\n/**\r\n * @typedef {import(\"geotiff\").MultiGeoTIFF} MultiGeoTIFF\r\n */\r\n\r\n/**\r\n * @typedef {Object} GDALMetadata\r\n * @property {string} STATISTICS_MINIMUM The minimum value (as a string).\r\n * @property {string} STATISTICS_MAXIMUM The maximum value (as a string).\r\n */\r\n\r\nconst STATISTICS_MAXIMUM = 'STATISTICS_MAXIMUM';\r\nconst STATISTICS_MINIMUM = 'STATISTICS_MINIMUM';\r\n\r\nconst defaultTileSize = 256;\r\n\r\n/**\r\n * @typedef {import(\"geotiff\").GeoTIFFImage} GeoTIFFImage\r\n */\r\n\r\nlet workerPool;\r\nfunction getWorkerPool() {\r\n  if (!workerPool) {\r\n    workerPool = new Pool();\r\n  }\r\n  return workerPool;\r\n}\r\n\r\n/**\r\n * Get the bounding box of an image.  If the image does not have an affine transform,\r\n * the pixel bounds are returned.\r\n * @param {GeoTIFFImage} image The image.\r\n * @return {Array<number>} The image bounding box.\r\n */\r\nfunction getBoundingBox(image) {\r\n  try {\r\n    return image.getBoundingBox(true);\r\n  } catch {\r\n    return [0, 0, image.getWidth(), image.getHeight()];\r\n  }\r\n}\r\n\r\n/**\r\n * Get the origin of an image.  If the image does not have an affine transform,\r\n * the top-left corner of the pixel bounds is returned.\r\n * @param {GeoTIFFImage} image The image.\r\n * @return {Array<number>} The image origin.\r\n */\r\nfunction getOrigin(image) {\r\n  try {\r\n    return image.getOrigin().slice(0, 2);\r\n  } catch {\r\n    return [0, image.getHeight()];\r\n  }\r\n}\r\n\r\n/**\r\n * Get the resolution of an image.  If the image does not have an affine transform,\r\n * the width of the image is compared with the reference image.\r\n * @param {GeoTIFFImage} image The image.\r\n * @param {GeoTIFFImage} referenceImage The reference image.\r\n * @return {Array<number>} The map x and y units per pixel.\r\n */\r\nfunction getResolutions(image, referenceImage) {\r\n  try {\r\n    return image.getResolution(referenceImage);\r\n  } catch {\r\n    return [\r\n      referenceImage.getWidth() / image.getWidth(),\r\n      referenceImage.getHeight() / image.getHeight(),\r\n    ];\r\n  }\r\n}\r\n\r\n/**\r\n * @param {GeoTIFFImage} image A GeoTIFF.\r\n * @return {import(\"../proj/Projection.js\").default} The image projection.\r\n */\r\nfunction getProjection(image) {\r\n  const geoKeys = image.getGeoKeys();\r\n  if (!geoKeys) {\r\n    return null;\r\n  }\r\n\r\n  if (\r\n    geoKeys.ProjectedCSTypeGeoKey &&\r\n    geoKeys.ProjectedCSTypeGeoKey !== 32767\r\n  ) {\r\n    const code = 'EPSG:' + geoKeys.ProjectedCSTypeGeoKey;\r\n    let projection = getCachedProjection(code);\r\n    if (!projection) {\r\n      const units = unitsFromCode(geoKeys.ProjLinearUnitsGeoKey);\r\n      if (units) {\r\n        projection = new Projection({\r\n          code: code,\r\n          units: units,\r\n        });\r\n      }\r\n    }\r\n    return projection;\r\n  }\r\n\r\n  if (geoKeys.GeographicTypeGeoKey && geoKeys.GeographicTypeGeoKey !== 32767) {\r\n    const code = 'EPSG:' + geoKeys.GeographicTypeGeoKey;\r\n    let projection = getCachedProjection(code);\r\n    if (!projection) {\r\n      const units = unitsFromCode(geoKeys.GeogAngularUnitsGeoKey);\r\n      if (units) {\r\n        projection = new Projection({\r\n          code: code,\r\n          units: units,\r\n        });\r\n      }\r\n    }\r\n    return projection;\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\n/**\r\n * @param {GeoTIFF|MultiGeoTIFF} tiff A GeoTIFF.\r\n * @return {Promise<Array<GeoTIFFImage>>} Resolves to a list of images.\r\n */\r\nfunction getImagesForTIFF(tiff) {\r\n  return tiff.getImageCount().then(function (count) {\r\n    const requests = new Array(count);\r\n    for (let i = 0; i < count; ++i) {\r\n      requests[i] = tiff.getImage(i);\r\n    }\r\n    return Promise.all(requests);\r\n  });\r\n}\r\n\r\n/**\r\n * @param {SourceInfo} source The GeoTIFF source.\r\n * @param {import('geotiff').RemoteSourceOptions} options Options for the GeoTIFF source.\r\n * @return {Promise<Array<GeoTIFFImage>>} Resolves to a list of images.\r\n */\r\nfunction getImagesForSource(source, options) {\r\n  let request;\r\n  if (source.blob) {\r\n    request = tiffFromBlob(source.blob);\r\n  } else if (source.overviews) {\r\n    request = tiffFromUrls(source.url, source.overviews, options);\r\n  } else {\r\n    request = tiffFromUrl(source.url, options);\r\n  }\r\n  return request.then(getImagesForTIFF);\r\n}\r\n\r\n/**\r\n * @param {number|Array<number>|Array<Array<number>>} expected Expected value.\r\n * @param {number|Array<number>|Array<Array<number>>} got Actual value.\r\n * @param {number} tolerance Accepted tolerance in fraction of expected between expected and got.\r\n * @param {string} message The error message.\r\n * @param {function(Error):void} rejector A function to be called with any error.\r\n */\r\nfunction assertEqual(expected, got, tolerance, message, rejector) {\r\n  if (Array.isArray(expected)) {\r\n    const length = expected.length;\r\n    if (!Array.isArray(got) || length != got.length) {\r\n      const error = new Error(message);\r\n      rejector(error);\r\n      throw error;\r\n    }\r\n    for (let i = 0; i < length; ++i) {\r\n      assertEqual(expected[i], got[i], tolerance, message, rejector);\r\n    }\r\n    return;\r\n  }\r\n\r\n  got = /** @type {number} */ (got);\r\n  if (Math.abs(expected - got) > tolerance * expected) {\r\n    throw new Error(message);\r\n  }\r\n}\r\n\r\n/**\r\n * @param {Array} array The data array.\r\n * @return {number} The minimum value.\r\n */\r\nfunction getMinForDataType(array) {\r\n  if (array instanceof Int8Array) {\r\n    return -128;\r\n  }\r\n  if (array instanceof Int16Array) {\r\n    return -32768;\r\n  }\r\n  if (array instanceof Int32Array) {\r\n    return -2147483648;\r\n  }\r\n  if (array instanceof Float32Array) {\r\n    return 1.2e-38;\r\n  }\r\n  return 0;\r\n}\r\n\r\n/**\r\n * @param {Array} array The data array.\r\n * @return {number} The maximum value.\r\n */\r\nfunction getMaxForDataType(array) {\r\n  if (array instanceof Int8Array) {\r\n    return 127;\r\n  }\r\n  if (array instanceof Uint8Array) {\r\n    return 255;\r\n  }\r\n  if (array instanceof Uint8ClampedArray) {\r\n    return 255;\r\n  }\r\n  if (array instanceof Int16Array) {\r\n    return 32767;\r\n  }\r\n  if (array instanceof Uint16Array) {\r\n    return 65535;\r\n  }\r\n  if (array instanceof Int32Array) {\r\n    return 2147483647;\r\n  }\r\n  if (array instanceof Uint32Array) {\r\n    return 4294967295;\r\n  }\r\n  if (array instanceof Float32Array) {\r\n    return 3.4e38;\r\n  }\r\n  return 255;\r\n}\r\n\r\n/**\r\n * @typedef {Object} GeoTIFFSourceOptions\r\n * @property {boolean} [forceXHR=false] Whether to force the usage of the browsers XMLHttpRequest API.\r\n * @property {Object<string, string>} [headers] additional key-value pairs of headers to be passed with each request. Key is the header name, value the header value.\r\n * @property {string} [credentials] How credentials shall be handled. See\r\n * https://developer.mozilla.org/en-US/docs/Web/API/fetch for reference and possible values\r\n * @property {number} [maxRanges] The maximum amount of ranges to request in a single multi-range request.\r\n * By default only a single range is used.\r\n * @property {boolean} [allowFullFile=false] Whether or not a full file is accepted when only a portion is\r\n * requested. Only use this when you know the source image to be small enough to fit in memory.\r\n * @property {number} [blockSize=65536] The block size to use.\r\n * @property {number} [cacheSize=100] The number of blocks that shall be held in a LRU cache.\r\n */\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {Array<SourceInfo>} sources List of information about GeoTIFF sources.\r\n * Multiple sources can be combined when their resolution sets are equal after applying a scale.\r\n * The list of sources defines a mapping between input bands as they are read from each GeoTIFF and\r\n * the output bands that are provided by data tiles. To control which bands to read from each GeoTIFF,\r\n * use the {@link import(\"./GeoTIFF.js\").SourceInfo bands} property. If, for example, you specify two\r\n * sources, one with 3 bands and {@link import(\"./GeoTIFF.js\").SourceInfo nodata} configured, and\r\n * another with 1 band, the resulting data tiles will have 5 bands: 3 from the first source, 1 alpha\r\n * band from the first source, and 1 band from the second source.\r\n * @property {GeoTIFFSourceOptions} [sourceOptions] Additional options to be passed to [geotiff.js](https://geotiffjs.github.io/geotiff.js/module-geotiff.html)'s `fromUrl` or `fromUrls` methods.\r\n * @property {true|false|'auto'} [convertToRGB=false] By default, bands from the sources are read as-is. When\r\n * reading GeoTIFFs with the purpose of displaying them as RGB images, setting this to `true` will\r\n * convert other color spaces (YCbCr, CMYK) to RGB.  Setting the option to `'auto'` will make it so CMYK, YCbCr,\r\n * CIELab, and ICCLab images will automatically be converted to RGB.\r\n * @property {boolean} [normalize=true] By default, the source data is normalized to values between\r\n * 0 and 1 with scaling factors based on the raster statistics or `min` and `max` properties of each source.\r\n * If instead you want to work with the raw values in a style expression, set this to `false`.  Setting this option\r\n * to `false` will make it so any `min` and `max` properties on sources are ignored.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Source projection.  If not provided, the GeoTIFF metadata\r\n * will be read for projection information.\r\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {boolean} [wrapX=false] Render tiles beyond the tile grid extent.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * the linear interpolation is used to resample the data.  If false, nearest neighbor is used.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * A source for working with GeoTIFF data.\r\n * **Note for users of the full build**: The `GeoTIFF` source requires the\r\n * [geotiff.js](https://github.com/geotiffjs/geotiff.js) library to be loaded as well.\r\n *\r\n * @api\r\n */\r\nclass GeoTIFFSource extends DataTile {\r\n  /**\r\n   * @param {Options} options Data tile options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      attributions: options.attributions,\r\n      state: 'loading',\r\n      tileGrid: null,\r\n      projection: options.projection || null,\r\n      transition: options.transition,\r\n      interpolate: options.interpolate !== false,\r\n      wrapX: options.wrapX,\r\n    });\r\n\r\n    /**\r\n     * @type {Array<SourceInfo>}\r\n     * @private\r\n     */\r\n    this.sourceInfo_ = options.sources;\r\n\r\n    const numSources = this.sourceInfo_.length;\r\n\r\n    /**\r\n     * @type {Object}\r\n     * @private\r\n     */\r\n    this.sourceOptions_ = options.sourceOptions;\r\n\r\n    /**\r\n     * @type {Array<Array<GeoTIFFImage>>}\r\n     * @private\r\n     */\r\n    this.sourceImagery_ = new Array(numSources);\r\n\r\n    /**\r\n     * @type {Array<Array<GeoTIFFImage>>}\r\n     * @private\r\n     */\r\n    this.sourceMasks_ = new Array(numSources);\r\n\r\n    /**\r\n     * @type {Array<number>}\r\n     * @private\r\n     */\r\n    this.resolutionFactors_ = new Array(numSources);\r\n\r\n    /**\r\n     * @type {Array<number>}\r\n     * @private\r\n     */\r\n    this.samplesPerPixel_;\r\n\r\n    /**\r\n     * @type {Array<Array<number>>}\r\n     * @private\r\n     */\r\n    this.nodataValues_;\r\n\r\n    /**\r\n     * @type {Array<Array<Promise<GDALMetadata>>>}\r\n     * @private\r\n     */\r\n    this.metadata_;\r\n\r\n    /**\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    this.normalize_ = options.normalize !== false;\r\n\r\n    /**\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    this.addAlpha_ = false;\r\n\r\n    /**\r\n     * @type {Error}\r\n     * @private\r\n     */\r\n    this.error_ = null;\r\n\r\n    /**\r\n     * @type {true|false|'auto'}\r\n     * @private\r\n     */\r\n    this.convertToRGB_ = options.convertToRGB || false;\r\n\r\n    this.setKey(this.sourceInfo_.map((source) => source.url).join(','));\r\n\r\n    const self = this;\r\n    const requests = new Array(numSources);\r\n    for (let i = 0; i < numSources; ++i) {\r\n      requests[i] = getImagesForSource(\r\n        this.sourceInfo_[i],\r\n        this.sourceOptions_,\r\n      );\r\n    }\r\n    Promise.all(requests)\r\n      .then(function (sources) {\r\n        self.configure_(sources);\r\n      })\r\n      .catch(function (error) {\r\n        logError(error);\r\n        self.error_ = error;\r\n        self.setState('error');\r\n      });\r\n  }\r\n\r\n  /**\r\n   * @return {Error} A source loading error. When the source state is `error`, use this function\r\n   * to get more information about the error. To debug a faulty configuration, you may want to use\r\n   * a listener like\r\n   * ```js\r\n   * geotiffSource.on('change', () => {\r\n   *   if (geotiffSource.getState() === 'error') {\r\n   *     console.error(geotiffSource.getError());\r\n   *   }\r\n   * });\r\n   * ```\r\n   */\r\n  getError() {\r\n    return this.error_;\r\n  }\r\n\r\n  /**\r\n   * Determine the projection of the images in this GeoTIFF.\r\n   * The default implementation looks at the ProjectedCSTypeGeoKey and the GeographicTypeGeoKey\r\n   * of each image in turn.\r\n   * You can override this method in a subclass to support more projections.\r\n   *\r\n   * @param {Array<Array<GeoTIFFImage>>} sources Each source is a list of images\r\n   * from a single GeoTIFF.\r\n   */\r\n  determineProjection(sources) {\r\n    const firstSource = sources[0];\r\n    for (let i = firstSource.length - 1; i >= 0; --i) {\r\n      const image = firstSource[i];\r\n      const projection = getProjection(image);\r\n      if (projection) {\r\n        this.projection = projection;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Determine any transform matrix for the images in this GeoTIFF.\r\n   *\r\n   * @param {Array<Array<GeoTIFFImage>>} sources Each source is a list of images\r\n   * from a single GeoTIFF.\r\n   */\r\n  determineTransformMatrix(sources) {\r\n    const firstSource = sources[0];\r\n    for (let i = firstSource.length - 1; i >= 0; --i) {\r\n      const image = firstSource[i];\r\n      const modelTransformation = image.fileDirectory.getValue(\r\n        'ModelTransformation',\r\n      );\r\n      if (modelTransformation) {\r\n        // eslint-disable-next-line no-unused-vars\r\n        const [a, b, c, d, e, f, g, h] = modelTransformation;\r\n        const matrix = multiplyTransform(\r\n          multiplyTransform(\r\n            [\r\n              1 / Math.sqrt(a * a + e * e),\r\n              0,\r\n              0,\r\n              -1 / Math.sqrt(b * b + f * f),\r\n              d,\r\n              h,\r\n            ],\r\n            [a, e, b, f, 0, 0],\r\n          ),\r\n          [1, 0, 0, 1, -d, -h],\r\n        );\r\n        this.transformMatrix = matrix;\r\n        this.addAlpha_ = true;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Configure the tile grid based on images within the source GeoTIFFs.  Each GeoTIFF\r\n   * must have the same internal tiled structure.\r\n   * @param {Array<Array<GeoTIFFImage>>} sources Each source is a list of images\r\n   * from a single GeoTIFF.\r\n   * @private\r\n   */\r\n  configure_(sources) {\r\n    let extent;\r\n    let origin;\r\n    let commonRenderTileSizes;\r\n    let commonSourceTileSizes;\r\n    let resolutions;\r\n    const samplesPerPixel = new Array(sources.length);\r\n    const nodataValues = new Array(sources.length);\r\n    const metadata = new Array(sources.length);\r\n    let minZoom = 0;\r\n\r\n    const sourceCount = sources.length;\r\n    for (let sourceIndex = 0; sourceIndex < sourceCount; ++sourceIndex) {\r\n      const images = [];\r\n      const masks = [];\r\n      sources[sourceIndex].forEach((item) => {\r\n        if (isMask(item)) {\r\n          masks.push(item);\r\n        } else {\r\n          images.push(item);\r\n        }\r\n      });\r\n\r\n      const imageCount = images.length;\r\n      if (masks.length > 0 && masks.length !== imageCount) {\r\n        throw new Error(\r\n          `Expected one mask per image found ${masks.length} masks and ${imageCount} images`,\r\n        );\r\n      }\r\n\r\n      let sourceExtent;\r\n      let sourceOrigin;\r\n      const sourceTileSizes = new Array(imageCount);\r\n      const renderTileSizes = new Array(imageCount);\r\n      const sourceResolutions = new Array(imageCount);\r\n\r\n      nodataValues[sourceIndex] = new Array(imageCount);\r\n      metadata[sourceIndex] = new Array(imageCount);\r\n\r\n      for (let imageIndex = 0; imageIndex < imageCount; ++imageIndex) {\r\n        const image = images[imageIndex];\r\n        const nodataValue = image.getGDALNoData();\r\n        metadata[sourceIndex][imageIndex] = image.getGDALMetadata(0);\r\n        nodataValues[sourceIndex][imageIndex] = nodataValue;\r\n\r\n        const wantedSamples = this.sourceInfo_[sourceIndex].bands;\r\n        samplesPerPixel[sourceIndex] = wantedSamples\r\n          ? wantedSamples.length\r\n          : image.getSamplesPerPixel();\r\n        const level = imageCount - (imageIndex + 1);\r\n\r\n        if (!sourceExtent) {\r\n          sourceExtent = getBoundingBox(image);\r\n        }\r\n\r\n        if (!sourceOrigin) {\r\n          sourceOrigin = getOrigin(image);\r\n        }\r\n\r\n        const imageResolutions = getResolutions(image, images[0]);\r\n        sourceResolutions[level] = imageResolutions[0];\r\n\r\n        const sourceTileSize = [image.getTileWidth(), image.getTileHeight()];\r\n\r\n        // request larger blocks for untiled layouts\r\n        if (\r\n          sourceTileSize[0] !== sourceTileSize[1] &&\r\n          sourceTileSize[1] < defaultTileSize\r\n        ) {\r\n          sourceTileSize[0] = defaultTileSize;\r\n          sourceTileSize[1] = defaultTileSize;\r\n        }\r\n\r\n        sourceTileSizes[level] = sourceTileSize;\r\n\r\n        const aspectRatio = imageResolutions[0] / Math.abs(imageResolutions[1]);\r\n        renderTileSizes[level] = [\r\n          sourceTileSize[0],\r\n          sourceTileSize[1] / aspectRatio,\r\n        ];\r\n      }\r\n\r\n      if (!extent) {\r\n        extent = sourceExtent;\r\n      } else {\r\n        getIntersection(extent, sourceExtent, extent);\r\n      }\r\n\r\n      if (!origin) {\r\n        origin = sourceOrigin;\r\n      } else {\r\n        const message = `Origin mismatch for source ${sourceIndex}, got [${sourceOrigin}] but expected [${origin}]`;\r\n        assertEqual(origin, sourceOrigin, 0, message, this.viewRejector);\r\n      }\r\n\r\n      if (!resolutions) {\r\n        resolutions = sourceResolutions;\r\n        this.resolutionFactors_[sourceIndex] = 1;\r\n      } else {\r\n        if (resolutions.length - minZoom > sourceResolutions.length) {\r\n          minZoom = resolutions.length - sourceResolutions.length;\r\n        }\r\n        const resolutionFactor =\r\n          resolutions[resolutions.length - 1] /\r\n          sourceResolutions[sourceResolutions.length - 1];\r\n        this.resolutionFactors_[sourceIndex] = resolutionFactor;\r\n        const scaledSourceResolutions = sourceResolutions.map(\r\n          (resolution) => (resolution *= resolutionFactor),\r\n        );\r\n        const message = `Resolution mismatch for source ${sourceIndex}, got [${scaledSourceResolutions}] but expected [${resolutions}]`;\r\n        assertEqual(\r\n          resolutions.slice(minZoom, resolutions.length),\r\n          scaledSourceResolutions,\r\n          0.02,\r\n          message,\r\n          this.viewRejector,\r\n        );\r\n      }\r\n\r\n      if (!commonRenderTileSizes) {\r\n        commonRenderTileSizes = renderTileSizes;\r\n      } else {\r\n        assertEqual(\r\n          commonRenderTileSizes.slice(minZoom, commonRenderTileSizes.length),\r\n          renderTileSizes,\r\n          0.01,\r\n          `Tile size mismatch for source ${sourceIndex}`,\r\n          this.viewRejector,\r\n        );\r\n      }\r\n\r\n      if (!commonSourceTileSizes) {\r\n        commonSourceTileSizes = sourceTileSizes;\r\n      } else {\r\n        assertEqual(\r\n          commonSourceTileSizes.slice(minZoom, commonSourceTileSizes.length),\r\n          sourceTileSizes,\r\n          0,\r\n          `Tile size mismatch for source ${sourceIndex}`,\r\n          this.viewRejector,\r\n        );\r\n      }\r\n\r\n      this.sourceImagery_[sourceIndex] = images.reverse();\r\n      this.sourceMasks_[sourceIndex] = masks.reverse();\r\n    }\r\n\r\n    for (let i = 0, ii = this.sourceImagery_.length; i < ii; ++i) {\r\n      const sourceImagery = this.sourceImagery_[i];\r\n      while (sourceImagery.length < resolutions.length) {\r\n        sourceImagery.unshift(undefined);\r\n      }\r\n    }\r\n\r\n    if (!this.getProjection()) {\r\n      this.determineProjection(sources);\r\n    }\r\n    this.determineTransformMatrix(sources);\r\n\r\n    this.samplesPerPixel_ = samplesPerPixel;\r\n    this.nodataValues_ = nodataValues;\r\n    this.metadata_ = metadata;\r\n\r\n    // decide if we need to add an alpha band to handle nodata\r\n    outer: for (let sourceIndex = 0; sourceIndex < sourceCount; ++sourceIndex) {\r\n      // option 1: source is configured with a nodata value\r\n      if (this.sourceInfo_[sourceIndex].nodata !== undefined) {\r\n        this.addAlpha_ = true;\r\n        break;\r\n      }\r\n      if (this.sourceMasks_[sourceIndex].length) {\r\n        this.addAlpha_ = true;\r\n        break;\r\n      }\r\n\r\n      const values = nodataValues[sourceIndex];\r\n\r\n      // option 2: check image metadata for limited bands\r\n      const bands = this.sourceInfo_[sourceIndex].bands;\r\n      if (bands) {\r\n        for (let i = 0; i < bands.length; ++i) {\r\n          if (values[bands[i] - 1] !== null) {\r\n            this.addAlpha_ = true;\r\n            break outer;\r\n          }\r\n        }\r\n        continue;\r\n      }\r\n\r\n      // option 3: check image metadata for all bands\r\n      for (let imageIndex = 0; imageIndex < values.length; ++imageIndex) {\r\n        if (values[imageIndex] !== null) {\r\n          this.addAlpha_ = true;\r\n          break outer;\r\n        }\r\n      }\r\n    }\r\n\r\n    let bandCount = this.addAlpha_ ? 1 : 0;\r\n    for (let sourceIndex = 0; sourceIndex < sourceCount; ++sourceIndex) {\r\n      bandCount += samplesPerPixel[sourceIndex];\r\n    }\r\n    this.bandCount = bandCount;\r\n\r\n    const tileGrid = new TileGrid({\r\n      extent: extent,\r\n      minZoom: minZoom,\r\n      origin: origin,\r\n      resolutions: resolutions,\r\n      tileSizes: commonRenderTileSizes,\r\n    });\r\n\r\n    this.tileGrid = tileGrid;\r\n    this.setTileSizes(commonSourceTileSizes);\r\n\r\n    this.setLoader(this.loadTile_.bind(this));\r\n    this.setState('ready');\r\n\r\n    const zoom = 1;\r\n    if (resolutions.length === 2) {\r\n      resolutions = [resolutions[0], resolutions[1], resolutions[1] / 2];\r\n    } else if (resolutions.length === 1) {\r\n      resolutions = [resolutions[0] * 2, resolutions[0], resolutions[0] / 2];\r\n    }\r\n\r\n    let viewExtent = extent;\r\n    if (this.transformMatrix) {\r\n      const matrix = makeInverse(createMatrix(), this.transformMatrix.slice());\r\n      const transformFn = createTransformFromCoordinateTransform((input) =>\r\n        applyMatrix(matrix, input),\r\n      );\r\n      viewExtent = applyTransform(extent, transformFn);\r\n    }\r\n\r\n    this.viewResolver({\r\n      showFullExtent: true,\r\n      projection: this.projection,\r\n      resolutions: resolutions,\r\n      center: toUserCoordinate(getCenter(viewExtent), this.projection),\r\n      extent: toUserExtent(viewExtent, this.projection),\r\n      zoom: zoom,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {number} z The z tile index.\r\n   * @param {number} x The x tile index.\r\n   * @param {number} y The y tile index.\r\n   * @param {import('./DataTile.js').LoaderOptions} options The loader options.\r\n   * @return {Promise} The composed tile data.\r\n   * @private\r\n   */\r\n  loadTile_(z, x, y, options) {\r\n    const sourceTileSize = this.getTileSize(z);\r\n    const sourceCount = this.sourceImagery_.length;\r\n    const requests = new Array(sourceCount * 2);\r\n    const nodataValues = this.nodataValues_;\r\n    const sourceInfo = this.sourceInfo_;\r\n    const pool = getWorkerPool();\r\n    for (let sourceIndex = 0; sourceIndex < sourceCount; ++sourceIndex) {\r\n      const source = sourceInfo[sourceIndex];\r\n      const resolutionFactor = this.resolutionFactors_[sourceIndex];\r\n      const pixelBounds = [\r\n        Math.round(x * (sourceTileSize[0] * resolutionFactor)),\r\n        Math.round(y * (sourceTileSize[1] * resolutionFactor)),\r\n        Math.round((x + 1) * (sourceTileSize[0] * resolutionFactor)),\r\n        Math.round((y + 1) * (sourceTileSize[1] * resolutionFactor)),\r\n      ];\r\n      const image = this.sourceImagery_[sourceIndex][z];\r\n      let samples;\r\n      if (source.bands) {\r\n        samples = source.bands.map(function (bandNumber) {\r\n          return bandNumber - 1;\r\n        });\r\n      }\r\n\r\n      /** @type {number|Array<number>} */\r\n      let fillValue;\r\n      if ('nodata' in source && source.nodata !== null) {\r\n        fillValue = source.nodata;\r\n      } else {\r\n        if (!samples) {\r\n          fillValue = nodataValues[sourceIndex];\r\n        } else {\r\n          fillValue = samples.map(function (sampleIndex) {\r\n            return nodataValues[sourceIndex][sampleIndex];\r\n          });\r\n        }\r\n      }\r\n\r\n      const readOptions = {\r\n        window: pixelBounds,\r\n        width: sourceTileSize[0],\r\n        height: sourceTileSize[1],\r\n        samples: samples,\r\n        fillValue: fillValue,\r\n        pool: pool,\r\n        interleave: false,\r\n        signal: options.signal,\r\n      };\r\n      if (readRGB(this.convertToRGB_, image)) {\r\n        requests[sourceIndex] = image.readRGB(readOptions);\r\n      } else {\r\n        requests[sourceIndex] = image.readRasters(readOptions);\r\n      }\r\n\r\n      // requests after `sourceCount` are for mask data (if any)\r\n      const maskIndex = sourceCount + sourceIndex;\r\n      const mask = this.sourceMasks_[sourceIndex][z];\r\n      if (!mask) {\r\n        requests[maskIndex] = Promise.resolve(null);\r\n        continue;\r\n      }\r\n\r\n      requests[maskIndex] = mask.readRasters({\r\n        window: pixelBounds,\r\n        width: sourceTileSize[0],\r\n        height: sourceTileSize[1],\r\n        samples: [0],\r\n        pool: pool,\r\n        interleave: false,\r\n      });\r\n    }\r\n\r\n    return Promise.all(requests)\r\n      .then(this.composeTile_.bind(this, sourceTileSize))\r\n      .catch(function (error) {\r\n        logError(error);\r\n        throw error;\r\n      });\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../size.js\").Size} sourceTileSize The source tile size.\r\n   * @param {Array} sourceSamples The source samples.\r\n   * @return {Promise<import(\"../DataTile.js\").Data>} The composed tile data.\r\n   * @private\r\n   */\r\n  async composeTile_(sourceTileSize, sourceSamples) {\r\n    const metadata = this.metadata_;\r\n    const sourceInfo = this.sourceInfo_;\r\n    const sourceCount = this.sourceImagery_.length;\r\n    const bandCount = this.bandCount;\r\n    const samplesPerPixel = this.samplesPerPixel_;\r\n    const nodataValues = this.nodataValues_;\r\n    const normalize = this.normalize_;\r\n    const addAlpha = this.addAlpha_;\r\n\r\n    const pixelCount = sourceTileSize[0] * sourceTileSize[1];\r\n    const dataLength = pixelCount * bandCount;\r\n\r\n    /** @type {Uint8Array|Float32Array} */\r\n    let data;\r\n    if (normalize) {\r\n      data = new Uint8Array(dataLength);\r\n    } else {\r\n      data = new Float32Array(dataLength);\r\n    }\r\n\r\n    let dataIndex = 0;\r\n    for (let pixelIndex = 0; pixelIndex < pixelCount; ++pixelIndex) {\r\n      let transparent = addAlpha;\r\n      for (let sourceIndex = 0; sourceIndex < sourceCount; ++sourceIndex) {\r\n        const source = sourceInfo[sourceIndex];\r\n\r\n        let min = source.min;\r\n        let max = source.max;\r\n        let gain, bias;\r\n        if (normalize) {\r\n          const stats = await metadata[sourceIndex][0];\r\n          if (min === undefined) {\r\n            if (stats && STATISTICS_MINIMUM in stats) {\r\n              min = parseFloat(stats[STATISTICS_MINIMUM]);\r\n            } else {\r\n              min = getMinForDataType(sourceSamples[sourceIndex][0]);\r\n            }\r\n          }\r\n          if (max === undefined) {\r\n            if (stats && STATISTICS_MAXIMUM in stats) {\r\n              max = parseFloat(stats[STATISTICS_MAXIMUM]);\r\n            } else {\r\n              max = getMaxForDataType(sourceSamples[sourceIndex][0]);\r\n            }\r\n          }\r\n\r\n          gain = 255 / (max - min);\r\n          bias = -min * gain;\r\n        }\r\n\r\n        for (\r\n          let sampleIndex = 0;\r\n          sampleIndex < samplesPerPixel[sourceIndex];\r\n          ++sampleIndex\r\n        ) {\r\n          const sourceValue =\r\n            sourceSamples[sourceIndex][sampleIndex][pixelIndex];\r\n\r\n          let value;\r\n          if (normalize) {\r\n            value = clamp(gain * sourceValue + bias, 0, 255);\r\n          } else {\r\n            value = sourceValue;\r\n          }\r\n\r\n          if (!addAlpha) {\r\n            data[dataIndex] = value;\r\n          } else {\r\n            let nodata = source.nodata;\r\n            if (nodata === undefined) {\r\n              let bandIndex;\r\n              if (source.bands) {\r\n                bandIndex = source.bands[sampleIndex] - 1;\r\n              } else {\r\n                bandIndex = sampleIndex;\r\n              }\r\n              nodata = nodataValues[sourceIndex][bandIndex];\r\n            }\r\n\r\n            const nodataIsNaN = isNaN(nodata);\r\n            if (\r\n              (!nodataIsNaN && sourceValue !== nodata) ||\r\n              (nodataIsNaN && !isNaN(sourceValue))\r\n            ) {\r\n              transparent = false;\r\n              data[dataIndex] = value;\r\n            }\r\n          }\r\n          dataIndex++;\r\n        }\r\n        if (!transparent) {\r\n          const maskIndex = sourceCount + sourceIndex;\r\n          const mask = sourceSamples[maskIndex];\r\n          if (mask && !mask[0][pixelIndex]) {\r\n            transparent = true;\r\n          }\r\n        }\r\n      }\r\n      if (addAlpha) {\r\n        if (!transparent) {\r\n          data[dataIndex] = 255;\r\n        }\r\n        dataIndex++;\r\n      }\r\n    }\r\n\r\n    return data;\r\n  }\r\n}\r\n\r\n/**\r\n * Get a promise for view properties based on the source.  Use the result of this function\r\n * as the `view` option in a map constructor.\r\n *\r\n *     const source = new GeoTIFF(options);\r\n *\r\n *     const map = new Map({\r\n *       target: 'map',\r\n *       layers: [\r\n *         new TileLayer({\r\n *           source: source,\r\n *         }),\r\n *       ],\r\n *       view: source.getView(),\r\n *     });\r\n *\r\n * @function\r\n * @return {Promise<import(\"../View.js\").ViewOptions>} A promise for view-related properties.\r\n * @api\r\n *\r\n */\r\nGeoTIFFSource.prototype.getView;\r\n\r\nexport default GeoTIFFSource;\r\n", "/**\r\n * @module ol/source/Google\r\n */\r\n\r\nimport ViewHint from '../ViewHint.js';\r\nimport {getBottomLeft, getTopRight} from '../extent.js';\r\nimport {toLonLat} from '../proj.js';\r\nimport {createXYZ, extentFromProjection} from '../tilegrid.js';\r\nimport TileImage from './TileImage.js';\r\n\r\nconst maxZoom = 22;\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {string} key Google Map Tiles API key. Get yours at https://developers.google.com/maps/documentation/tile/get-api-key.\r\n * @property {string} [mapType='roadmap'] The type of [base map](https://developers.google.com/maps/documentation/tile/session_tokens#required_fields).\r\n * @property {string} [language='en-US'] An [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag) for information displayed on the tiles.\r\n * @property {string} [region='US'] A [Common Locale Data Repository](https://cldr.unicode.org/) (CLDR) region identifier that represents the user location.\r\n * @property {string} [imageFormat] The image format used for the map tiles (e.g. `'jpeg'`, or `'png'`).\r\n * @property {string} [scale] Scale for map elements (`'scaleFactor1x'`, `'scaleFactor2x'`, or `'scaleFactor4x'`).\r\n * @property {boolean} [highDpi=false] Use high-resolution tiles.\r\n * @property {Array<string>} [layerTypes] The layer types added to the map (e.g. `'layerRoadmap'`, `'layerStreetview'`, or `'layerTraffic'`).\r\n * @property {boolean} [overlay=false] Display only the `layerTypes` and not the underlying `mapType` (only works if `layerTypes` is provided).\r\n * @property {Array<Object>} [styles] [Custom styles](https://developers.google.com/maps/documentation/tile/style-reference) applied to the map.\r\n * @property {boolean} [attributionsCollapsible=true] Allow the attributions to be collapsed.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\r\n * ```js\r\n * function(imageTile, src) {\r\n *   imageTile.getImage().src = src;\r\n * };\r\n * ```\r\n * @property {Array<string>} [apiOptions] An array of values specifying additional options to apply.\r\n * @property {boolean} [wrapX=true] Wrap the world horizontally.\r\n * @property {number} [transition] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n * @property {string} [url='https://tile.googleapis.com/'] The Google Tile server URL.\r\n */\r\n\r\n/**\r\n * @typedef {Object} SessionTokenRequest\r\n * @property {string} mapType The map type.\r\n * @property {string} language The language.\r\n * @property {string} region The region.\r\n * @property {string} [imageFormat] The image format.\r\n * @property {string} [scale] The scale.\r\n * @property {boolean} [highDpi] Use high resolution tiles.\r\n * @property {Array<string>} [layerTypes] The layer types.\r\n * @property {boolean} [overlay] The overlay.\r\n * @property {Array<Object>} [styles] The styles.\r\n * @property {Array<string>} [apiOptions] An array of values specifying additional options to apply.\r\n */\r\n\r\n/**\r\n * @typedef {Object} SessionTokenResponse\r\n * @property {string} session The session token.\r\n * @property {string} expiry The session token expiry (seconds since the epoch as a string).\r\n * @property {number} tileWidth The tile width.\r\n * @property {number} tileHeight The tile height.\r\n * @property {string} imageFormat The image format.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * A tile layer source that renders tiles from the Google [Map Tiles API](https://developers.google.com/maps/documentation/tile/overview).\r\n * The constructor takes options that are passed to the request to create a session token.  Refer to the\r\n * [documentation](https://developers.google.com/maps/documentation/tile/session_tokens#required_fields)\r\n * for additional details.\r\n * @api\r\n */\r\nclass Google extends TileImage {\r\n  /**\r\n   * @param {Options} options Google Maps options.\r\n   */\r\n  constructor(options) {\r\n    const highDpi = !!options.highDpi;\r\n\r\n    super({\r\n      attributionsCollapsible: options.attributionsCollapsible,\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin: 'anonymous',\r\n      interpolate: options.interpolate,\r\n      projection: 'EPSG:3857',\r\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\r\n      state: 'loading',\r\n      tileLoadFunction: options.tileLoadFunction,\r\n      tilePixelRatio: highDpi ? 2 : 1,\r\n      wrapX: options.wrapX !== undefined ? options.wrapX : true,\r\n      transition: options.transition,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @type {string}\r\n     * @private\r\n     */\r\n    this.apiKey_ = options.key;\r\n\r\n    /**\r\n     * @type {Error|null}\r\n     * @private\r\n     */\r\n    this.error_ = null;\r\n\r\n    /**\r\n     * @type {SessionTokenRequest}\r\n     */\r\n    const sessionTokenRequest = {\r\n      mapType: options.mapType || 'roadmap',\r\n      language: options.language || 'en-US',\r\n      region: options.region || 'US',\r\n    };\r\n    if (options.imageFormat) {\r\n      sessionTokenRequest.imageFormat = options.imageFormat;\r\n    }\r\n    if (options.scale) {\r\n      sessionTokenRequest.scale = options.scale;\r\n    }\r\n    if (highDpi) {\r\n      sessionTokenRequest.highDpi = true;\r\n    }\r\n    if (options.layerTypes) {\r\n      sessionTokenRequest.layerTypes = options.layerTypes;\r\n    }\r\n    if (options.styles) {\r\n      sessionTokenRequest.styles = options.styles;\r\n    }\r\n    if (options.overlay === true) {\r\n      sessionTokenRequest.overlay = true;\r\n    }\r\n    if (options.apiOptions) {\r\n      sessionTokenRequest.apiOptions = options.apiOptions;\r\n    }\r\n\r\n    /**\r\n     * @type {SessionTokenRequest}\r\n     * @private\r\n     */\r\n    this.sessionTokenRequest_ = sessionTokenRequest;\r\n\r\n    /**\r\n     * @type {string}\r\n     * @private\r\n     */\r\n    this.sessionTokenValue_;\r\n\r\n    /**\r\n     * @type {ReturnType<typeof setTimeout>}\r\n     * @private\r\n     */\r\n    this.sessionRefreshId_;\r\n\r\n    /**\r\n     * @type {string}\r\n     * @private\r\n     */\r\n    this.previousViewportAttribution_;\r\n\r\n    /**\r\n     * @type {string}\r\n     * @private\r\n     */\r\n    this.previousViewportExtent_;\r\n\r\n    const baseUrl = options.url || 'https://tile.googleapis.com/';\r\n\r\n    /**\r\n     * @type {string}\r\n     * @private\r\n     */\r\n    this.createSessionUrl_ = baseUrl + 'v1/createSession';\r\n\r\n    /**\r\n     * @type {string}\r\n     * @private\r\n     */\r\n    this.tileUrl_ = baseUrl + 'v1/2dtiles';\r\n\r\n    /**\r\n     * @type {string}\r\n     * @private\r\n     */\r\n    this.attributionUrl_ = baseUrl + 'tile/v1/viewport';\r\n\r\n    this.createSession_();\r\n  }\r\n\r\n  /**\r\n   * @return {Error|null} A source loading error. When the source state is `error`, use this function\r\n   * to get more information about the error. To debug a faulty configuration, you may want to use\r\n   * a listener like\r\n   * ```js\r\n   * source.on('change', () => {\r\n   *   if (source.getState() === 'error') {\r\n   *     console.error(source.getError());\r\n   *   }\r\n   * });\r\n   * ```\r\n   */\r\n  getError() {\r\n    return this.error_;\r\n  }\r\n\r\n  /**\r\n   * Exposed here so it can be overridden in the tests.\r\n   * @param {string} url The URL.\r\n   * @param {RequestInit} config The config.\r\n   * @return {Promise<Response>} A promise that resolves with the response.\r\n   */\r\n  fetchSessionToken(url, config) {\r\n    return fetch(url, config);\r\n  }\r\n\r\n  /**\r\n   * Get or renew a session token for use with tile requests.\r\n   * @private\r\n   */\r\n  async createSession_() {\r\n    const url = this.createSessionUrl_ + '?key=' + this.apiKey_;\r\n    const config = {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(this.sessionTokenRequest_),\r\n    };\r\n\r\n    const response = await this.fetchSessionToken(url, config);\r\n    if (!response.ok) {\r\n      try {\r\n        const body = await response.json();\r\n        this.error_ = new Error(body.error.message);\r\n      } catch {\r\n        this.error_ = new Error('Error fetching session token');\r\n      }\r\n      this.setState('error');\r\n      return;\r\n    }\r\n\r\n    /**\r\n     * @type {SessionTokenResponse}\r\n     */\r\n    const sessionTokenResponse = await response.json();\r\n\r\n    const tilePixelRatio = this.getTilePixelRatio(1);\r\n    const tileSize = [\r\n      sessionTokenResponse.tileWidth / tilePixelRatio,\r\n      sessionTokenResponse.tileHeight / tilePixelRatio,\r\n    ];\r\n\r\n    this.tileGrid = createXYZ({\r\n      extent: extentFromProjection(this.getProjection()),\r\n      maxZoom: maxZoom,\r\n      tileSize: tileSize,\r\n    });\r\n\r\n    const session = sessionTokenResponse.session;\r\n    this.sessionTokenValue_ = session;\r\n    const key = this.apiKey_;\r\n    const tileUrl = this.tileUrl_;\r\n    this.tileUrlFunction = function (tileCoord, pixelRatio, projection) {\r\n      const z = tileCoord[0];\r\n      const x = tileCoord[1];\r\n      const y = tileCoord[2];\r\n      const url = `${tileUrl}/${z}/${x}/${y}?session=${session}&key=${key}`;\r\n      return url;\r\n    };\r\n\r\n    const expiry = parseInt(sessionTokenResponse.expiry, 10) * 1000;\r\n    const timeout = Math.max(expiry - Date.now() - 60 * 1000, 1);\r\n    this.sessionRefreshId_ = setTimeout(() => this.createSession_(), timeout);\r\n\r\n    this.setAttributions(this.fetchAttributions_.bind(this));\r\n    // even if the state is already ready, we want the change event\r\n    this.setState('ready');\r\n  }\r\n\r\n  /**\r\n   * @param {import('../Map.js').FrameState} frameState The frame state.\r\n   * @return {Promise<string>} The attributions.\r\n   * @private\r\n   */\r\n  async fetchAttributions_(frameState) {\r\n    if (\r\n      frameState.viewHints[ViewHint.ANIMATING] ||\r\n      frameState.viewHints[ViewHint.INTERACTING] ||\r\n      frameState.animate\r\n    ) {\r\n      return this.previousViewportAttribution_;\r\n    }\r\n    const [west, south] = toLonLat(\r\n      getBottomLeft(frameState.extent),\r\n      frameState.viewState.projection,\r\n    );\r\n    const [east, north] = toLonLat(\r\n      getTopRight(frameState.extent),\r\n      frameState.viewState.projection,\r\n    );\r\n    const tileGrid = this.getTileGrid();\r\n    const zoom = tileGrid.getZForResolution(\r\n      frameState.viewState.resolution,\r\n      this.zDirection,\r\n    );\r\n    const viewportExtent = `zoom=${zoom}&north=${north}&south=${south}&east=${east}&west=${west}`;\r\n    // check if the extent or zoom has actually changed to avoid unnecessary requests\r\n    if (this.previousViewportExtent_ == viewportExtent) {\r\n      return this.previousViewportAttribution_;\r\n    }\r\n    this.previousViewportExtent_ = viewportExtent;\r\n    const session = this.sessionTokenValue_;\r\n    const key = this.apiKey_;\r\n    const attributionUrl = this.attributionUrl_;\r\n    const url = `${attributionUrl}?session=${session}&key=${key}&${viewportExtent}`;\r\n    this.previousViewportAttribution_ = await fetch(url)\r\n      .then((response) => response.json())\r\n      .then((json) => json.copyright);\r\n\r\n    return this.previousViewportAttribution_;\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   */\r\n  disposeInternal() {\r\n    clearTimeout(this.sessionRefreshId_);\r\n    super.disposeInternal();\r\n  }\r\n}\r\n\r\nexport default Google;\r\n", "/**\r\n * @module ol/source/Zoomify\r\n */\r\n\r\nimport ImageTile from '../ImageTile.js';\r\nimport TileState from '../TileState.js';\r\nimport {createCanvasContext2D} from '../dom.js';\r\nimport {getCenter} from '../extent.js';\r\nimport {toSize} from '../size.js';\r\nimport TileGrid from '../tilegrid/TileGrid.js';\r\nimport {DEFAULT_TILE_SIZE} from '../tilegrid/common.js';\r\nimport {createFromTileUrlFunctions} from '../tileurlfunction.js';\r\nimport {expandUrl} from '../uri.js';\r\nimport TileImage from './TileImage.js';\r\n\r\n/**\r\n * @typedef {'default' | 'truncated'} TierSizeCalculation\r\n */\r\n\r\nexport class CustomTile extends ImageTile {\r\n  /**\r\n   * @param {import(\"../size.js\").Size} tileSize Full tile size.\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @param {import(\"../TileState.js\").default} state State.\r\n   * @param {string} src Image source URI.\r\n   * @param {import('../dom.js').ImageAttributes} imageAttributes Image attributes options.\r\n   * @param {import(\"../Tile.js\").LoadFunction} tileLoadFunction Tile load function.\r\n   * @param {import(\"../Tile.js\").Options} [options] Tile options.\r\n   */\r\n  constructor(\r\n    tileSize,\r\n    tileCoord,\r\n    state,\r\n    src,\r\n    imageAttributes,\r\n    tileLoadFunction,\r\n    options,\r\n  ) {\r\n    super(tileCoord, state, src, imageAttributes, tileLoadFunction, options);\r\n\r\n    /**\r\n     * @private\r\n     * @type {HTMLCanvasElement|OffscreenCanvas|HTMLImageElement|HTMLVideoElement}\r\n     */\r\n    this.zoomifyImage_ = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../size.js\").Size}\r\n     */\r\n    this.tileSize_ = tileSize;\r\n  }\r\n\r\n  /**\r\n   * Get the image element for this tile.\r\n   * @return {HTMLCanvasElement|OffscreenCanvas|HTMLImageElement|HTMLVideoElement} Image.\r\n   * @override\r\n   */\r\n  getImage() {\r\n    if (this.zoomifyImage_) {\r\n      return this.zoomifyImage_;\r\n    }\r\n    const image = super.getImage();\r\n    if (this.state == TileState.LOADED) {\r\n      const tileSize = this.tileSize_;\r\n      if (image.width == tileSize[0] && image.height == tileSize[1]) {\r\n        this.zoomifyImage_ = image;\r\n        return image;\r\n      }\r\n      const context = createCanvasContext2D(tileSize[0], tileSize[1]);\r\n      context.drawImage(image, 0, 0);\r\n      this.zoomifyImage_ = context.canvas;\r\n      return context.canvas;\r\n    }\r\n    return image;\r\n  }\r\n}\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value  you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection.\r\n * @property {number} [tilePixelRatio] The pixel ratio used by the tile service. For example, if the tile service advertizes 256px by 256px tiles but actually sends 512px by 512px images (for retina/hidpi devices) then `tilePixelRatio` should be set to `2`\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {string} url URL template or base URL of the Zoomify service.\r\n * A base URL is the fixed part\r\n * of the URL, excluding the tile group, z, x, and y folder structure, e.g.\r\n * `http://my.zoomify.info/IMAGE.TIF/`. A URL template must include\r\n * `{TileGroup}`, `{x}`, `{y}`, and `{z}` placeholders, e.g.\r\n * `http://my.zoomify.info/IMAGE.TIF/{TileGroup}/{z}-{x}-{y}.jpg`.\r\n * Internet Imaging Protocol (IIP) with JTL extension can be also used with\r\n * `{tileIndex}` and `{z}` placeholders, e.g.\r\n * `http://my.zoomify.info?FIF=IMAGE.TIF&JTL={z},{tileIndex}`.\r\n * A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`, may be\r\n * used instead of defining each one separately in the `urls` option.\r\n * @property {TierSizeCalculation} [tierSizeCalculation] Tier size calculation method: `default` or `truncated`.\r\n * @property {import(\"../size.js\").Size} size Size.\r\n * @property {import(\"../extent.js\").Extent} [extent] Extent for the TileGrid that is created.\r\n * Default sets the TileGrid in the\r\n * fourth quadrant, meaning extent is `[0, -height, width, 0]`. To change the\r\n * extent to the first quadrant (the default for OpenLayers 2) set the extent\r\n * as `[0, 0, width, height]`.\r\n * @property {number} [transition] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {number} [tileSize=256] Tile size. Same tile size is used for all zoom levels.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for tile data in Zoomify format (both Zoomify and Internet\r\n * Imaging Protocol are supported).\r\n * @api\r\n */\r\nclass Zoomify extends TileImage {\r\n  /**\r\n   * @param {Options} options Options.\r\n   */\r\n  constructor(options) {\r\n    const size = options.size;\r\n    const tierSizeCalculation =\r\n      options.tierSizeCalculation !== undefined\r\n        ? options.tierSizeCalculation\r\n        : 'default';\r\n\r\n    const tilePixelRatio = options.tilePixelRatio || 1;\r\n    const imageWidth = size[0];\r\n    const imageHeight = size[1];\r\n    const tierSizeInTiles = [];\r\n    const tileSize = options.tileSize || DEFAULT_TILE_SIZE;\r\n    let tileSizeForTierSizeCalculation = tileSize * tilePixelRatio;\r\n\r\n    switch (tierSizeCalculation) {\r\n      case 'default':\r\n        while (\r\n          imageWidth > tileSizeForTierSizeCalculation ||\r\n          imageHeight > tileSizeForTierSizeCalculation\r\n        ) {\r\n          tierSizeInTiles.push([\r\n            Math.ceil(imageWidth / tileSizeForTierSizeCalculation),\r\n            Math.ceil(imageHeight / tileSizeForTierSizeCalculation),\r\n          ]);\r\n          tileSizeForTierSizeCalculation += tileSizeForTierSizeCalculation;\r\n        }\r\n        break;\r\n      case 'truncated':\r\n        let width = imageWidth;\r\n        let height = imageHeight;\r\n        while (\r\n          width > tileSizeForTierSizeCalculation ||\r\n          height > tileSizeForTierSizeCalculation\r\n        ) {\r\n          tierSizeInTiles.push([\r\n            Math.ceil(width / tileSizeForTierSizeCalculation),\r\n            Math.ceil(height / tileSizeForTierSizeCalculation),\r\n          ]);\r\n          width >>= 1;\r\n          height >>= 1;\r\n        }\r\n        break;\r\n      default:\r\n        throw new Error('Unknown `tierSizeCalculation` configured');\r\n    }\r\n\r\n    tierSizeInTiles.push([1, 1]);\r\n    tierSizeInTiles.reverse();\r\n\r\n    const resolutions = [tilePixelRatio];\r\n    const tileCountUpToTier = [0];\r\n    for (let i = 1, ii = tierSizeInTiles.length; i < ii; i++) {\r\n      resolutions.push(tilePixelRatio << i);\r\n      tileCountUpToTier.push(\r\n        tierSizeInTiles[i - 1][0] * tierSizeInTiles[i - 1][1] +\r\n          tileCountUpToTier[i - 1],\r\n      );\r\n    }\r\n    resolutions.reverse();\r\n\r\n    const tileGrid = new TileGrid({\r\n      tileSize: tileSize,\r\n      extent: options.extent || [0, -imageHeight, imageWidth, 0],\r\n      resolutions: resolutions,\r\n    });\r\n\r\n    let url = options.url;\r\n    if (url && !url.includes('{TileGroup}') && !url.includes('{tileIndex}')) {\r\n      url += '{TileGroup}/{z}-{x}-{y}.jpg';\r\n    }\r\n    const urls = expandUrl(url);\r\n\r\n    let tileWidth = tileSize * tilePixelRatio;\r\n\r\n    /**\r\n     * @param {string} template Template.\r\n     * @return {import(\"../Tile.js\").UrlFunction} Tile URL function.\r\n     */\r\n    function createFromTemplate(template) {\r\n      return (\r\n        /**\r\n         * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\r\n         * @param {number} pixelRatio Pixel ratio.\r\n         * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n         * @return {string|undefined} Tile URL.\r\n         */\r\n        function (tileCoord, pixelRatio, projection) {\r\n          if (!tileCoord) {\r\n            return undefined;\r\n          }\r\n          const tileCoordZ = tileCoord[0];\r\n          const tileCoordX = tileCoord[1];\r\n          const tileCoordY = tileCoord[2];\r\n          const tileIndex =\r\n            tileCoordX + tileCoordY * tierSizeInTiles[tileCoordZ][0];\r\n          const tileGroup =\r\n            ((tileIndex + tileCountUpToTier[tileCoordZ]) / tileWidth) | 0;\r\n          const localContext = {\r\n            'z': tileCoordZ,\r\n            'x': tileCoordX,\r\n            'y': tileCoordY,\r\n            'tileIndex': tileIndex,\r\n            'TileGroup': 'TileGroup' + tileGroup,\r\n          };\r\n          return template.replace(/\\{(\\w+?)\\}/g, function (m, p) {\r\n            return localContext[p];\r\n          });\r\n        }\r\n      );\r\n    }\r\n\r\n    const tileUrlFunction = createFromTileUrlFunctions(\r\n      urls.map(createFromTemplate),\r\n    );\r\n\r\n    const ZoomifyTileClass = CustomTile.bind(\r\n      null,\r\n      toSize(tileSize * tilePixelRatio),\r\n    );\r\n\r\n    super({\r\n      attributions: options.attributions,\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin: options.crossOrigin,\r\n      referrerPolicy: options.referrerPolicy,\r\n      interpolate: options.interpolate,\r\n      projection: options.projection,\r\n      tilePixelRatio: tilePixelRatio,\r\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\r\n      tileClass: ZoomifyTileClass,\r\n      tileGrid: tileGrid,\r\n      tileUrlFunction: tileUrlFunction,\r\n      transition: options.transition,\r\n    });\r\n\r\n    /**\r\n     * @type {number|import(\"../array.js\").NearestDirectionFunction}\r\n     */\r\n    this.zDirection = options.zDirection;\r\n\r\n    // Server retina tile detection (non-standard):\r\n    // Try loading the center tile for the highest resolution. If it is not\r\n    // available, we are dealing with retina tiles, and need to adjust the\r\n    // tile url calculation.\r\n    const tileUrl = tileGrid.getTileCoordForCoordAndResolution(\r\n      getCenter(tileGrid.getExtent()),\r\n      resolutions[resolutions.length - 1],\r\n    );\r\n    const testTileUrl = tileUrlFunction(tileUrl, 1, null);\r\n    const image = new Image();\r\n    image.addEventListener('error', () => {\r\n      tileWidth = tileSize;\r\n      this.changed();\r\n    });\r\n    image.src = testTileUrl;\r\n  }\r\n}\r\n\r\nexport default Zoomify;\r\n", "/**\r\n * @module ol/source/IIIF\r\n */\r\n\r\nimport {assert} from '../asserts.js';\r\nimport {getTopLeft} from '../extent.js';\r\nimport {Versions} from '../format/IIIFInfo.js';\r\nimport {toSize} from '../size.js';\r\nimport TileGrid from '../tilegrid/TileGrid.js';\r\nimport {DEFAULT_TILE_SIZE} from '../tilegrid/common.js';\r\nimport TileImage from './TileImage.js';\r\nimport {CustomTile} from './Zoomify.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {null|string} [crossOrigin] The value for the crossOrigin option of the request.\r\n * @property {import(\"../extent.js\").Extent} [extent=[0, -height, width, 0]] The extent.\r\n * @property {string} [format='jpg'] Requested image format.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection.\r\n * @property {string} [quality] Requested IIIF image quality. Default is 'native'\r\n * for version 1, 'default' for versions 2 and 3.\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {Array<number>} [resolutions] Supported resolutions as given in IIIF 'scaleFactors'\r\n * @property {import(\"../size.js\").Size} size Size of the image [width, height].\r\n * @property {Array<import(\"../size.js\").Size>} [sizes] Supported scaled image sizes.\r\n * Content of the IIIF info.json 'sizes' property, but as array of Size objects.\r\n * @property {import(\"./Source.js\").State} [state] Source state.\r\n * @property {Array<string>} [supports=[]] Supported IIIF region and size calculation\r\n * features.\r\n * @property {number} [tilePixelRatio] Tile pixel ratio.\r\n * @property {number|import(\"../size.js\").Size} [tileSize] Tile size.\r\n * Same tile size is used for all zoom levels. If tile size is a number,\r\n * a square tile is assumed. If the IIIF image service supports arbitrary\r\n * tiling (sizeByH, sizeByW, sizeByWh or sizeByPct as well as regionByPx or regionByPct\r\n * are supported), the default tilesize is 256.\r\n * @property {number} [transition] Transition.\r\n * @property {string} [url] Base URL of the IIIF Image service.\r\n * This should be the same as the IIIF Image ID.\r\n * @property {import(\"../format/IIIFInfo.js\").Versions} [version=Versions.VERSION2] Service's IIIF Image API version.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\nfunction formatPercentage(percentage) {\r\n  return percentage.toLocaleString('en', {maximumFractionDigits: 10});\r\n}\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for IIIF Image API services.\r\n * @api\r\n */\r\nclass IIIF extends TileImage {\r\n  /**\r\n   * @param {Options} [options] Tile source options. Use {@link import(\"../format/IIIFInfo.js\").IIIFInfo}\r\n   * to parse Image API service information responses into constructor options.\r\n   * @api\r\n   */\r\n  constructor(options) {\r\n    /**\r\n     * @type {Partial<Options>}\r\n     */\r\n    const partialOptions = options || {};\r\n\r\n    let baseUrl = partialOptions.url || '';\r\n    baseUrl =\r\n      baseUrl +\r\n      (baseUrl.lastIndexOf('/') === baseUrl.length - 1 || baseUrl === ''\r\n        ? ''\r\n        : '/');\r\n    const version = partialOptions.version || Versions.VERSION2;\r\n    const sizes = partialOptions.sizes || [];\r\n    const size = partialOptions.size;\r\n    assert(\r\n      size != undefined &&\r\n        Array.isArray(size) &&\r\n        size.length == 2 &&\r\n        !isNaN(size[0]) &&\r\n        size[0] > 0 &&\r\n        !isNaN(size[1]) &&\r\n        size[1] > 0,\r\n      'Missing or invalid `size`',\r\n    );\r\n    const width = size[0];\r\n    const height = size[1];\r\n    const tileSize = partialOptions.tileSize;\r\n    const tilePixelRatio = partialOptions.tilePixelRatio || 1;\r\n    const format = partialOptions.format || 'jpg';\r\n    const quality =\r\n      partialOptions.quality ||\r\n      (partialOptions.version == Versions.VERSION1 ? 'native' : 'default');\r\n    let resolutions = partialOptions.resolutions || [];\r\n    const supports = partialOptions.supports || [];\r\n    const extent = partialOptions.extent || [0, -height, width, 0];\r\n\r\n    const supportsListedSizes =\r\n      sizes != undefined && Array.isArray(sizes) && sizes.length > 0;\r\n    const supportsListedTiles =\r\n      tileSize !== undefined &&\r\n      ((typeof tileSize === 'number' &&\r\n        Number.isInteger(tileSize) &&\r\n        tileSize > 0) ||\r\n        (Array.isArray(tileSize) && tileSize.length > 0));\r\n    const supportsArbitraryTiling =\r\n      supports != undefined &&\r\n      Array.isArray(supports) &&\r\n      (supports.includes('regionByPx') || supports.includes('regionByPct')) &&\r\n      (supports.includes('sizeByWh') ||\r\n        supports.includes('sizeByH') ||\r\n        supports.includes('sizeByW') ||\r\n        supports.includes('sizeByPct'));\r\n\r\n    let tileWidth, tileHeight, maxZoom;\r\n\r\n    resolutions.sort(function (a, b) {\r\n      return b - a;\r\n    });\r\n\r\n    if (supportsListedTiles || supportsArbitraryTiling) {\r\n      if (tileSize != undefined) {\r\n        if (\r\n          typeof tileSize === 'number' &&\r\n          Number.isInteger(tileSize) &&\r\n          tileSize > 0\r\n        ) {\r\n          tileWidth = tileSize;\r\n          tileHeight = tileSize;\r\n        } else if (Array.isArray(tileSize) && tileSize.length > 0) {\r\n          if (\r\n            tileSize.length == 1 ||\r\n            (tileSize[1] == undefined && Number.isInteger(tileSize[0]))\r\n          ) {\r\n            tileWidth = tileSize[0];\r\n            tileHeight = tileSize[0];\r\n          }\r\n          if (tileSize.length == 2) {\r\n            if (\r\n              Number.isInteger(tileSize[0]) &&\r\n              Number.isInteger(tileSize[1])\r\n            ) {\r\n              tileWidth = tileSize[0];\r\n              tileHeight = tileSize[1];\r\n            } else if (\r\n              tileSize[0] == undefined &&\r\n              Number.isInteger(tileSize[1])\r\n            ) {\r\n              tileWidth = tileSize[1];\r\n              tileHeight = tileSize[1];\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (tileWidth === undefined || tileHeight === undefined) {\r\n        tileWidth = DEFAULT_TILE_SIZE;\r\n        tileHeight = DEFAULT_TILE_SIZE;\r\n      }\r\n      if (resolutions.length == 0) {\r\n        maxZoom = Math.max(\r\n          Math.ceil(Math.log(width / tileWidth) / Math.LN2),\r\n          Math.ceil(Math.log(height / tileHeight) / Math.LN2),\r\n        );\r\n        for (let i = maxZoom; i >= 0; i--) {\r\n          resolutions.push(Math.pow(2, i));\r\n        }\r\n      } else {\r\n        const maxScaleFactor = Math.max(...resolutions);\r\n        // TODO maxScaleFactor might not be a power to 2\r\n        maxZoom = Math.round(Math.log(maxScaleFactor) / Math.LN2);\r\n      }\r\n    } else {\r\n      // No tile support.\r\n      tileWidth = width;\r\n      tileHeight = height;\r\n      resolutions = [];\r\n      if (supportsListedSizes) {\r\n        /*\r\n         * 'sizes' provided. Use full region in different resolutions. Every\r\n         * resolution has only one tile.\r\n         */\r\n        sizes.sort(function (a, b) {\r\n          return a[0] - b[0];\r\n        });\r\n        maxZoom = -1;\r\n        const ignoredSizesIndex = [];\r\n        for (let i = 0; i < sizes.length; i++) {\r\n          const resolution = width / sizes[i][0];\r\n          if (\r\n            resolutions.length > 0 &&\r\n            resolutions[resolutions.length - 1] == resolution\r\n          ) {\r\n            ignoredSizesIndex.push(i);\r\n            continue;\r\n          }\r\n          resolutions.push(resolution);\r\n          maxZoom++;\r\n        }\r\n        if (ignoredSizesIndex.length > 0) {\r\n          for (let i = 0; i < ignoredSizesIndex.length; i++) {\r\n            sizes.splice(ignoredSizesIndex[i] - i, 1);\r\n          }\r\n        }\r\n      } else {\r\n        // No useful image information at all. Try pseudo tile with full image.\r\n        resolutions.push(1);\r\n        sizes.push([width, height]);\r\n        maxZoom = 0;\r\n      }\r\n    }\r\n\r\n    const tileGrid = new TileGrid({\r\n      tileSize: [tileWidth, tileHeight],\r\n      extent: extent,\r\n      origin: getTopLeft(extent),\r\n      resolutions: resolutions,\r\n    });\r\n\r\n    const tileUrlFunction = function (tileCoord, pixelRatio, projection) {\r\n      let regionParam, sizeParam;\r\n      const zoom = tileCoord[0];\r\n      if (zoom > maxZoom) {\r\n        return;\r\n      }\r\n      const tileX = tileCoord[1],\r\n        tileY = tileCoord[2],\r\n        scale = resolutions[zoom];\r\n      if (\r\n        tileX === undefined ||\r\n        tileY === undefined ||\r\n        scale === undefined ||\r\n        tileX < 0 ||\r\n        Math.ceil(width / scale / tileWidth) <= tileX ||\r\n        tileY < 0 ||\r\n        Math.ceil(height / scale / tileHeight) <= tileY\r\n      ) {\r\n        return;\r\n      }\r\n      if (supportsArbitraryTiling || supportsListedTiles) {\r\n        const regionX = tileX * tileWidth * scale,\r\n          regionY = tileY * tileHeight * scale;\r\n        let regionW = tileWidth * scale,\r\n          regionH = tileHeight * scale,\r\n          sizeW = tileWidth,\r\n          sizeH = tileHeight;\r\n        if (regionX + regionW > width) {\r\n          regionW = width - regionX;\r\n        }\r\n        if (regionY + regionH > height) {\r\n          regionH = height - regionY;\r\n        }\r\n        if (regionX + tileWidth * scale > width) {\r\n          sizeW = Math.floor((width - regionX + scale - 1) / scale);\r\n        }\r\n        if (regionY + tileHeight * scale > height) {\r\n          sizeH = Math.floor((height - regionY + scale - 1) / scale);\r\n        }\r\n        if (\r\n          regionX == 0 &&\r\n          regionW == width &&\r\n          regionY == 0 &&\r\n          regionH == height\r\n        ) {\r\n          // canonical full image region parameter is 'full', not 'x,y,w,h'\r\n          regionParam = 'full';\r\n        } else if (\r\n          !supportsArbitraryTiling ||\r\n          supports.includes('regionByPx')\r\n        ) {\r\n          regionParam = regionX + ',' + regionY + ',' + regionW + ',' + regionH;\r\n        } else if (supports.includes('regionByPct')) {\r\n          const pctX = formatPercentage((regionX / width) * 100),\r\n            pctY = formatPercentage((regionY / height) * 100),\r\n            pctW = formatPercentage((regionW / width) * 100),\r\n            pctH = formatPercentage((regionH / height) * 100);\r\n          regionParam = 'pct:' + pctX + ',' + pctY + ',' + pctW + ',' + pctH;\r\n        }\r\n        if (\r\n          version == Versions.VERSION3 &&\r\n          (!supportsArbitraryTiling || supports.includes('sizeByWh'))\r\n        ) {\r\n          sizeParam = sizeW + ',' + sizeH;\r\n        } else if (!supportsArbitraryTiling || supports.includes('sizeByW')) {\r\n          sizeParam = sizeW + ',';\r\n        } else if (supports.includes('sizeByH')) {\r\n          sizeParam = ',' + sizeH;\r\n        } else if (supports.includes('sizeByWh')) {\r\n          sizeParam = sizeW + ',' + sizeH;\r\n        } else if (supports.includes('sizeByPct')) {\r\n          sizeParam = 'pct:' + formatPercentage(100 / scale);\r\n        }\r\n      } else {\r\n        regionParam = 'full';\r\n        if (supportsListedSizes) {\r\n          const regionWidth = sizes[zoom][0],\r\n            regionHeight = sizes[zoom][1];\r\n          if (version == Versions.VERSION3) {\r\n            if (regionWidth == width && regionHeight == height) {\r\n              sizeParam = 'max';\r\n            } else {\r\n              sizeParam = regionWidth + ',' + regionHeight;\r\n            }\r\n          } else {\r\n            if (regionWidth == width) {\r\n              sizeParam = 'full';\r\n            } else {\r\n              sizeParam = regionWidth + ',';\r\n            }\r\n          }\r\n        } else {\r\n          sizeParam = version == Versions.VERSION3 ? 'max' : 'full';\r\n        }\r\n      }\r\n      return (\r\n        baseUrl + regionParam + '/' + sizeParam + '/0/' + quality + '.' + format\r\n      );\r\n    };\r\n\r\n    const IiifTileClass = CustomTile.bind(\r\n      null,\r\n      toSize(tileSize || 256).map(function (size) {\r\n        return size * tilePixelRatio;\r\n      }),\r\n    );\r\n\r\n    super({\r\n      attributions: partialOptions.attributions,\r\n      attributionsCollapsible: partialOptions.attributionsCollapsible,\r\n      cacheSize: partialOptions.cacheSize,\r\n      crossOrigin: partialOptions.crossOrigin,\r\n      interpolate: partialOptions.interpolate,\r\n      projection: partialOptions.projection,\r\n      reprojectionErrorThreshold: partialOptions.reprojectionErrorThreshold,\r\n      state: partialOptions.state,\r\n      tileClass: IiifTileClass,\r\n      tileGrid: tileGrid,\r\n      tilePixelRatio: partialOptions.tilePixelRatio,\r\n      tileUrlFunction: tileUrlFunction,\r\n      transition: partialOptions.transition,\r\n    });\r\n\r\n    /**\r\n     * @type {number|import(\"../array.js\").NearestDirectionFunction}\r\n     */\r\n    this.zDirection = partialOptions.zDirection;\r\n  }\r\n}\r\n\r\nexport default IIIF;\r\n", "/**\r\n * @module ol/resolution\r\n */\r\n\r\n/**\r\n * @typedef {number|Array<number>} ResolutionLike\r\n */\r\n\r\n/**\r\n * @param {ResolutionLike} resolution Resolution.\r\n * @return {number} Resolution.\r\n */\r\nexport function fromResolutionLike(resolution) {\r\n  if (Array.isArray(resolution)) {\r\n    return Math.min(...resolution);\r\n  }\r\n  return resolution;\r\n}\r\n", "/**\r\n * @module ol/reproj/Image\r\n */\r\n\r\nimport ImageWrapper from '../Image.js';\r\nimport ImageState from '../ImageState.js';\r\nimport EventType from '../events/EventType.js';\r\nimport {listen, unlistenByKey} from '../events.js';\r\nimport {\r\n  getCenter,\r\n  getHeight,\r\n  getIntersection,\r\n  getWidth,\r\n  isEmpty,\r\n} from '../extent.js';\r\nimport {\r\n  calculateSourceResolution,\r\n  render as renderReprojected,\r\n} from '../reproj.js';\r\nimport {fromResolutionLike} from '../resolution.js';\r\nimport Triangulation from './Triangulation.js';\r\nimport {ERROR_THRESHOLD} from './common.js';\r\n\r\n/**\r\n * @typedef {function(import(\"../extent.js\").Extent, number, number) : import(\"../Image.js\").default} FunctionType\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Class encapsulating single reprojected image.\r\n * See {@link module:ol/source/Image~ImageSource}.\r\n */\r\nclass ReprojImage extends ImageWrapper {\r\n  /**\r\n   * @param {import(\"../proj/Projection.js\").default} sourceProj Source projection (of the data).\r\n   * @param {import(\"../proj/Projection.js\").default} targetProj Target projection.\r\n   * @param {import(\"../extent.js\").Extent} targetExtent Target extent.\r\n   * @param {number} targetResolution Target resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {FunctionType} getImageFunction\r\n   *     Function returning source images (extent, resolution, pixelRatio).\r\n   * @param {boolean} interpolate Use linear interpolation when resampling.\r\n   */\r\n  constructor(\r\n    sourceProj,\r\n    targetProj,\r\n    targetExtent,\r\n    targetResolution,\r\n    pixelRatio,\r\n    getImageFunction,\r\n    interpolate,\r\n  ) {\r\n    let maxSourceExtent = sourceProj.getExtent();\r\n    if (maxSourceExtent && sourceProj.canWrapX()) {\r\n      maxSourceExtent = maxSourceExtent.slice();\r\n      maxSourceExtent[0] = -Infinity;\r\n      maxSourceExtent[2] = Infinity;\r\n    }\r\n    let maxTargetExtent = targetProj.getExtent();\r\n    if (maxTargetExtent && targetProj.canWrapX()) {\r\n      maxTargetExtent = maxTargetExtent.slice();\r\n      maxTargetExtent[0] = -Infinity;\r\n      maxTargetExtent[2] = Infinity;\r\n    }\r\n\r\n    const limitedTargetExtent = maxTargetExtent\r\n      ? getIntersection(targetExtent, maxTargetExtent)\r\n      : targetExtent;\r\n\r\n    const targetCenter = getCenter(limitedTargetExtent);\r\n    const sourceResolution = calculateSourceResolution(\r\n      sourceProj,\r\n      targetProj,\r\n      targetCenter,\r\n      targetResolution,\r\n    );\r\n\r\n    const errorThresholdInPixels = ERROR_THRESHOLD;\r\n\r\n    const triangulation = new Triangulation(\r\n      sourceProj,\r\n      targetProj,\r\n      limitedTargetExtent,\r\n      maxSourceExtent,\r\n      sourceResolution * errorThresholdInPixels,\r\n      targetResolution,\r\n    );\r\n\r\n    const sourceExtent = triangulation.calculateSourceExtent();\r\n    const sourceImage = isEmpty(sourceExtent)\r\n      ? null\r\n      : getImageFunction(sourceExtent, sourceResolution, pixelRatio);\r\n    const state = sourceImage ? ImageState.IDLE : ImageState.EMPTY;\r\n    const sourcePixelRatio = sourceImage ? sourceImage.getPixelRatio() : 1;\r\n\r\n    super(targetExtent, targetResolution, sourcePixelRatio, state);\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../proj/Projection.js\").default}\r\n     */\r\n    this.targetProj_ = targetProj;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../extent.js\").Extent}\r\n     */\r\n    this.maxSourceExtent_ = maxSourceExtent;\r\n\r\n    /**\r\n     * @private\r\n     * @type {!import(\"./Triangulation.js\").default}\r\n     */\r\n    this.triangulation_ = triangulation;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.targetResolution_ = targetResolution;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../extent.js\").Extent}\r\n     */\r\n    this.targetExtent_ = targetExtent;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../Image.js\").default}\r\n     */\r\n    this.sourceImage_ = sourceImage;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.sourcePixelRatio_ = sourcePixelRatio;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.interpolate_ = interpolate;\r\n\r\n    /**\r\n     * @private\r\n     * @type {HTMLCanvasElement|OffscreenCanvas}\r\n     */\r\n    this.canvas_ = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {?import(\"../events.js\").EventsKey}\r\n     */\r\n    this.sourceListenerKey_ = null;\r\n  }\r\n\r\n  /**\r\n   * Clean up.\r\n   * @override\r\n   */\r\n  disposeInternal() {\r\n    if (this.state == ImageState.LOADING) {\r\n      this.unlistenSource_();\r\n    }\r\n    super.disposeInternal();\r\n  }\r\n\r\n  /**\r\n   * @return {HTMLCanvasElement|OffscreenCanvas} Image.\r\n   * @override\r\n   */\r\n  getImage() {\r\n    return this.canvas_;\r\n  }\r\n\r\n  /**\r\n   * @return {import(\"../proj/Projection.js\").default} Projection.\r\n   */\r\n  getProjection() {\r\n    return this.targetProj_;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  reproject_() {\r\n    const sourceState = this.sourceImage_.getState();\r\n    if (sourceState == ImageState.LOADED) {\r\n      const width = getWidth(this.targetExtent_) / this.targetResolution_;\r\n      const height = getHeight(this.targetExtent_) / this.targetResolution_;\r\n      this.canvas_ = renderReprojected(\r\n        width,\r\n        height,\r\n        this.sourcePixelRatio_,\r\n        fromResolutionLike(this.sourceImage_.getResolution()),\r\n        this.maxSourceExtent_,\r\n        this.targetResolution_,\r\n        this.targetExtent_,\r\n        this.triangulation_,\r\n        [\r\n          {\r\n            extent: this.sourceImage_.getExtent(),\r\n            image: this.sourceImage_.getImage(),\r\n          },\r\n        ],\r\n        0,\r\n        undefined,\r\n        this.interpolate_,\r\n        true,\r\n      );\r\n    }\r\n    this.state = sourceState;\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * Load not yet loaded URI.\r\n   * @override\r\n   */\r\n  load() {\r\n    if (this.state == ImageState.IDLE) {\r\n      this.state = ImageState.LOADING;\r\n      this.changed();\r\n\r\n      const sourceState = this.sourceImage_.getState();\r\n      if (sourceState == ImageState.LOADED || sourceState == ImageState.ERROR) {\r\n        this.reproject_();\r\n      } else {\r\n        this.sourceListenerKey_ = listen(\r\n          this.sourceImage_,\r\n          EventType.CHANGE,\r\n          (e) => {\r\n            const sourceState = this.sourceImage_.getState();\r\n            if (\r\n              sourceState == ImageState.LOADED ||\r\n              sourceState == ImageState.ERROR\r\n            ) {\r\n              this.unlistenSource_();\r\n              this.reproject_();\r\n            }\r\n          },\r\n        );\r\n        this.sourceImage_.load();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  unlistenSource_() {\r\n    unlistenByKey(\r\n      /** @type {!import(\"../events.js\").EventsKey} */ (\r\n        this.sourceListenerKey_\r\n      ),\r\n    );\r\n    this.sourceListenerKey_ = null;\r\n  }\r\n}\r\n\r\nexport default ReprojImage;\r\n", "/**\r\n * @module ol/source/common\r\n */\r\n\r\n/**\r\n * Default WMS version.\r\n * @type {string}\r\n */\r\nexport const DEFAULT_WMS_VERSION = '1.3.0';\r\n\r\n/**\r\n * Number of decimal digits to consider in integer values when rounding.\r\n * @type {number}\r\n */\r\nexport const DECIMALS = 4;\r\n", "/**\r\n * @module ol/source/Image\r\n */\r\nimport ImageWrapper from '../Image.js';\r\nimport ImageState from '../ImageState.js';\r\nimport {linearFindNearest} from '../array.js';\r\nimport Event from '../events/Event.js';\r\nimport EventType from '../events/EventType.js';\r\nimport {\r\n  containsExtent,\r\n  equals,\r\n  getCenter,\r\n  getForViewAndSize,\r\n  getHeight,\r\n  getWidth,\r\n} from '../extent.js';\r\nimport {ceil} from '../math.js';\r\nimport {equivalent} from '../proj.js';\r\nimport ReprojImage from '../reproj/Image.js';\r\nimport {fromResolutionLike} from '../resolution.js';\r\nimport Source from './Source.js';\r\nimport {DECIMALS} from './common.js';\r\n\r\n/**\r\n * @enum {string}\r\n */\r\nexport const ImageSourceEventType = {\r\n  /**\r\n   * Triggered when an image starts loading.\r\n   * @event module:ol/source/Image.ImageSourceEvent#imageloadstart\r\n   * @api\r\n   */\r\n  IMAGELOADSTART: 'imageloadstart',\r\n\r\n  /**\r\n   * Triggered when an image finishes loading.\r\n   * @event module:ol/source/Image.ImageSourceEvent#imageloadend\r\n   * @api\r\n   */\r\n  IMAGELOADEND: 'imageloadend',\r\n\r\n  /**\r\n   * Triggered if image loading results in an error.\r\n   * @event module:ol/source/Image.ImageSourceEvent#imageloaderror\r\n   * @api\r\n   */\r\n  IMAGELOADERROR: 'imageloaderror',\r\n};\r\n\r\n/**\r\n * @typedef {'imageloadend'|'imageloaderror'|'imageloadstart'} ImageSourceEventTypes\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Events emitted by {@link module:ol/source/Image~ImageSource} instances are instances of this\r\n * type.\r\n */\r\nexport class ImageSourceEvent extends Event {\r\n  /**\r\n   * @param {string} type Type.\r\n   * @param {import(\"../Image.js\").default} image The image.\r\n   */\r\n  constructor(type, image) {\r\n    super(type);\r\n\r\n    /**\r\n     * The image related to the event.\r\n     * @type {import(\"../Image.js\").default}\r\n     * @api\r\n     */\r\n    this.image = image;\r\n  }\r\n}\r\n\r\n/***\r\n * @template Return\r\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\r\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\r\n *   import(\"../Observable\").OnSignature<ImageSourceEventTypes, ImageSourceEvent, Return> &\r\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types\r\n *     |ImageSourceEventTypes, Return>} ImageSourceOnSignature\r\n */\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {import(\"../Image.js\").Loader} [loader] Loader. Can either be a custom loader, or one of the\r\n * loaders created with a `createLoader()` function ({@link module:ol/source/wms.createLoader wms},\r\n * {@link module:ol/source/arcgisRest.createLoader arcgisRest}, {@link module:ol/source/mapguide.createLoader mapguide},\r\n * {@link module:ol/source/static.createLoader static}).\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection.\r\n * @property {Array<number>} [resolutions] Resolutions.\r\n * @property {import(\"./Source.js\").State} [state] State.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Base class for sources providing a single image.\r\n * @fires module:ol/source/Image.ImageSourceEvent\r\n * @api\r\n */\r\nclass ImageSource extends Source {\r\n  /**\r\n   * @param {Options} options Single image source options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      attributions: options.attributions,\r\n      projection: options.projection,\r\n      state: options.state,\r\n      interpolate:\r\n        options.interpolate !== undefined ? options.interpolate : true,\r\n    });\r\n\r\n    /***\r\n     * @type {ImageSourceOnSignature<import(\"../events\").EventsKey>}\r\n     */\r\n    this.on;\r\n\r\n    /***\r\n     * @type {ImageSourceOnSignature<import(\"../events\").EventsKey>}\r\n     */\r\n    this.once;\r\n\r\n    /***\r\n     * @type {ImageSourceOnSignature<void>}\r\n     */\r\n    this.un;\r\n\r\n    /**\r\n     * @protected\r\n     * @type {import(\"../Image.js\").Loader}\r\n     */\r\n    this.loader = options.loader || null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {Array<number>|null}\r\n     */\r\n    this.resolutions_ =\r\n      options.resolutions !== undefined ? options.resolutions : null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../reproj/Image.js\").default}\r\n     */\r\n    this.reprojectedImage_ = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.reprojectedRevision_ = 0;\r\n\r\n    /**\r\n     * @protected\r\n     * @type {import(\"../Image.js\").default}\r\n     */\r\n    this.image = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../extent.js\").Extent}\r\n     */\r\n    this.wantedExtent_;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.wantedResolution_;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.static_ = options.loader ? options.loader.length === 0 : false;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../proj/Projection.js\").default}\r\n     */\r\n    this.wantedProjection_ = null;\r\n  }\r\n\r\n  /**\r\n   * @return {Array<number>|null} Resolutions.\r\n   * @override\r\n   */\r\n  getResolutions() {\r\n    return this.resolutions_;\r\n  }\r\n\r\n  /**\r\n   * @param {Array<number>|null} resolutions Resolutions.\r\n   */\r\n  setResolutions(resolutions) {\r\n    this.resolutions_ = resolutions;\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   * @param {number} resolution Resolution.\r\n   * @return {number} Resolution.\r\n   */\r\n  findNearestResolution(resolution) {\r\n    const resolutions = this.getResolutions();\r\n    if (resolutions) {\r\n      const idx = linearFindNearest(resolutions, resolution, 0);\r\n      resolution = resolutions[idx];\r\n    }\r\n    return resolution;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../extent.js\").Extent} extent Extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {import(\"../Image.js\").default} Single image.\r\n   */\r\n  getImage(extent, resolution, pixelRatio, projection) {\r\n    const sourceProjection = this.getProjection();\r\n    if (\r\n      !sourceProjection ||\r\n      !projection ||\r\n      equivalent(sourceProjection, projection)\r\n    ) {\r\n      if (sourceProjection) {\r\n        projection = sourceProjection;\r\n      }\r\n\r\n      return this.getImageInternal(extent, resolution, pixelRatio, projection);\r\n    }\r\n    if (this.reprojectedImage_) {\r\n      if (\r\n        this.reprojectedRevision_ == this.getRevision() &&\r\n        equivalent(this.reprojectedImage_.getProjection(), projection) &&\r\n        this.reprojectedImage_.getResolution() == resolution &&\r\n        equals(this.reprojectedImage_.getExtent(), extent)\r\n      ) {\r\n        return this.reprojectedImage_;\r\n      }\r\n      this.reprojectedImage_.dispose();\r\n      this.reprojectedImage_ = null;\r\n    }\r\n\r\n    this.reprojectedImage_ = new ReprojImage(\r\n      sourceProjection,\r\n      projection,\r\n      extent,\r\n      resolution,\r\n      pixelRatio,\r\n      (extent, resolution, pixelRatio) =>\r\n        this.getImageInternal(extent, resolution, pixelRatio, sourceProjection),\r\n      this.getInterpolate(),\r\n    );\r\n    this.reprojectedRevision_ = this.getRevision();\r\n\r\n    return this.reprojectedImage_;\r\n  }\r\n\r\n  /**\r\n   * @abstract\r\n   * @param {import(\"../extent.js\").Extent} extent Extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {import(\"../Image.js\").default} Single image.\r\n   * @protected\r\n   */\r\n  getImageInternal(extent, resolution, pixelRatio, projection) {\r\n    if (this.loader) {\r\n      const requestExtent = getRequestExtent(extent, resolution, pixelRatio, 1);\r\n      const requestResolution = this.findNearestResolution(resolution);\r\n      if (\r\n        this.image &&\r\n        (this.static_ ||\r\n          (this.wantedProjection_ === projection &&\r\n            ((this.wantedExtent_ &&\r\n              containsExtent(this.wantedExtent_, requestExtent)) ||\r\n              containsExtent(this.image.getExtent(), requestExtent)) &&\r\n            ((this.wantedResolution_ &&\r\n              fromResolutionLike(this.wantedResolution_) ===\r\n                requestResolution) ||\r\n              fromResolutionLike(this.image.getResolution()) ===\r\n                requestResolution)))\r\n      ) {\r\n        return this.image;\r\n      }\r\n      this.wantedProjection_ = projection;\r\n      this.wantedExtent_ = requestExtent;\r\n      this.wantedResolution_ = requestResolution;\r\n      this.image = new ImageWrapper(\r\n        requestExtent,\r\n        requestResolution,\r\n        pixelRatio,\r\n        this.loader,\r\n      );\r\n      this.image.addEventListener(\r\n        EventType.CHANGE,\r\n        this.handleImageChange.bind(this),\r\n      );\r\n    }\r\n    return this.image;\r\n  }\r\n\r\n  /**\r\n   * Handle image change events.\r\n   * @param {import(\"../events/Event.js\").default} event Event.\r\n   * @protected\r\n   */\r\n  handleImageChange(event) {\r\n    const image = /** @type {import(\"../Image.js\").default} */ (event.target);\r\n    let type;\r\n    switch (image.getState()) {\r\n      case ImageState.LOADING:\r\n        this.loading = true;\r\n        type = ImageSourceEventType.IMAGELOADSTART;\r\n        break;\r\n      case ImageState.LOADED:\r\n        this.loading = false;\r\n        type = ImageSourceEventType.IMAGELOADEND;\r\n        break;\r\n      case ImageState.ERROR:\r\n        this.loading = false;\r\n        type = ImageSourceEventType.IMAGELOADERROR;\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n    if (this.hasListener(type)) {\r\n      this.dispatchEvent(new ImageSourceEvent(type, image));\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Default image load function for image sources that use import(\"../Image.js\").Image image\r\n * instances.\r\n * @param {import(\"../Image.js\").default} image Image.\r\n * @param {string} src Source.\r\n */\r\nexport function defaultImageLoadFunction(image, src) {\r\n  /** @type {HTMLImageElement|HTMLVideoElement} */ (image.getImage()).src = src;\r\n}\r\n\r\n/**\r\n * Adjusts the extent so it aligns with pixel boundaries.\r\n * @param {import(\"../extent.js\").Extent} extent Extent.\r\n * @param {number} resolution Reolution.\r\n * @param {number} pixelRatio Pixel ratio.\r\n * @param {number} ratio Ratio between request size and view size.\r\n * @return {import(\"../extent.js\").Extent} Request extent.\r\n */\r\nexport function getRequestExtent(extent, resolution, pixelRatio, ratio) {\r\n  const imageResolution = resolution / pixelRatio;\r\n  const center = getCenter(extent);\r\n  const viewWidth = ceil(getWidth(extent) / imageResolution, DECIMALS);\r\n  const viewHeight = ceil(getHeight(extent) / imageResolution, DECIMALS);\r\n  const marginWidth = ceil(((ratio - 1) * viewWidth) / 2, DECIMALS);\r\n  const requestWidth = viewWidth + 2 * marginWidth;\r\n  const marginHeight = ceil(((ratio - 1) * viewHeight) / 2, DECIMALS);\r\n  const requestHeight = viewHeight + 2 * marginHeight;\r\n  return getForViewAndSize(center, imageResolution, 0, [\r\n    requestWidth,\r\n    requestHeight,\r\n  ]);\r\n}\r\n\r\nexport default ImageSource;\r\n", "/**\r\n * @module ol/source/arcgisRest\r\n */\r\n\r\nimport {decode} from '../Image.js';\r\nimport {getHeight, getWidth} from '../extent.js';\r\nimport {round} from '../math.js';\r\nimport {get as getProjection} from '../proj.js';\r\nimport {appendParams} from '../uri.js';\r\nimport {getRequestExtent} from './Image.js';\r\nimport {DECIMALS} from './common.js';\r\n\r\n/**\r\n * @param {string} baseUrl Base URL for the ArcGIS Rest service.\r\n * @param {import(\"../extent.js\").Extent} extent Extent.\r\n * @param {number} resolution Resolution.\r\n * @param {number} pixelRatio Pixel ratio.\r\n * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n * @param {Object} params Params.\r\n * @return {string} Request URL.\r\n */\r\nexport function getRequestUrl(\r\n  baseUrl,\r\n  extent,\r\n  resolution,\r\n  pixelRatio,\r\n  projection,\r\n  params,\r\n) {\r\n  // ArcGIS Server only wants the numeric portion of the projection ID.\r\n  // (if there is no numeric portion the entire projection code must\r\n  // form a valid ArcGIS SpatialReference definition).\r\n  const srid = projection\r\n    .getCode()\r\n    .split(/:(?=\\d+$)/)\r\n    .pop();\r\n\r\n  const imageResolution = resolution / pixelRatio;\r\n\r\n  const imageSize = [\r\n    round(getWidth(extent) / imageResolution, DECIMALS),\r\n    round(getHeight(extent) / imageResolution, DECIMALS),\r\n  ];\r\n\r\n  params['SIZE'] = imageSize[0] + ',' + imageSize[1];\r\n  params['BBOX'] = extent.join(',');\r\n  params['BBOXSR'] = srid;\r\n  params['IMAGESR'] = srid;\r\n  params['DPI'] = Math.round(\r\n    params['DPI'] ? params['DPI'] * pixelRatio : 90 * pixelRatio,\r\n  );\r\n\r\n  const modifiedUrl = baseUrl\r\n    .replace(/MapServer\\/?$/, 'MapServer/export')\r\n    .replace(/ImageServer\\/?$/, 'ImageServer/exportImage');\r\n  return appendParams(modifiedUrl, params);\r\n}\r\n\r\n/**\r\n * @typedef {Object} LoaderOptions\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting the image from\r\n * the remote server.\r\n * @property {Object<string,*>} [params] ArcGIS Rest parameters. This field is optional. Service\r\n * defaults will be used for any fields not specified. `FORMAT` is `PNG32` by default. `F` is\r\n * `IMAGE` by default. `TRANSPARENT` is `true` by default.  `BBOX`, `SIZE`, `BBOXSR`, and `IMAGESR`\r\n * will be set dynamically. Set `LAYERS` to override the default service layer visibility. See\r\n * https://developers.arcgis.com/rest/services-reference/export-map.htm\r\n * for further reference.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is 'EPSG:3857'.\r\n * The projection code must contain a numeric end portion separated by :\r\n * or the entire code must form a valid ArcGIS SpatialReference definition.\r\n * @property {number} [ratio=1.5] Ratio. `1` means image requests are the size of the map viewport,\r\n * `2` means twice the size of the map viewport, and so on.\r\n * @property {string} url ArcGIS Rest service URL for a Map Service or Image Service. The url\r\n * should include /MapServer or /ImageServer.\r\n * @property {function(HTMLImageElement, string): Promise<import('../DataTile.js').ImageLike>} [load] Function\r\n * to perform loading of the image. Receives the created `HTMLImageElement` and the desired `src` as argument and\r\n * returns a promise resolving to the loaded or decoded image. Default is {@link module:ol/Image.decode}.\r\n */\r\n\r\n/**\r\n * Creates a loader for ArcGIS Rest images.\r\n * @param {LoaderOptions} options Image ArcGIS Rest Options.\r\n * @return {import('../Image.js').ImageObjectPromiseLoader} ArcGIS Rest image.\r\n * @api\r\n */\r\nexport function createLoader(options) {\r\n  const load = options.load ? options.load : decode;\r\n  const projection = getProjection(options.projection || 'EPSG:3857');\r\n  const ratio = options.ratio ?? 1.5;\r\n  const crossOrigin = options.crossOrigin ?? null;\r\n  const referrerPolicy = options.referrerPolicy;\r\n\r\n  return function (extent, resolution, pixelRatio) {\r\n    pixelRatio = options.hidpi ? pixelRatio : 1;\r\n\r\n    const params = {\r\n      'F': 'image',\r\n      'FORMAT': 'PNG32',\r\n      'TRANSPARENT': true,\r\n    };\r\n    Object.assign(params, options.params);\r\n\r\n    extent = getRequestExtent(extent, resolution, pixelRatio, ratio);\r\n\r\n    const src = getRequestUrl(\r\n      options.url,\r\n      extent,\r\n      resolution,\r\n      pixelRatio,\r\n      projection,\r\n      params,\r\n    );\r\n\r\n    const image = new Image();\r\n    image.crossOrigin = crossOrigin;\r\n    if (referrerPolicy !== undefined) {\r\n      image.referrerPolicy = referrerPolicy;\r\n    }\r\n\r\n    return load(image, src).then((image) => {\r\n      // Update resolution, because the server may return a smaller size than requested\r\n      const resolution = (getWidth(extent) / image.width) * pixelRatio;\r\n      return {image, extent, resolution, pixelRatio};\r\n    });\r\n  };\r\n}\r\n", "/**\r\n * @module ol/source/ImageArcGISRest\r\n */\r\n\r\nimport {decode} from '../Image.js';\r\nimport ImageSource, {defaultImageLoadFunction} from './Image.js';\r\nimport {createLoader} from './arcgisRest.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting the image from\r\n * the remote server.\r\n * @property {import(\"../Image.js\").LoadFunction} [imageLoadFunction] Optional function to load an image given\r\n * a URL.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {Object<string,*>} [params] ArcGIS Rest parameters. This field is optional. Service\r\n * defaults will be used for any fields not specified. `FORMAT` is `PNG32` by default. `F` is\r\n * `IMAGE` by default. `TRANSPARENT` is `true` by default.  `BBOX`, `SIZE`, `BBOXSR`, and `IMAGESR`\r\n * will be set dynamically. Set `LAYERS` to override the default service layer visibility. See\r\n * https://developers.arcgis.com/rest/services-reference/export-map.htm\r\n * for further reference.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\r\n * The projection code must contain a numeric end portion separated by :\r\n * or the entire code must form a valid ArcGIS SpatialReference definition.\r\n * @property {number} [ratio=1.5] Ratio. `1` means image requests are the size of the map viewport,\r\n * `2` means twice the size of the map viewport, and so on.\r\n * @property {Array<number>} [resolutions] Resolutions. If specified, requests will be made for\r\n * these resolutions only.\r\n * @property {string} [url] ArcGIS Rest service URL for a Map Service or Image Service. The url\r\n * should include /MapServer or /ImageServer.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Source for data from ArcGIS Rest services providing single, untiled images.\r\n * Useful when underlying map service has labels.\r\n *\r\n * If underlying map service is not using labels,\r\n * take advantage of ol image caching and use\r\n * {@link module:ol/source/TileArcGISRest~TileArcGISRest} data source.\r\n *\r\n * @fires module:ol/source/Image.ImageSourceEvent\r\n * @api\r\n */\r\nclass ImageArcGISRest extends ImageSource {\r\n  /**\r\n   * @param {Options} [options] Image ArcGIS Rest Options.\r\n   */\r\n  constructor(options) {\r\n    options = options ? options : {};\r\n\r\n    super({\r\n      attributions: options.attributions,\r\n      interpolate: options.interpolate,\r\n      projection: options.projection,\r\n      resolutions: options.resolutions,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {?string}\r\n     */\r\n    this.crossOrigin_ =\r\n      options.crossOrigin !== undefined ? options.crossOrigin : null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {ReferrerPolicy}\r\n     */\r\n    this.referrerPolicy_ = options.referrerPolicy;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\r\n\r\n    /**\r\n     * @private\r\n     * @type {string|undefined}\r\n     */\r\n    this.url_ = options.url;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../Image.js\").LoadFunction}\r\n     */\r\n    this.imageLoadFunction_ =\r\n      options.imageLoadFunction !== undefined\r\n        ? options.imageLoadFunction\r\n        : defaultImageLoadFunction;\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Object}\r\n     */\r\n    this.params_ = Object.assign({}, options.params);\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../size.js\").Size}\r\n     */\r\n    this.imageSize_ = [0, 0];\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.renderedRevision_ = 0;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.ratio_ = options.ratio !== undefined ? options.ratio : 1.5;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../proj/Projection.js\").default}\r\n     */\r\n    this.loaderProjection_ = null;\r\n  }\r\n\r\n  /**\r\n   * Get the user-provided params, i.e. those passed to the constructor through\r\n   * the \"params\" option, and possibly updated using the updateParams method.\r\n   * @return {Object} Params.\r\n   * @api\r\n   */\r\n  getParams() {\r\n    return this.params_;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../extent.js\").Extent} extent Extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {import(\"../Image.js\").default} Single image.\r\n   * @override\r\n   */\r\n  getImageInternal(extent, resolution, pixelRatio, projection) {\r\n    if (this.url_ === undefined) {\r\n      return null;\r\n    }\r\n    if (!this.loader || this.loaderProjection_ !== projection) {\r\n      // Lazily create loader to pick up the view projection and to allow `params` updates\r\n      this.loaderProjection_ = projection;\r\n      this.loader = createLoader({\r\n        crossOrigin: this.crossOrigin_,\r\n        referrerPolicy: this.referrerPolicy_,\r\n        params: this.params_,\r\n        projection: projection,\r\n        hidpi: this.hidpi_,\r\n        url: this.url_,\r\n        ratio: this.ratio_,\r\n        load: (image, src) => {\r\n          this.image.setImage(image);\r\n          this.imageLoadFunction_(this.image, src);\r\n          return decode(image);\r\n        },\r\n      });\r\n    }\r\n\r\n    return super.getImageInternal(extent, resolution, pixelRatio, projection);\r\n  }\r\n\r\n  /**\r\n   * Return the image load function of the source.\r\n   * @return {import(\"../Image.js\").LoadFunction} The image load function.\r\n   * @api\r\n   */\r\n  getImageLoadFunction() {\r\n    return this.imageLoadFunction_;\r\n  }\r\n\r\n  /**\r\n   * Return the URL used for this ArcGIS source.\r\n   * @return {string|undefined} URL.\r\n   * @api\r\n   */\r\n  getUrl() {\r\n    return this.url_;\r\n  }\r\n\r\n  /**\r\n   * Set the image load function of the source.\r\n   * @param {import(\"../Image.js\").LoadFunction} imageLoadFunction Image load function.\r\n   * @api\r\n   */\r\n  setImageLoadFunction(imageLoadFunction) {\r\n    this.imageLoadFunction_ = imageLoadFunction;\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * Set the URL to use for requests.\r\n   * @param {string|undefined} url URL.\r\n   * @api\r\n   */\r\n  setUrl(url) {\r\n    if (url != this.url_) {\r\n      this.url_ = url;\r\n      this.loader = null;\r\n      this.changed();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the user-provided params.\r\n   * @param {Object} params Params.\r\n   * @api\r\n   */\r\n  setParams(params) {\r\n    this.params_ = Object.assign({}, params);\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * Update the user-provided params.\r\n   * @param {Object} params Params.\r\n   * @api\r\n   */\r\n  updateParams(params) {\r\n    Object.assign(this.params_, params);\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   */\r\n  changed() {\r\n    this.image = null;\r\n    super.changed();\r\n  }\r\n}\r\n\r\nexport default ImageArcGISRest;\r\n", "/**\r\n * @module ol/source/ImageCanvas\r\n */\r\n\r\nimport ImageCanvas from '../ImageCanvas.js';\r\nimport {\r\n  containsExtent,\r\n  getHeight,\r\n  getWidth,\r\n  scaleFromCenter,\r\n} from '../extent.js';\r\nimport ImageSource from './Image.js';\r\n\r\n/**\r\n * A function returning the canvas element (`{HTMLCanvasElement}`)\r\n * used by the source as an image. The arguments passed to the function are:\r\n * {@link module:ol/extent~Extent} the image extent, `{number}` the image resolution,\r\n * `{number}` the pixel ratio of the map, {@link module:ol/size~Size} the image size,\r\n * and {@link module:ol/proj/Projection~Projection} the image projection. The canvas returned by\r\n * this function is cached by the source. The this keyword inside the function\r\n * references the {@link module:ol/source/ImageCanvas~ImageCanvasSource}.\r\n *\r\n * @typedef {function(this:import(\"../ImageCanvas.js\").default, import(\"../extent.js\").Extent, number,\r\n *     number, import(\"../size.js\").Size, import(\"../proj/Projection.js\").default): HTMLCanvasElement} FunctionType\r\n */\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {FunctionType} [canvasFunction] Canvas function.\r\n * The function returning the canvas element used by the source\r\n * as an image. The arguments passed to the function are: {@link import(\"../extent.js\").Extent} the\r\n * image extent, `{number}` the image resolution, `{number}` the pixel ratio of the map,\r\n * {@link import(\"../size.js\").Size} the image size, and {@link import(\"../proj/Projection.js\").default} the image\r\n * projection. The canvas returned by this function is cached by the source. If\r\n * the value returned by the function is later changed then\r\n * `changed` should be called on the source for the source to\r\n * invalidate the current cached image. See: {@link module:ol/Observable~Observable#changed}\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\r\n * @property {number} [ratio=1.5] Ratio. 1 means canvases are the size of the map viewport, 2 means twice the\r\n * width and height of the map viewport, and so on. Must be `1` or higher.\r\n * @property {Array<number>} [resolutions] Resolutions.\r\n * If specified, new canvases will be created for these resolutions\r\n * @property {import(\"./Source.js\").State} [state] Source state.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Base class for image sources where a canvas element is the image.\r\n * @api\r\n */\r\nclass ImageCanvasSource extends ImageSource {\r\n  /**\r\n   * @param {Options} [options] ImageCanvas options.\r\n   */\r\n  constructor(options) {\r\n    options = options ? options : {};\r\n\r\n    super({\r\n      attributions: options.attributions,\r\n      interpolate: options.interpolate,\r\n      projection: options.projection,\r\n      resolutions: options.resolutions,\r\n      state: options.state,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {FunctionType}\r\n     */\r\n    this.canvasFunction_ = options.canvasFunction;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../ImageCanvas.js\").default}\r\n     */\r\n    this.canvas_ = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.renderedRevision_ = 0;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.ratio_ = options.ratio !== undefined ? options.ratio : 1.5;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../extent.js\").Extent} extent Extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {import(\"../ImageCanvas.js\").default} Single image.\r\n   * @override\r\n   */\r\n  getImageInternal(extent, resolution, pixelRatio, projection) {\r\n    resolution = this.findNearestResolution(resolution);\r\n\r\n    let canvas = this.canvas_;\r\n    if (\r\n      canvas &&\r\n      this.renderedRevision_ == this.getRevision() &&\r\n      canvas.getResolution() == resolution &&\r\n      canvas.getPixelRatio() == pixelRatio &&\r\n      containsExtent(canvas.getExtent(), extent)\r\n    ) {\r\n      return canvas;\r\n    }\r\n\r\n    extent = extent.slice();\r\n    scaleFromCenter(extent, this.ratio_);\r\n    const width = getWidth(extent) / resolution;\r\n    const height = getHeight(extent) / resolution;\r\n    const size = [width * pixelRatio, height * pixelRatio];\r\n\r\n    const canvasElement = this.canvasFunction_.call(\r\n      this,\r\n      extent,\r\n      resolution,\r\n      pixelRatio,\r\n      size,\r\n      projection,\r\n    );\r\n    if (canvasElement) {\r\n      canvas = new ImageCanvas(extent, resolution, pixelRatio, canvasElement);\r\n    }\r\n    this.canvas_ = canvas;\r\n    this.renderedRevision_ = this.getRevision();\r\n\r\n    return canvas;\r\n  }\r\n}\r\n\r\nexport default ImageCanvasSource;\r\n", "/**\r\n * @module ol/source/mapguide\r\n */\r\n\r\nimport {decode} from '../Image.js';\r\nimport {getCenter, getHeight, getWidth} from '../extent.js';\r\nimport {appendParams} from '../uri.js';\r\nimport {getRequestExtent} from './Image.js';\r\n\r\n/**\r\n * @typedef {Object} LoaderOptions\r\n * @property {string} url The mapagent url.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {number} [displayDpi=96] The display resolution.\r\n * @property {number} [metersPerUnit=1] The meters-per-unit value.\r\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting\r\n * the image from the remote server.\r\n * @property {boolean} [useOverlay] If `true`, will use `GETDYNAMICMAPOVERLAYIMAGE`.\r\n * @property {number} [ratio=1] Ratio. `1` means image requests are the size of the map viewport, `2` means\r\n * twice the width and height of the map viewport, and so on. Must be `1` or higher.\r\n * @property {Object} [params] Additional query parameters.\r\n * @property {function(HTMLImageElement, string): Promise<import('../DataTile.js').ImageLike>} [load] Function\r\n * to perform loading of the image. Receives the created `HTMLImageElement` and the desired `src` as argument and\r\n * returns a promise resolving to the loaded or decoded image. Default is {@link module:ol/Image.decode}.\r\n */\r\n\r\n/**\r\n * @param {import(\"../extent.js\").Extent} extent The map extents.\r\n * @param {import(\"../size.js\").Size} size The viewport size.\r\n * @param {number} metersPerUnit The meters-per-unit value.\r\n * @param {number} dpi The display resolution.\r\n * @return {number} The computed map scale.\r\n */\r\nfunction getScale(extent, size, metersPerUnit, dpi) {\r\n  const mcsW = getWidth(extent);\r\n  const mcsH = getHeight(extent);\r\n  const devW = size[0];\r\n  const devH = size[1];\r\n  const mpp = 0.0254 / dpi;\r\n  if (devH * mcsW > devW * mcsH) {\r\n    return (mcsW * metersPerUnit) / (devW * mpp); // width limited\r\n  }\r\n  return (mcsH * metersPerUnit) / (devH * mpp); // height limited\r\n}\r\n\r\n/**\r\n * @param {string} baseUrl The mapagent url.\r\n * @param {Object<string, string|number>} params Request parameters.\r\n * @param {import(\"../extent.js\").Extent} extent Extent.\r\n * @param {import(\"../size.js\").Size} size Size.\r\n * @param {boolean} useOverlay If `true`, will use `GETDYNAMICMAPOVERLAYIMAGE`.\r\n * @param {number} metersPerUnit The meters-per-unit value.\r\n * @param {number} displayDpi The display resolution.\r\n * @return {string} The mapagent map image request URL.\r\n */\r\nfunction getUrl(\r\n  baseUrl,\r\n  params,\r\n  extent,\r\n  size,\r\n  useOverlay,\r\n  metersPerUnit,\r\n  displayDpi,\r\n) {\r\n  const scale = getScale(extent, size, metersPerUnit, displayDpi);\r\n  const center = getCenter(extent);\r\n  const baseParams = {\r\n    'OPERATION': useOverlay ? 'GETDYNAMICMAPOVERLAYIMAGE' : 'GETMAPIMAGE',\r\n    'VERSION': '2.0.0',\r\n    'LOCALE': 'en',\r\n    'CLIENTAGENT': 'ol/source/ImageMapGuide source',\r\n    'CLIP': '1',\r\n    'SETDISPLAYDPI': displayDpi,\r\n    'SETDISPLAYWIDTH': Math.round(size[0]),\r\n    'SETDISPLAYHEIGHT': Math.round(size[1]),\r\n    'SETVIEWSCALE': scale,\r\n    'SETVIEWCENTERX': center[0],\r\n    'SETVIEWCENTERY': center[1],\r\n  };\r\n  Object.assign(baseParams, params);\r\n  return appendParams(baseUrl, baseParams);\r\n}\r\n\r\n/**\r\n * Creates a loader for MapGuide images.\r\n * @param {LoaderOptions} options Image ArcGIS Rest Options.\r\n * @return {import('../Image.js').ImageObjectPromiseLoader} ArcGIS Rest image.\r\n * @api\r\n */\r\nexport function createLoader(options) {\r\n  const load = options.load || decode;\r\n  const useOverlay = options.useOverlay ?? false;\r\n  const metersPerUnit = options.metersPerUnit || 1;\r\n  const displayDpi = options.displayDpi || 96;\r\n  const ratio = options.ratio ?? 1;\r\n  const crossOrigin = options.crossOrigin ?? null;\r\n  const referrerPolicy = options.referrerPolicy;\r\n\r\n  return function (extent, resolution, pixelRatio) {\r\n    const image = new Image();\r\n    image.crossOrigin = crossOrigin;\r\n    if (referrerPolicy !== undefined) {\r\n      image.referrerPolicy = referrerPolicy;\r\n    }\r\n    extent = getRequestExtent(extent, resolution, pixelRatio, ratio);\r\n    const width = getWidth(extent) / resolution;\r\n    const height = getHeight(extent) / resolution;\r\n    const size = [width * pixelRatio, height * pixelRatio];\r\n    const src = getUrl(\r\n      options.url,\r\n      options.params,\r\n      extent,\r\n      size,\r\n      useOverlay,\r\n      metersPerUnit,\r\n      displayDpi,\r\n    );\r\n    return load(image, src).then((image) => ({image, extent, pixelRatio}));\r\n  };\r\n}\r\n", "/**\r\n * @module ol/source/ImageMapGuide\r\n */\r\n\r\nimport {decode} from '../Image.js';\r\nimport ImageSource, {defaultImageLoadFunction} from './Image.js';\r\nimport {createLoader} from './mapguide.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {string} [url] The mapagent url.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {number} [displayDpi=96] The display resolution.\r\n * @property {number} [metersPerUnit=1] The meters-per-unit value.\r\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting\r\n * the image from the remote server.\r\n * @property {boolean} [useOverlay] If `true`, will use `GETDYNAMICMAPOVERLAYIMAGE`.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\r\n * @property {number} [ratio=1] Ratio. `1` means image requests are the size of the map viewport, `2` means\r\n * twice the width and height of the map viewport, and so on. Must be `1` or higher.\r\n * @property {Array<number>} [resolutions] Resolutions.\r\n * If specified, requests will be made for these resolutions only.\r\n * @property {import(\"../Image.js\").LoadFunction} [imageLoadFunction] Optional function to load an image given a URL.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {Object} [params] Additional parameters.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Source for images from Mapguide servers\r\n *\r\n * @fires module:ol/source/Image.ImageSourceEvent\r\n * @api\r\n */\r\nclass ImageMapGuide extends ImageSource {\r\n  /**\r\n   * @param {Options} options ImageMapGuide options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      interpolate: options.interpolate,\r\n      projection: options.projection,\r\n      resolutions: options.resolutions,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {?string}\r\n     */\r\n    this.crossOrigin_ =\r\n      options.crossOrigin !== undefined ? options.crossOrigin : null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {ReferrerPolicy}\r\n     */\r\n    this.referrerPolicy_ = options.referrerPolicy;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.displayDpi_ =\r\n      options.displayDpi !== undefined ? options.displayDpi : 96;\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Object}\r\n     */\r\n    this.params_ = Object.assign({}, options.params);\r\n\r\n    /**\r\n     * @private\r\n     * @type {string|undefined}\r\n     */\r\n    this.url_ = options.url;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../Image.js\").LoadFunction}\r\n     */\r\n    this.imageLoadFunction_ =\r\n      options.imageLoadFunction !== undefined\r\n        ? options.imageLoadFunction\r\n        : defaultImageLoadFunction;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.metersPerUnit_ =\r\n      options.metersPerUnit !== undefined ? options.metersPerUnit : 1;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.ratio_ = options.ratio !== undefined ? options.ratio : 1;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.useOverlay_ =\r\n      options.useOverlay !== undefined ? options.useOverlay : false;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.renderedRevision_ = 0;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../proj/Projection.js\").default}\r\n     */\r\n    this.loaderProjection_ = null;\r\n  }\r\n\r\n  /**\r\n   * Get the user-provided params, i.e. those passed to the constructor through\r\n   * the \"params\" option, and possibly updated using the updateParams method.\r\n   * @return {Object} Params.\r\n   * @api\r\n   */\r\n  getParams() {\r\n    return this.params_;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../extent.js\").Extent} extent Extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {import(\"../Image.js\").default} Single image.\r\n   * @override\r\n   */\r\n  getImageInternal(extent, resolution, pixelRatio, projection) {\r\n    if (this.url_ === undefined) {\r\n      return null;\r\n    }\r\n    if (!this.loader || this.loaderProjection_ !== projection) {\r\n      // Lazily create loader to pick up the view projection and to allow `params` updates\r\n      this.loaderProjection_ = projection;\r\n      this.loader = createLoader({\r\n        crossOrigin: this.crossOrigin_,\r\n        referrerPolicy: this.referrerPolicy_,\r\n        params: this.params_,\r\n        hidpi: this.hidpi_,\r\n        metersPerUnit: this.metersPerUnit_,\r\n        url: this.url_,\r\n        useOverlay: this.useOverlay_,\r\n        ratio: this.ratio_,\r\n        load: (image, src) => {\r\n          this.image.setImage(image);\r\n          this.imageLoadFunction_(this.image, src);\r\n          return decode(image);\r\n        },\r\n      });\r\n    }\r\n\r\n    return super.getImageInternal(extent, resolution, pixelRatio, projection);\r\n  }\r\n\r\n  /**\r\n   * Return the image load function of the source.\r\n   * @return {import(\"../Image.js\").LoadFunction} The image load function.\r\n   * @api\r\n   */\r\n  getImageLoadFunction() {\r\n    return this.imageLoadFunction_;\r\n  }\r\n\r\n  /**\r\n   * Set the user-provided params.\r\n   * @param {Object} params Params.\r\n   * @api\r\n   */\r\n  setParams(params) {\r\n    this.params_ = Object.assign({}, params);\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * Update the user-provided params.\r\n   * @param {Object} params Params.\r\n   * @api\r\n   */\r\n  updateParams(params) {\r\n    Object.assign(this.params_, params);\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * Set the image load function of the MapGuide source.\r\n   * @param {import(\"../Image.js\").LoadFunction} imageLoadFunction Image load function.\r\n   * @api\r\n   */\r\n  setImageLoadFunction(imageLoadFunction) {\r\n    this.imageLoadFunction_ = imageLoadFunction;\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   */\r\n  changed() {\r\n    this.image = null;\r\n    super.changed();\r\n  }\r\n}\r\n\r\nexport default ImageMapGuide;\r\n", "/**\r\n * @module ol/source/static\r\n */\r\n\r\nimport {decode} from '../Image.js';\r\nimport {getHeight, getWidth} from '../extent.js';\r\n\r\n/**\r\n * @typedef {Object} LoaderOptions\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {import(\"../extent.js\").Extent} imageExtent Extent of the image in map coordinates.\r\n * This is the [left, bottom, right, top] map coordinates of your image. When using this loader with an\r\n * `ol/source/Image`, the same extent must be set as `extent` of the `ol/layer/Image`.\r\n * @property {string} url Image URL.\r\n * @property {function(HTMLImageElement, string): Promise<import('../DataTile.js').ImageLike>} [load] Function\r\n * to perform loading of the image. Receives the created `HTMLImageElement` and the desired `src` as argument and\r\n * returns a promise resolving to the loaded or decoded image. Default is {@link module:ol/Image.decode}.\r\n */\r\n\r\n/**\r\n * Creates a loader for static images.\r\n * @param {LoaderOptions} options Loader options.\r\n * @return {import(\"../Image.js\").ImageObjectPromiseLoader} Loader.\r\n * @api\r\n */\r\nexport function createLoader(options) {\r\n  const load = options.load || decode;\r\n  const extent = options.imageExtent;\r\n  const crossOrigin = options.crossOrigin ?? null;\r\n\r\n  return () => {\r\n    const image = new Image();\r\n    image.crossOrigin = crossOrigin;\r\n    if (options.referrerPolicy !== undefined) {\r\n      image.referrerPolicy = options.referrerPolicy;\r\n    }\r\n    return load(image, options.url).then((image) => {\r\n      const resolutionX = getWidth(extent) / image.width;\r\n      const resolutionY = getHeight(extent) / image.height;\r\n      const resolution =\r\n        resolutionX !== resolutionY ? [resolutionX, resolutionY] : resolutionY;\r\n      return {image, extent, resolution, pixelRatio: 1};\r\n    });\r\n  };\r\n}\r\n", "/**\r\n * @module ol/source/ImageStatic\r\n */\r\n\r\nimport ImageWrapper, {decode} from '../Image.js';\r\nimport EventType from '../events/EventType.js';\r\nimport {intersects} from '../extent.js';\r\nimport {get as getProjection} from '../proj.js';\r\nimport ImageSource, {defaultImageLoadFunction} from './Image.js';\r\nimport {createLoader} from './static.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {import(\"../extent.js\").Extent} imageExtent Extent of the image in map coordinates.\r\n * This is the [left, bottom, right, top] map coordinates of your image.\r\n * @property {import(\"../Image.js\").LoadFunction} [imageLoadFunction] Optional function to load an image given a URL.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\r\n * @property {string} url Image URL.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * A layer source for displaying a single, static image.\r\n * @api\r\n */\r\nclass Static extends ImageSource {\r\n  /**\r\n   * @param {Options} options ImageStatic options.\r\n   */\r\n  constructor(options) {\r\n    const crossOrigin =\r\n      options.crossOrigin !== undefined ? options.crossOrigin : null;\r\n\r\n    const /** @type {import(\"../Image.js\").LoadFunction} */ imageLoadFunction =\r\n        options.imageLoadFunction !== undefined\r\n          ? options.imageLoadFunction\r\n          : defaultImageLoadFunction;\r\n\r\n    super({\r\n      attributions: options.attributions,\r\n      interpolate: options.interpolate,\r\n      projection: getProjection(options.projection),\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {string}\r\n     */\r\n    this.url_ = options.url;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../extent.js\").Extent}\r\n     */\r\n    this.imageExtent_ = options.imageExtent;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../Image.js\").default}\r\n     */\r\n    this.image = null;\r\n\r\n    this.image = new ImageWrapper(\r\n      this.imageExtent_,\r\n      undefined,\r\n      1,\r\n      createLoader({\r\n        url: options.url,\r\n        imageExtent: options.imageExtent,\r\n        crossOrigin,\r\n        referrerPolicy: options.referrerPolicy,\r\n        load: (image, src) => {\r\n          this.image.setImage(image);\r\n          imageLoadFunction(this.image, src);\r\n          return decode(image);\r\n        },\r\n      }),\r\n    );\r\n\r\n    this.image.addEventListener(\r\n      EventType.CHANGE,\r\n      this.handleImageChange.bind(this),\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Returns the image extent\r\n   * @return {import(\"../extent.js\").Extent} image extent.\r\n   * @api\r\n   */\r\n  getImageExtent() {\r\n    return this.imageExtent_;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../extent.js\").Extent} extent Extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {import(\"../Image.js\").default} Single image.\r\n   * @override\r\n   */\r\n  getImageInternal(extent, resolution, pixelRatio, projection) {\r\n    if (intersects(extent, this.image.getExtent())) {\r\n      return this.image;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Return the URL used for this image source.\r\n   * @return {string} URL.\r\n   * @api\r\n   */\r\n  getUrl() {\r\n    return this.url_;\r\n  }\r\n}\r\n\r\nexport default Static;\r\n", "/**\r\n * @module ol/source/ImageTile\r\n */\r\nimport {expandUrl, pickUrl, renderXYZTemplate} from '../uri.js';\r\nimport DataTileSource from './DataTile.js';\r\n\r\n/**\r\n * Image tile loading function.  The function is called with z, x, and y tile coordinates and\r\n * returns an {@link import(\"../DataTile.js\").ImageLike image} or a promise for the same.\r\n *\r\n * @typedef {function(number, number, number, import(\"./DataTile.js\").LoaderOptions):(import(\"../DataTile.js\").ImageLike|Promise<import(\"../DataTile.js\").ImageLike>)} Loader\r\n */\r\n\r\n/**\r\n * @typedef {function(number, number, number, import(\"./DataTile.js\").LoaderOptions):string} UrlGetter\r\n */\r\n\r\n/**\r\n * @typedef {string | Array<string> | UrlGetter} UrlLike\r\n */\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {UrlLike} [url] The image URL template.  In addition to a single URL template, an array of URL templates or a function\r\n * can be provided.  If a function is provided, it will be called with z, x, y tile coordinates and loader options and should\r\n * return a URL.\r\n * @property {Loader} [loader] Data loader.  Called with z, x, and y tile coordinates.\r\n * Returns an {@link import(\"../DataTile.js\").ImageLike image} for a tile or a promise for the same.\r\n * The promise should not resolve until the image is loaded.  If the `url` option is provided, a loader will be created.\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\r\n * @property {number} [maxZoom=42] Optional max zoom level. Not used if `tileGrid` is provided.\r\n * @property {number} [minZoom=0] Optional min zoom level. Not used if `tileGrid` is provided.\r\n * @property {number|import(\"../size.js\").Size} [tileSize=[256, 256]] The pixel width and height of the source tiles.\r\n * This may be different than the rendered pixel size if a `tileGrid` is provided.\r\n * @property {number} [gutter=0] The size in pixels of the gutter around data tiles to ignore.\r\n * This allows artifacts of rendering at tile edges to be ignored.\r\n * Supported data should be wider and taller than the tile size by a value of `2 x gutter`.\r\n * @property {number} [maxResolution] Optional tile grid resolution at level zero. Not used if `tileGrid` is provided.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Tile projection.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\r\n * @property {import(\"./Source.js\").State} [state] The source state.\r\n * @property {boolean} [wrapX=true] Render tiles beyond the antimeridian.\r\n * @property {number} [transition] Transition time when fading in new tiles (in miliseconds).\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.\r\n * @property {import('./DataTile.js').CrossOriginAttribute} [crossOrigin='anonymous'] The crossOrigin property to pass to loaders for image data.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\nconst loadError = new Error('Image failed to load');\r\n\r\n/**\r\n * @param {string} template The image url template.\r\n * @param {number} z The tile z coordinate.\r\n * @param {number} x The tile x coordinate.\r\n * @param {number} y The tile y coordinate.\r\n * @param {import('./DataTile.js').LoaderOptions} options The loader options.\r\n * @return {Promise<HTMLImageElement>} Resolves with a loaded image.\r\n */\r\nfunction loadImage(template, z, x, y, options) {\r\n  return new Promise((resolve, reject) => {\r\n    const image = new Image();\r\n    image.crossOrigin = options.crossOrigin ?? null;\r\n    if (options.referrerPolicy !== undefined) {\r\n      image.referrerPolicy = options.referrerPolicy;\r\n    }\r\n    image.addEventListener('load', () => resolve(image));\r\n    image.addEventListener('error', () => reject(loadError));\r\n    image.src = renderXYZTemplate(template, z, x, y, options.maxY);\r\n  });\r\n}\r\n\r\n/**\r\n * @param {Array<string>} templates The url templates.\r\n * @return {Loader} The image loader.\r\n */\r\nfunction makeLoaderFromTemplates(templates) {\r\n  return function (z, x, y, options) {\r\n    const template = pickUrl(templates, z, x, y);\r\n    return loadImage(template, z, x, y, options);\r\n  };\r\n}\r\n\r\n/**\r\n * @param {UrlGetter} getter The url getter.\r\n * @return {Loader} The image loader.\r\n */\r\nfunction makeLoaderFromGetter(getter) {\r\n  return function (z, x, y, options) {\r\n    const url = getter(z, x, y, options);\r\n    return loadImage(url, z, x, y, options);\r\n  };\r\n}\r\n\r\n/**\r\n * @param {UrlLike} url The URL-like option.\r\n * @return {Loader} The tile loader.\r\n */\r\nfunction makeLoaderFromUrlLike(url) {\r\n  /**\r\n   * @type {Loader}\r\n   */\r\n  let loader;\r\n\r\n  if (Array.isArray(url)) {\r\n    loader = makeLoaderFromTemplates(url);\r\n  } else if (typeof url === 'string') {\r\n    const urls = expandUrl(url);\r\n    loader = makeLoaderFromTemplates(urls);\r\n  } else if (typeof url === 'function') {\r\n    loader = makeLoaderFromGetter(url);\r\n  } else {\r\n    throw new Error(\r\n      'The url option must be a single template, an array of templates, or a function for getting a URL',\r\n    );\r\n  }\r\n  return loader;\r\n}\r\n\r\nlet keyCount = 0;\r\n\r\n/**\r\n * @param {UrlLike} url The URL-like option.\r\n * @return {string} A key for the URL.\r\n */\r\nfunction keyFromUrlLike(url) {\r\n  if (Array.isArray(url)) {\r\n    return url.join('\\n');\r\n  }\r\n\r\n  if (typeof url === 'string') {\r\n    return url;\r\n  }\r\n\r\n  ++keyCount;\r\n  return 'url-function-key-' + keyCount;\r\n}\r\n\r\n/**\r\n * @classdesc\r\n * A source for typed array data tiles.\r\n *\r\n * @extends DataTileSource<import(\"../ImageTile.js\").default>\r\n * @fires import(\"./Tile.js\").TileSourceEvent\r\n * @api\r\n */\r\nclass ImageTileSource extends DataTileSource {\r\n  /**\r\n   * @param {Options} [options] DataTile source options.\r\n   */\r\n  constructor(options) {\r\n    options = options || {};\r\n\r\n    /**\r\n     * @type {Loader}\r\n     */\r\n    let loader = options.loader;\r\n\r\n    /**\r\n     * @type {string}\r\n     */\r\n    let key;\r\n\r\n    if (options.url) {\r\n      loader = makeLoaderFromUrlLike(options.url);\r\n      key = keyFromUrlLike(options.url);\r\n    }\r\n\r\n    /**\r\n     * @type {import('./Source.js').State}\r\n     */\r\n    const state = !loader ? 'loading' : options.state;\r\n\r\n    const wrapX = options.wrapX === undefined ? true : options.wrapX;\r\n\r\n    super({\r\n      loader: loader,\r\n      key: key,\r\n      attributions: options.attributions,\r\n      attributionsCollapsible: options.attributionsCollapsible,\r\n      maxZoom: options.maxZoom,\r\n      minZoom: options.minZoom,\r\n      tileSize: options.tileSize,\r\n      gutter: options.gutter,\r\n      maxResolution: options.maxResolution,\r\n      projection: options.projection,\r\n      tileGrid: options.tileGrid,\r\n      state: state,\r\n      wrapX: wrapX,\r\n      transition: options.transition,\r\n      interpolate: options.interpolate !== false,\r\n      crossOrigin: options.crossOrigin,\r\n      referrerPolicy: options.referrerPolicy,\r\n      zDirection: options.zDirection,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {UrlLike} url The new URL.\r\n   * @api\r\n   */\r\n  setUrl(url) {\r\n    const loader = makeLoaderFromUrlLike(url);\r\n    this.setLoader(loader);\r\n    this.setKey(keyFromUrlLike(url));\r\n    if (this.getState() !== 'ready') {\r\n      this.setState('ready');\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageTileSource;\r\n", "/**\r\n * @module ol/source/wms\r\n */\r\n\r\nimport {decode} from '../Image.js';\r\nimport {getForViewAndSize, getHeight, getWidth} from '../extent.js';\r\nimport {floor, round} from '../math.js';\r\nimport {get as getProjection} from '../proj.js';\r\nimport {compareVersions} from '../string.js';\r\nimport {appendParams} from '../uri.js';\r\nimport {getRequestExtent} from './Image.js';\r\nimport {DECIMALS} from './common.js';\r\n\r\n/**\r\n * Default WMS version.\r\n * @type {string}\r\n */\r\nexport const DEFAULT_VERSION = '1.3.0';\r\n\r\n/**\r\n * @const\r\n * @type {import(\"../size.js\").Size}\r\n */\r\nconst GETFEATUREINFO_IMAGE_SIZE = [101, 101];\r\n\r\n/**\r\n * @api\r\n * @typedef {'carmentaserver' | 'geoserver' | 'mapserver' | 'qgis'} ServerType\r\n * Set the server type to use implementation-specific parameters beyond the WMS specification.\r\n *  - `'carmentaserver'`: HiDPI support for [Carmenta Server](https://www.carmenta.com/en/products/carmenta-server)\r\n *  - `'geoserver'`: HiDPI support for [GeoServer](https://geoserver.org/)\r\n *  - `'mapserver'`: HiDPI support for [MapServer](https://mapserver.org/)\r\n *  - `'qgis'`: HiDPI support for [QGIS](https://qgis.org/)\r\n */\r\n\r\n/**\r\n * @param {string} baseUrl Base URL.\r\n * @param {import(\"../extent.js\").Extent} extent Extent.\r\n * @param {import(\"../size.js\").Size} size Size.\r\n * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n * @param {Object} params WMS params. Will be modified in place.\r\n * @return {string} Request URL.\r\n */\r\nexport function getRequestUrl(baseUrl, extent, size, projection, params) {\r\n  params['WIDTH'] = size[0];\r\n  params['HEIGHT'] = size[1];\r\n\r\n  const axisOrientation = projection.getAxisOrientation();\r\n  const v13 = compareVersions(params['VERSION'], '1.3') >= 0;\r\n  params[v13 ? 'CRS' : 'SRS'] = projection.getCode();\r\n  const bbox =\r\n    v13 && axisOrientation.startsWith('ne')\r\n      ? [extent[1], extent[0], extent[3], extent[2]]\r\n      : extent;\r\n  params['BBOX'] = bbox.join(',');\r\n\r\n  return appendParams(baseUrl, params);\r\n}\r\n\r\n/**\r\n * @param {import(\"../extent\").Extent} extent Extent.\r\n * @param {number} resolution Resolution.\r\n * @param {number} pixelRatio pixel ratio.\r\n * @param {import(\"../proj.js\").Projection} projection Projection.\r\n * @param {string} url WMS service url.\r\n * @param {Object} params WMS params.\r\n * @param {import(\"./wms.js\").ServerType} serverType The type of the remote WMS server.\r\n * @return {string} Image src.\r\n */\r\nexport function getImageSrc(\r\n  extent,\r\n  resolution,\r\n  pixelRatio,\r\n  projection,\r\n  url,\r\n  params,\r\n  serverType,\r\n) {\r\n  params = Object.assign({REQUEST: 'GetMap'}, params);\r\n\r\n  const imageResolution = resolution / pixelRatio;\r\n\r\n  const imageSize = [\r\n    round(getWidth(extent) / imageResolution, DECIMALS),\r\n    round(getHeight(extent) / imageResolution, DECIMALS),\r\n  ];\r\n\r\n  if (pixelRatio != 1) {\r\n    switch (serverType) {\r\n      case 'geoserver':\r\n        const dpi = (90 * pixelRatio + 0.5) | 0;\r\n        if ('FORMAT_OPTIONS' in params) {\r\n          params['FORMAT_OPTIONS'] += ';dpi:' + dpi;\r\n        } else {\r\n          params['FORMAT_OPTIONS'] = 'dpi:' + dpi;\r\n        }\r\n        break;\r\n      case 'mapserver':\r\n        params['MAP_RESOLUTION'] = 90 * pixelRatio;\r\n        break;\r\n      case 'carmentaserver':\r\n      case 'qgis':\r\n        params['DPI'] = 90 * pixelRatio;\r\n        break;\r\n      default:\r\n        throw new Error('Unknown `serverType` configured');\r\n    }\r\n  }\r\n\r\n  const src = getRequestUrl(url, extent, imageSize, projection, params);\r\n  return src;\r\n}\r\n\r\n/**\r\n * @param {Object} params WMS params.\r\n * @param {string} request WMS `REQUEST`.\r\n * @return {Object} WMS params with required properties set.\r\n */\r\nexport function getRequestParams(params, request) {\r\n  return Object.assign(\r\n    {\r\n      'REQUEST': request,\r\n      'SERVICE': 'WMS',\r\n      'VERSION': DEFAULT_VERSION,\r\n      'FORMAT': 'image/png',\r\n      'STYLES': '',\r\n      'TRANSPARENT': 'TRUE',\r\n    },\r\n    params,\r\n  );\r\n}\r\n\r\n/**\r\n * @typedef {Object} LoaderOptions\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting\r\n * the image from the remote server.\r\n * @property {Object<string,*>} [params] WMS request parameters.\r\n * At least a `LAYERS` param is required. `STYLES` is\r\n * `''` by default. `VERSION` is `1.3.0` by default. `WIDTH`, `HEIGHT` and `BBOX` will be set\r\n * dynamically. `CRS` (`SRS` for WMS version < 1.3.0) will is derived from the `proection` config.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is 'EPSG:3857'.\r\n * @property {number} [ratio=1.5] Ratio. `1` means image requests are the size of the map viewport, `2` means\r\n * twice the width and height of the map viewport, and so on. Must be `1` or higher.\r\n * @property {import(\"./wms.js\").ServerType} [serverType] The type of\r\n * the remote WMS server: `mapserver`, `geoserver`, `carmentaserver`, or `qgis`.\r\n * Only needed if `hidpi` is `true`.\r\n * @property {string} url WMS service URL.\r\n * @property {function(HTMLImageElement, string): Promise<import('../DataTile.js').ImageLike>} [load] Function\r\n * to perform loading of the image. Receives the created `HTMLImageElement` and the desired `src` as argument and\r\n * returns a promise resolving to the loaded or decoded image. Default is {@link module:ol/Image.decode}.\r\n */\r\n\r\n/**\r\n * Creates a loader for WMS images.\r\n * @param {LoaderOptions} options Loader options.\r\n * @return {import(\"../Image.js\").ImageObjectPromiseLoader} Loader.\r\n * @api\r\n */\r\nexport function createLoader(options) {\r\n  const hidpi = options.hidpi === undefined ? true : options.hidpi;\r\n  const projection = getProjection(options.projection || 'EPSG:3857');\r\n  const ratio = options.ratio || 1.5;\r\n  const load = options.load || decode;\r\n  const crossOrigin = options.crossOrigin ?? null;\r\n  const referrerPolicy = options.referrerPolicy;\r\n\r\n  return (extent, resolution, pixelRatio) => {\r\n    extent = getRequestExtent(extent, resolution, pixelRatio, ratio);\r\n    if (pixelRatio != 1 && (!hidpi || options.serverType === undefined)) {\r\n      pixelRatio = 1;\r\n    }\r\n    const src = getImageSrc(\r\n      extent,\r\n      resolution,\r\n      pixelRatio,\r\n      projection,\r\n      options.url,\r\n      getRequestParams(options.params, 'GetMap'),\r\n      options.serverType,\r\n    );\r\n    const image = new Image();\r\n    image.crossOrigin = crossOrigin;\r\n    if (referrerPolicy !== undefined) {\r\n      image.referrerPolicy = referrerPolicy;\r\n    }\r\n    return load(image, src).then((image) => ({image, extent, pixelRatio}));\r\n  };\r\n}\r\n\r\n/**\r\n * Get the GetFeatureInfo URL for the passed coordinate and resolution. Returns `undefined` if the\r\n * GetFeatureInfo URL cannot be constructed.\r\n * @param {LoaderOptions} options Options passed the `createWMSLoader()` function. In addition to\r\n * the params required by the loader, `INFO_FORMAT` should be specified, it defaults to\r\n * `application/json`. If `QUERY_LAYERS` is not provided, then the layers specified in the `LAYERS`\r\n * parameter will be used.\r\n * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\r\n * @param {number} resolution Resolution.\r\n * @return {string|undefined} GetFeatureInfo URL.\r\n * @api\r\n */\r\nexport function getFeatureInfoUrl(options, coordinate, resolution) {\r\n  if (options.url === undefined) {\r\n    return undefined;\r\n  }\r\n\r\n  const projectionObj = getProjection(options.projection || 'EPSG:3857');\r\n\r\n  const extent = getForViewAndSize(\r\n    coordinate,\r\n    resolution,\r\n    0,\r\n    GETFEATUREINFO_IMAGE_SIZE,\r\n  );\r\n\r\n  const baseParams = {\r\n    'QUERY_LAYERS': options.params['LAYERS'],\r\n    'INFO_FORMAT': 'application/json',\r\n  };\r\n  Object.assign(\r\n    baseParams,\r\n    getRequestParams(options.params, 'GetFeatureInfo'),\r\n    options.params,\r\n  );\r\n\r\n  const x = floor((coordinate[0] - extent[0]) / resolution, DECIMALS);\r\n  const y = floor((extent[3] - coordinate[1]) / resolution, DECIMALS);\r\n  const v13 = compareVersions(baseParams['VERSION'], '1.3') >= 0;\r\n  baseParams[v13 ? 'I' : 'X'] = x;\r\n  baseParams[v13 ? 'J' : 'Y'] = y;\r\n\r\n  return getRequestUrl(\r\n    options.url,\r\n    extent,\r\n    GETFEATUREINFO_IMAGE_SIZE,\r\n    projectionObj,\r\n    baseParams,\r\n  );\r\n}\r\n\r\n/**\r\n * Get the GetLegendGraphic URL, optionally optimized for the passed resolution and possibly\r\n * including any passed specific parameters. Returns `undefined` if the GetLegendGraphic URL\r\n * cannot be constructed.\r\n *\r\n * @param {LoaderOptions} options Options passed the `createWMSLoader()` function.\r\n * @param {number} [resolution] Resolution. If not provided, `SCALE` will not be calculated and\r\n * included in URL.\r\n * @return {string|undefined} GetLegendGraphic URL.\r\n * @api\r\n */\r\nexport function getLegendUrl(options, resolution) {\r\n  if (options.url === undefined) {\r\n    return undefined;\r\n  }\r\n\r\n  const baseParams = {\r\n    'SERVICE': 'WMS',\r\n    'VERSION': DEFAULT_VERSION,\r\n    'REQUEST': 'GetLegendGraphic',\r\n    'FORMAT': 'image/png',\r\n  };\r\n\r\n  if (resolution !== undefined) {\r\n    const mpu =\r\n      getProjection(options.projection || 'EPSG:3857').getMetersPerUnit() || 1;\r\n    const pixelSize = 0.00028;\r\n    baseParams['SCALE'] = (resolution * mpu) / pixelSize;\r\n  }\r\n\r\n  Object.assign(baseParams, options.params);\r\n\r\n  if (options.params !== undefined && baseParams['LAYER'] === undefined) {\r\n    const layers = baseParams['LAYERS'];\r\n    const isSingleLayer = !Array.isArray(layers) || layers.length !== 1;\r\n    if (!isSingleLayer) {\r\n      return undefined;\r\n    }\r\n    baseParams['LAYER'] = layers;\r\n  }\r\n\r\n  return appendParams(options.url, baseParams);\r\n}\r\n", "/**\r\n * @module ol/source/ImageWMS\r\n */\r\n\r\nimport {decode} from '../Image.js';\r\nimport {get as getProjection, transform} from '../proj.js';\r\nimport {calculateSourceResolution} from '../reproj.js';\r\nimport ImageSource, {defaultImageLoadFunction} from './Image.js';\r\nimport {createLoader, getFeatureInfoUrl, getLegendUrl} from './wms.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting\r\n * the image from the remote server.\r\n * @property {import(\"./wms.js\").ServerType} [serverType] The type of\r\n * the remote WMS server: `mapserver`, `geoserver`, `carmentaserver`, or `qgis`.\r\n * Only needed if `hidpi` is `true`.\r\n * @property {import(\"../Image.js\").LoadFunction} [imageLoadFunction] Optional function to load an image given a URL.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {Object<string,*>} [params] WMS request parameters.\r\n * At least a `LAYERS` param is required. `STYLES` is\r\n * `''` by default. `VERSION` is `1.3.0` by default. `WIDTH`, `HEIGHT`, `BBOX`\r\n * and `CRS` (`SRS` for WMS version < 1.3.0) will be set dynamically.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\r\n * @property {number} [ratio=1.5] Ratio. `1` means image requests are the size of the map viewport, `2` means\r\n * twice the width and height of the map viewport, and so on. Must be `1` or higher.\r\n * @property {Array<number>} [resolutions] Resolutions.\r\n * If specified, requests will be made for these resolutions only.\r\n * @property {string} [url] WMS service URL.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Source for WMS servers providing single, untiled images.\r\n *\r\n * @fires module:ol/source/Image.ImageSourceEvent\r\n * @api\r\n */\r\nclass ImageWMS extends ImageSource {\r\n  /**\r\n   * @param {Options} [options] ImageWMS options.\r\n   */\r\n  constructor(options) {\r\n    options = options ? options : {};\r\n\r\n    super({\r\n      attributions: options.attributions,\r\n      interpolate: options.interpolate,\r\n      projection: options.projection,\r\n      resolutions: options.resolutions,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {?string}\r\n     */\r\n    this.crossOrigin_ =\r\n      options.crossOrigin !== undefined ? options.crossOrigin : null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {ReferrerPolicy}\r\n     */\r\n    this.referrerPolicy_ = options.referrerPolicy;\r\n\r\n    /**\r\n     * @private\r\n     * @type {string|undefined}\r\n     */\r\n    this.url_ = options.url;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../Image.js\").LoadFunction}\r\n     */\r\n    this.imageLoadFunction_ =\r\n      options.imageLoadFunction !== undefined\r\n        ? options.imageLoadFunction\r\n        : defaultImageLoadFunction;\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Object}\r\n     */\r\n    this.params_ = Object.assign({}, options.params);\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"./wms.js\").ServerType}\r\n     */\r\n    this.serverType_ = options.serverType;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.renderedRevision_ = 0;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.ratio_ = options.ratio !== undefined ? options.ratio : 1.5;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../proj/Projection.js\").default}\r\n     */\r\n    this.loaderProjection_ = null;\r\n  }\r\n\r\n  /**\r\n   * Return the GetFeatureInfo URL for the passed coordinate, resolution, and\r\n   * projection. Return `undefined` if the GetFeatureInfo URL cannot be\r\n   * constructed.\r\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\r\n   * @param {number} resolution Resolution.\r\n   * @param {import(\"../proj.js\").ProjectionLike} projection Projection.\r\n   * @param {!Object} params GetFeatureInfo params. `INFO_FORMAT` at least should\r\n   *     be provided. If `QUERY_LAYERS` is not provided then the layers specified\r\n   *     in the `LAYERS` parameter will be used. `VERSION` should not be\r\n   *     specified here.\r\n   * @return {string|undefined} GetFeatureInfo URL.\r\n   * @api\r\n   */\r\n  getFeatureInfoUrl(coordinate, resolution, projection, params) {\r\n    const projectionObj = getProjection(projection);\r\n    const sourceProjectionObj = this.getProjection();\r\n\r\n    if (sourceProjectionObj && sourceProjectionObj !== projectionObj) {\r\n      resolution = calculateSourceResolution(\r\n        sourceProjectionObj,\r\n        projectionObj,\r\n        coordinate,\r\n        resolution,\r\n      );\r\n      coordinate = transform(coordinate, projectionObj, sourceProjectionObj);\r\n    }\r\n\r\n    const options = {\r\n      url: this.url_,\r\n      params: {\r\n        ...this.params_,\r\n        ...params,\r\n      },\r\n      projection: sourceProjectionObj || projectionObj,\r\n    };\r\n    return getFeatureInfoUrl(options, coordinate, resolution);\r\n  }\r\n\r\n  /**\r\n   * Return the GetLegendGraphic URL, optionally optimized for the passed\r\n   * resolution and possibly including any passed specific parameters. Returns\r\n   * `undefined` if the GetLegendGraphic URL cannot be constructed.\r\n   *\r\n   * @param {number} [resolution] Resolution. If set to undefined, `SCALE`\r\n   *     will not be calculated and included in URL.\r\n   * @param {Object} [params] GetLegendGraphic params. If `LAYER` is set, the\r\n   *     request is generated for this wms layer, else it will try to use the\r\n   *     configured wms layer. Default `FORMAT` is `image/png`.\r\n   *     `VERSION` should not be specified here.\r\n   * @return {string|undefined} GetLegendGraphic URL.\r\n   * @api\r\n   */\r\n  getLegendUrl(resolution, params) {\r\n    return getLegendUrl(\r\n      {\r\n        url: this.url_,\r\n        params: {\r\n          ...this.params_,\r\n          ...params,\r\n        },\r\n      },\r\n      resolution,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get the user-provided params, i.e. those passed to the constructor through\r\n   * the \"params\" option, and possibly updated using the updateParams method.\r\n   * @return {Object} Params.\r\n   * @api\r\n   */\r\n  getParams() {\r\n    return this.params_;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../extent.js\").Extent} extent Extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {import(\"../Image.js\").default} Single image.\r\n   * @override\r\n   */\r\n  getImageInternal(extent, resolution, pixelRatio, projection) {\r\n    if (this.url_ === undefined) {\r\n      return null;\r\n    }\r\n    if (!this.loader || this.loaderProjection_ !== projection) {\r\n      // Lazily create loader to pick up the view projection and to allow `params` updates\r\n      this.loaderProjection_ = projection;\r\n      this.loader = createLoader({\r\n        crossOrigin: this.crossOrigin_,\r\n        referrerPolicy: this.referrerPolicy_,\r\n        params: this.params_,\r\n        projection: projection,\r\n        serverType: this.serverType_,\r\n        hidpi: this.hidpi_,\r\n        url: this.url_,\r\n        ratio: this.ratio_,\r\n        load: (image, src) => {\r\n          this.image.setImage(image);\r\n          this.imageLoadFunction_(this.image, src);\r\n          return decode(image);\r\n        },\r\n      });\r\n    }\r\n\r\n    return super.getImageInternal(extent, resolution, pixelRatio, projection);\r\n  }\r\n\r\n  /**\r\n   * Return the image load function of the source.\r\n   * @return {import(\"../Image.js\").LoadFunction} The image load function.\r\n   * @api\r\n   */\r\n  getImageLoadFunction() {\r\n    return this.imageLoadFunction_;\r\n  }\r\n\r\n  /**\r\n   * Return the URL used for this WMS source.\r\n   * @return {string|undefined} URL.\r\n   * @api\r\n   */\r\n  getUrl() {\r\n    return this.url_;\r\n  }\r\n\r\n  /**\r\n   * Set the image load function of the source.\r\n   * @param {import(\"../Image.js\").LoadFunction} imageLoadFunction Image load function.\r\n   * @api\r\n   */\r\n  setImageLoadFunction(imageLoadFunction) {\r\n    this.imageLoadFunction_ = imageLoadFunction;\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * Set the URL to use for requests.\r\n   * @param {string|undefined} url URL.\r\n   * @api\r\n   */\r\n  setUrl(url) {\r\n    if (url != this.url_) {\r\n      this.url_ = url;\r\n      this.loader = null;\r\n      this.changed();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the user-provided params.\r\n   * @param {Object} params Params.\r\n   * @api\r\n   */\r\n  setParams(params) {\r\n    this.params_ = Object.assign({}, params);\r\n    // Reset loader to pick up new params\r\n    this.loader = null;\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * Update the user-provided params.\r\n   * @param {Object} params Params.\r\n   * @api\r\n   */\r\n  updateParams(params) {\r\n    Object.assign(this.params_, params);\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   */\r\n  changed() {\r\n    this.image = null;\r\n    super.changed();\r\n  }\r\n}\r\n\r\nexport default ImageWMS;\r\n", "/**\r\n * @module ol/net\r\n */\r\nimport {getUid} from './util.js';\r\n\r\n/**\r\n * Simple JSONP helper. Supports error callbacks and a custom callback param.\r\n * The error callback will be called when no JSONP is executed after 10 seconds.\r\n *\r\n * @param {string} url Request url. A 'callback' query parameter will be\r\n *     appended.\r\n * @param {Function} callback Callback on success.\r\n * @param {Function} [errback] Callback on error.\r\n * @param {string} [callbackParam] Custom query parameter for the JSONP\r\n *     callback. Default is 'callback'.\r\n */\r\nexport function jsonp(url, callback, errback, callbackParam) {\r\n  const script = document.createElement('script');\r\n  const key = 'olc_' + getUid(callback);\r\n  function cleanup() {\r\n    delete window[key];\r\n    script.parentNode.removeChild(script);\r\n  }\r\n  script.async = true;\r\n  script.src =\r\n    url +\r\n    (url.includes('?') ? '&' : '?') +\r\n    (callbackParam || 'callback') +\r\n    '=' +\r\n    key;\r\n  const timer = setTimeout(function () {\r\n    cleanup();\r\n    if (errback) {\r\n      errback();\r\n    }\r\n  }, 10000);\r\n  window[key] = function (data) {\r\n    clearTimeout(timer);\r\n    cleanup();\r\n    callback(data);\r\n  };\r\n  document.head.appendChild(script);\r\n}\r\n\r\nexport class ResponseError extends Error {\r\n  /**\r\n   * @param {XMLHttpRequest} response The XHR object.\r\n   */\r\n  constructor(response) {\r\n    const message = 'Unexpected response status: ' + response.status;\r\n    super(message);\r\n\r\n    /**\r\n     * @type {string}\r\n     */\r\n    this.name = 'ResponseError';\r\n\r\n    /**\r\n     * @type {XMLHttpRequest}\r\n     */\r\n    this.response = response;\r\n  }\r\n}\r\n\r\nexport class ClientError extends Error {\r\n  /**\r\n   * @param {XMLHttpRequest} client The XHR object.\r\n   */\r\n  constructor(client) {\r\n    super('Failed to issue request');\r\n\r\n    /**\r\n     * @type {string}\r\n     */\r\n    this.name = 'ClientError';\r\n\r\n    /**\r\n     * @type {XMLHttpRequest}\r\n     */\r\n    this.client = client;\r\n  }\r\n}\r\n\r\n/**\r\n * @param {string} url The URL.\r\n * @return {Promise<Object>} A promise that resolves to the JSON response.\r\n */\r\nexport function getJSON(url) {\r\n  return new Promise(function (resolve, reject) {\r\n    /**\r\n     * @param {ProgressEvent<XMLHttpRequest>} event The load event.\r\n     */\r\n    function onLoad(event) {\r\n      const client = event.target;\r\n      // status will be 0 for file:// urls\r\n      if (!client.status || (client.status >= 200 && client.status < 300)) {\r\n        let data;\r\n        try {\r\n          data = JSON.parse(client.responseText);\r\n        } catch (err) {\r\n          const message = 'Error parsing response text as JSON: ' + err.message;\r\n          reject(new Error(message));\r\n          return;\r\n        }\r\n        resolve(data);\r\n        return;\r\n      }\r\n\r\n      reject(new ResponseError(client));\r\n    }\r\n\r\n    /**\r\n     * @param {ProgressEvent<XMLHttpRequest>} event The error event.\r\n     */\r\n    function onError(event) {\r\n      reject(new ClientError(event.target));\r\n    }\r\n\r\n    const client = new XMLHttpRequest();\r\n    client.addEventListener('load', onLoad);\r\n    client.addEventListener('error', onError);\r\n    client.open('GET', url);\r\n    client.setRequestHeader('Accept', 'application/json');\r\n    client.send();\r\n  });\r\n}\r\n\r\n/**\r\n * @param {string} base The base URL.\r\n * @param {string} url The potentially relative URL.\r\n * @return {string} The full URL.\r\n */\r\nexport function resolveUrl(base, url) {\r\n  if (url.includes('://')) {\r\n    return url;\r\n  }\r\n  return new URL(url, base).href;\r\n}\r\n\r\nlet originalXHR;\r\nexport function overrideXHR(xhr) {\r\n  if (typeof XMLHttpRequest !== 'undefined') {\r\n    originalXHR = XMLHttpRequest;\r\n  }\r\n  global.XMLHttpRequest = xhr;\r\n}\r\n\r\nexport function restoreXHR() {\r\n  global.XMLHttpRequest = originalXHR;\r\n}\r\n", "/**\r\n * @module ol/source/ogcTileUtil\r\n */\r\n\r\nimport {error as logError} from '../console.js';\r\nimport {getIntersection as intersectExtents} from '../extent.js';\r\nimport {getJSON, resolveUrl} from '../net.js';\r\nimport {get as getProjection} from '../proj.js';\r\nimport TileGrid from '../tilegrid/WMTS.js';\r\n\r\n/**\r\n * See https://ogcapi.ogc.org/tiles/.\r\n */\r\n\r\n/**\r\n * @typedef {'map' | 'vector'} TileType\r\n */\r\n\r\n/**\r\n * @typedef {'topLeft' | 'bottomLeft'} CornerOfOrigin\r\n */\r\n\r\n/**\r\n * @typedef {Object} TileSet\r\n * @property {TileType} dataType Type of data represented in the tileset.\r\n * @property {string} [tileMatrixSetDefinition] Reference to a tile matrix set definition.\r\n * @property {TileMatrixSet} [tileMatrixSet] Tile matrix set definition.\r\n * @property {Array<TileMatrixSetLimit>} [tileMatrixSetLimits] Tile matrix set limits.\r\n * @property {Array<Link>} links Tileset links.\r\n */\r\n\r\n/**\r\n * @typedef {Object} Link\r\n * @property {string} rel The link rel attribute.\r\n * @property {string} href The link URL.\r\n * @property {string} type The link type.\r\n */\r\n\r\n/**\r\n * @typedef {Object} TileMatrixSetLimit\r\n * @property {string} tileMatrix The tile matrix id.\r\n * @property {number} minTileRow The minimum tile row.\r\n * @property {number} maxTileRow The maximum tile row.\r\n * @property {number} minTileCol The minimum tile column.\r\n * @property {number} maxTileCol The maximum tile column.\r\n */\r\n\r\n/**\r\n * @typedef {Object} TileMatrixSet\r\n * @property {string} id The tile matrix set identifier.\r\n * @property {string|CrsUri|CrsWkt|CrsReferenceSystem} crs The coordinate reference system.\r\n * @property {Array<string>} [orderedAxes] Axis order.\r\n * @property {Array<TileMatrix>} tileMatrices Array of tile matrices.\r\n */\r\n\r\n/**\r\n * @typedef {Object} CrsUri\r\n * @property {string} uri Reference to one coordinate reference system (CRS).\r\n */\r\n\r\n/**\r\n * @typedef {Object} CrsWkt\r\n * @property {Object} wkt JSON encoding for WKT representation of CRS 2.0.\r\n */\r\n\r\n/**\r\n * @typedef {Object} CrsReferenceSystem\r\n * @property {Object} referenceSystem Data structure as defined in the MD_ReferenceSystem of the ISO 19115.\r\n */\r\n\r\n/**\r\n * @typedef {Object} TileMatrix\r\n * @property {string} id The tile matrix identifier.\r\n * @property {number} cellSize The pixel resolution (map units per pixel).\r\n * @property {Array<number>} pointOfOrigin The map location of the matrix origin.\r\n * @property {CornerOfOrigin} [cornerOfOrigin='topLeft'] The corner of the matrix that represents the origin ('topLeft' or 'bottomLeft').\r\n * @property {number} matrixWidth The number of columns.\r\n * @property {number} matrixHeight The number of rows.\r\n * @property {number} tileWidth The pixel width of a tile.\r\n * @property {number} tileHeight The pixel height of a tile.\r\n */\r\n\r\n/**\r\n * @type {Object<string, boolean>}\r\n */\r\nconst knownMapMediaTypes = {\r\n  'image/png': true,\r\n  'image/jpeg': true,\r\n  'image/gif': true,\r\n  'image/webp': true,\r\n};\r\n\r\n/**\r\n * @type {Object<string, boolean>}\r\n */\r\nconst knownVectorMediaTypes = {\r\n  'application/vnd.mapbox-vector-tile': true,\r\n  'application/geo+json': true,\r\n};\r\n\r\n/**\r\n * @typedef {Object} TileSetInfo\r\n * @property {string} [urlTemplate] The tile URL template.\r\n * @property {import(\"../proj/Projection.js\").default} projection The source projection.\r\n * @property {import(\"../tilegrid/WMTS.js\").default} grid The tile grid.\r\n * @property {import(\"../Tile.js\").UrlFunction} [urlFunction] The tile URL function.\r\n */\r\n\r\n/**\r\n * @typedef {Object} SourceInfo\r\n * @property {string} [url] The tile set URL.\r\n * @property {string} [mediaType] The preferred tile media type.\r\n * @property {Array<string>} [supportedMediaTypes] The supported media types.\r\n * @property {import(\"../proj/Projection.js\").default} [projection] The source projection.\r\n * @property {Object} [context] Optional context for constructing the URL.\r\n * @property {Array<string>} [collections] Optional collections to append the URL with.\r\n */\r\n\r\n/**\r\n * @param {string} tileUrlTemplate Tile URL template.\r\n * @param {Array<string>} collections List of collections to include as query parameter.\r\n * @return {string} The tile URL template with appended collections query parameter.\r\n */\r\nexport function appendCollectionsQueryParam(tileUrlTemplate, collections) {\r\n  if (!collections.length) {\r\n    return tileUrlTemplate;\r\n  }\r\n\r\n  // making sure we can always construct a URL instance.\r\n  const url = new URL(tileUrlTemplate, 'file:/');\r\n\r\n  if (url.pathname.split('/').includes('collections')) {\r\n    logError(\r\n      'The \"collections\" query parameter cannot be added to collection endpoints',\r\n    );\r\n    return tileUrlTemplate;\r\n  }\r\n  // According to conformance class\r\n  // http://www.opengis.net/spec/ogcapi-tiles-1/1.0/conf/collections-selection\r\n  // commata in the identifiers of the `collections` query parameter\r\n  // need to be URLEncoded, while the commata separating the identifiers\r\n  // should not.\r\n  const encodedCollections = collections\r\n    .map((c) => encodeURIComponent(c))\r\n    .join(',');\r\n\r\n  url.searchParams.append('collections', encodedCollections);\r\n  const baseUrl = tileUrlTemplate.split('?')[0];\r\n  const queryParams = decodeURIComponent(url.searchParams.toString());\r\n  return `${baseUrl}?${queryParams}`;\r\n}\r\n\r\n/**\r\n * @param {Array<Link>} links Tileset links.\r\n * @param {string} [mediaType] The preferred media type.\r\n * @param {Array<string>} [collections] Optional collections to append the URL with.\r\n * @return {string} The tile URL template.\r\n */\r\nexport function getMapTileUrlTemplate(links, mediaType, collections) {\r\n  let tileUrlTemplate;\r\n  let fallbackUrlTemplate;\r\n  for (let i = 0; i < links.length; ++i) {\r\n    const link = links[i];\r\n    if (link.rel === 'item') {\r\n      if (link.type === mediaType) {\r\n        tileUrlTemplate = link.href;\r\n        break;\r\n      }\r\n      if (knownMapMediaTypes[link.type]) {\r\n        fallbackUrlTemplate = link.href;\r\n      } else if (!fallbackUrlTemplate && link.type.startsWith('image/')) {\r\n        fallbackUrlTemplate = link.href;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!tileUrlTemplate) {\r\n    if (fallbackUrlTemplate) {\r\n      tileUrlTemplate = fallbackUrlTemplate;\r\n    } else {\r\n      throw new Error('Could not find \"item\" link');\r\n    }\r\n  }\r\n\r\n  if (collections) {\r\n    tileUrlTemplate = appendCollectionsQueryParam(tileUrlTemplate, collections);\r\n  }\r\n\r\n  return tileUrlTemplate;\r\n}\r\n\r\n/**\r\n * @param {Array<Link>} links Tileset links.\r\n * @param {string} [mediaType] The preferred media type.\r\n * @param {Array<string>} [supportedMediaTypes] The media types supported by the parser.\r\n * @param {Array<string>} [collections] Optional collections to append the URL with.\r\n * @return {string} The tile URL template.\r\n */\r\nexport function getVectorTileUrlTemplate(\r\n  links,\r\n  mediaType,\r\n  supportedMediaTypes,\r\n  collections,\r\n) {\r\n  let tileUrlTemplate;\r\n  let fallbackUrlTemplate;\r\n\r\n  /**\r\n   * Lookup of URL by media type.\r\n   * @type {Object<string, string>}\r\n   */\r\n  const hrefLookup = {};\r\n\r\n  for (let i = 0; i < links.length; ++i) {\r\n    const link = links[i];\r\n    hrefLookup[link.type] = link.href;\r\n    if (link.rel === 'item') {\r\n      if (link.type === mediaType) {\r\n        tileUrlTemplate = link.href;\r\n        break;\r\n      }\r\n      if (knownVectorMediaTypes[link.type]) {\r\n        fallbackUrlTemplate = link.href;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!tileUrlTemplate && supportedMediaTypes) {\r\n    for (let i = 0; i < supportedMediaTypes.length; ++i) {\r\n      const supportedMediaType = supportedMediaTypes[i];\r\n      if (hrefLookup[supportedMediaType]) {\r\n        tileUrlTemplate = hrefLookup[supportedMediaType];\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!tileUrlTemplate) {\r\n    if (fallbackUrlTemplate) {\r\n      tileUrlTemplate = fallbackUrlTemplate;\r\n    } else {\r\n      throw new Error('Could not find \"item\" link');\r\n    }\r\n  }\r\n\r\n  if (collections) {\r\n    tileUrlTemplate = appendCollectionsQueryParam(tileUrlTemplate, collections);\r\n  }\r\n\r\n  return tileUrlTemplate;\r\n}\r\n\r\n/**\r\n * @param {SourceInfo} sourceInfo The source info.\r\n * @param {TileMatrixSet} tileMatrixSet Tile matrix set.\r\n * @param {string} [tileUrlTemplate] Tile URL template.\r\n * @param {Array<TileMatrixSetLimit>} [tileMatrixSetLimits] Tile matrix set limits.\r\n * @return {TileSetInfo} Tile set info.\r\n */\r\nexport function parseTileMatrixSet(\r\n  sourceInfo,\r\n  tileMatrixSet,\r\n  tileUrlTemplate,\r\n  tileMatrixSetLimits,\r\n) {\r\n  let projection = sourceInfo.projection;\r\n  if (!projection) {\r\n    if (typeof tileMatrixSet.crs === 'string') {\r\n      projection = getProjection(tileMatrixSet.crs);\r\n    } else if ('uri' in tileMatrixSet.crs) {\r\n      projection = getProjection(tileMatrixSet.crs.uri);\r\n    }\r\n    if (!projection) {\r\n      throw new Error(`Unsupported CRS: ${JSON.stringify(tileMatrixSet.crs)}`);\r\n    }\r\n  }\r\n  const orderedAxes = tileMatrixSet.orderedAxes;\r\n  const axisOrientation = orderedAxes\r\n    ? orderedAxes\r\n        .slice(0, 2)\r\n        .map((s) => s.replace(/E|X|Lon/i, 'e').replace(/N|Y|Lat/i, 'n'))\r\n        .join('')\r\n    : projection.getAxisOrientation();\r\n  const backwards = !axisOrientation.startsWith('en');\r\n\r\n  const matrices = tileMatrixSet.tileMatrices.sort(function (a, b) {\r\n    return b.cellSize - a.cellSize;\r\n  });\r\n\r\n  /**\r\n   * @type {Object<string, TileMatrix>}\r\n   */\r\n  const matrixLookup = {};\r\n  for (let i = 0; i < matrices.length; ++i) {\r\n    const matrix = matrices[i];\r\n    matrixLookup[matrix.id] = matrix;\r\n  }\r\n\r\n  /**\r\n   * @type {Object<string, TileMatrixSetLimit>}\r\n   */\r\n  const limitLookup = {};\r\n\r\n  /**\r\n   * @type {Array<string>}\r\n   */\r\n  const matrixIds = [];\r\n\r\n  if (tileMatrixSetLimits) {\r\n    for (let i = 0; i < tileMatrixSetLimits.length; ++i) {\r\n      const limit = tileMatrixSetLimits[i];\r\n      const id = limit.tileMatrix;\r\n      const matrix = matrixLookup[id];\r\n      const zoomLevel = matrices.indexOf(matrix);\r\n      matrixIds[zoomLevel] = id;\r\n      limitLookup[id] = limit;\r\n    }\r\n  } else {\r\n    for (let i = 0; i < matrices.length; ++i) {\r\n      const id = matrices[i].id;\r\n      matrixIds.push(id);\r\n    }\r\n  }\r\n\r\n  const length = matrixIds.length;\r\n  const origins = new Array(length);\r\n  const resolutions = new Array(length);\r\n  const sizes = new Array(length);\r\n  const tileSizes = new Array(length);\r\n  const extent = [-Infinity, -Infinity, Infinity, Infinity];\r\n\r\n  for (let i = 0; i < length; ++i) {\r\n    const id = matrixIds[i];\r\n    const matrix = matrixLookup[id];\r\n    const origin = matrix.pointOfOrigin;\r\n    if (backwards) {\r\n      origins[i] = [origin[1], origin[0]];\r\n    } else {\r\n      origins[i] = origin;\r\n    }\r\n    resolutions[i] = matrix.cellSize;\r\n    sizes[i] = [matrix.matrixWidth, matrix.matrixHeight];\r\n    tileSizes[i] = [matrix.tileWidth, matrix.tileHeight];\r\n    const limit = limitLookup[id];\r\n    if (limit) {\r\n      const tileMapWidth = matrix.cellSize * matrix.tileWidth;\r\n      const minX = origins[i][0] + limit.minTileCol * tileMapWidth;\r\n      const maxX = origins[i][0] + (limit.maxTileCol + 1) * tileMapWidth;\r\n\r\n      const tileMapHeight = matrix.cellSize * matrix.tileHeight;\r\n      const upsideDown = matrix.cornerOfOrigin === 'bottomLeft';\r\n\r\n      let minY;\r\n      let maxY;\r\n      if (upsideDown) {\r\n        minY = origins[i][1] + limit.minTileRow * tileMapHeight;\r\n        maxY = origins[i][1] + (limit.maxTileRow + 1) * tileMapHeight;\r\n      } else {\r\n        minY = origins[i][1] - (limit.maxTileRow + 1) * tileMapHeight;\r\n        maxY = origins[i][1] - limit.minTileRow * tileMapHeight;\r\n      }\r\n\r\n      intersectExtents(extent, [minX, minY, maxX, maxY], extent);\r\n    }\r\n  }\r\n\r\n  const tileGrid = new TileGrid({\r\n    origins,\r\n    resolutions,\r\n    sizes,\r\n    tileSizes,\r\n    extent: tileMatrixSetLimits ? extent : undefined,\r\n    matrixIds,\r\n  });\r\n\r\n  if (!tileUrlTemplate) {\r\n    return {\r\n      grid: tileGrid,\r\n      projection: projection,\r\n    };\r\n  }\r\n\r\n  const context = sourceInfo.context;\r\n  const base = sourceInfo.url;\r\n\r\n  /** @type {import('../Tile.js').UrlFunction} */\r\n  function tileUrlFunction(tileCoord, pixelRatio, projection) {\r\n    if (!tileCoord) {\r\n      return undefined;\r\n    }\r\n\r\n    const id = matrixIds[tileCoord[0]];\r\n    const matrix = matrixLookup[id];\r\n    const upsideDown = matrix.cornerOfOrigin === 'bottomLeft';\r\n\r\n    const localContext = {\r\n      tileMatrix: id,\r\n      tileCol: tileCoord[1],\r\n      tileRow: upsideDown ? -tileCoord[2] - 1 : tileCoord[2],\r\n    };\r\n\r\n    if (tileMatrixSetLimits) {\r\n      const limit = limitLookup[matrix.id];\r\n      if (\r\n        localContext.tileCol < limit.minTileCol ||\r\n        localContext.tileCol > limit.maxTileCol ||\r\n        localContext.tileRow < limit.minTileRow ||\r\n        localContext.tileRow > limit.maxTileRow\r\n      ) {\r\n        return undefined;\r\n      }\r\n    }\r\n\r\n    Object.assign(\r\n      localContext,\r\n      {\r\n        z: localContext.tileMatrix,\r\n        x: localContext.tileCol,\r\n        y: localContext.tileRow,\r\n      },\r\n      context,\r\n    );\r\n\r\n    const url = tileUrlTemplate.replace(/\\{(\\w+?)\\}/g, function (m, p) {\r\n      return localContext[p];\r\n    });\r\n\r\n    return resolveUrl(base, url);\r\n  }\r\n\r\n  return {\r\n    grid: tileGrid,\r\n    projection: projection,\r\n    urlTemplate: tileUrlTemplate,\r\n    urlFunction: tileUrlFunction,\r\n  };\r\n}\r\n\r\n/**\r\n * @param {SourceInfo} sourceInfo The source info.\r\n * @param {TileSet} tileSet Tile set.\r\n * @return {TileSetInfo|Promise<TileSetInfo>} Tile set info.\r\n */\r\nfunction parseTileSetMetadata(sourceInfo, tileSet) {\r\n  const tileMatrixSetLimits = tileSet.tileMatrixSetLimits;\r\n  /** @type {string} */\r\n  let tileUrlTemplate;\r\n\r\n  if (tileSet.dataType === 'map') {\r\n    tileUrlTemplate = getMapTileUrlTemplate(\r\n      tileSet.links,\r\n      sourceInfo.mediaType,\r\n      sourceInfo.collections,\r\n    );\r\n  } else if (tileSet.dataType === 'vector') {\r\n    tileUrlTemplate = getVectorTileUrlTemplate(\r\n      tileSet.links,\r\n      sourceInfo.mediaType,\r\n      sourceInfo.supportedMediaTypes,\r\n      sourceInfo.collections,\r\n    );\r\n  } else {\r\n    throw new Error('Expected tileset data type to be \"map\" or \"vector\"');\r\n  }\r\n\r\n  if (tileSet.tileMatrixSet) {\r\n    return parseTileMatrixSet(\r\n      sourceInfo,\r\n      tileSet.tileMatrixSet,\r\n      tileUrlTemplate,\r\n      tileMatrixSetLimits,\r\n    );\r\n  }\r\n\r\n  const tileMatrixSetLink = tileSet.links.find(\r\n    (link) =>\r\n      link.rel === 'http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme',\r\n  );\r\n  if (!tileMatrixSetLink) {\r\n    throw new Error(\r\n      'Expected http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme link or tileMatrixSet',\r\n    );\r\n  }\r\n  const tileMatrixSetDefinition = tileMatrixSetLink.href;\r\n\r\n  const url = resolveUrl(sourceInfo.url, tileMatrixSetDefinition);\r\n  return getJSON(url).then(function (tileMatrixSet) {\r\n    return parseTileMatrixSet(\r\n      sourceInfo,\r\n      tileMatrixSet,\r\n      tileUrlTemplate,\r\n      tileMatrixSetLimits,\r\n    );\r\n  });\r\n}\r\n\r\n/**\r\n * @param {SourceInfo} sourceInfo Source info.\r\n * @return {Promise<TileSetInfo>} Tile set info.\r\n */\r\nexport function getTileSetInfo(sourceInfo) {\r\n  return getJSON(sourceInfo.url).then(function (tileSet) {\r\n    return parseTileSetMetadata(sourceInfo, tileSet);\r\n  });\r\n}\r\n", "/**\r\n * @module ol/source/OGCMapTile\r\n */\r\nimport {error as logError} from '../console.js';\r\nimport TileImage from './TileImage.js';\r\nimport {getTileSetInfo} from './ogcTileUtil.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {string} url URL to the OGC Map Tileset endpoint.\r\n * @property {Object} [context] A lookup of values to use in the tile URL template.  The `{tileMatrix}`\r\n * (zoom level), `{tileRow}`, and `{tileCol}` variables in the URL will always be provided by the source.\r\n * @property {string} [mediaType] The content type for the tiles (e.g. \"image/png\").  If not provided,\r\n * the source will try to find a link with rel=\"item\" that uses a supported image type.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. By default, the projection\r\n * will be derived from the `crs` of the `tileMatrixSet`.  You can override this by supplying\r\n * a projection to the constructor.\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\r\n * ```js\r\n * function(tile, src) {\r\n *   tile.getImage().src = src;\r\n * };\r\n * ```\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * @property {number} [transition] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {Array<string>} [collections] A list of geospatial data sub-resources to include. If not provided, the entire dataset will\r\n * be included. This option is not applicable when requesting the tileset for a single collection.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for map tiles from an [OGC API - Tiles](https://ogcapi.ogc.org/tiles/) service that provides \"map\" type tiles.\r\n * The service must conform to at least the core (http://www.opengis.net/spec/ogcapi-tiles-1/1.0/conf/core)\r\n * and tileset (http://www.opengis.net/spec/ogcapi-tiles-1/1.0/conf/tileset) conformance classes. For supporting the `collections`\r\n * option, the service must conform to the collections selection\r\n * (http://www.opengis.net/spec/ogcapi-tiles-1/1.0/conf/collections-selection) conformance class.\r\n * @api\r\n */\r\nclass OGCMapTile extends TileImage {\r\n  /**\r\n   * @param {Options} options OGC map tile options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      attributions: options.attributions,\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin: options.crossOrigin,\r\n      referrerPolicy: options.referrerPolicy,\r\n      interpolate: options.interpolate,\r\n      projection: options.projection,\r\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\r\n      state: 'loading',\r\n      tileLoadFunction: options.tileLoadFunction,\r\n      wrapX: options.wrapX !== undefined ? options.wrapX : true,\r\n      transition: options.transition,\r\n    });\r\n\r\n    const sourceInfo = {\r\n      url: options.url,\r\n      projection: this.getProjection(),\r\n      mediaType: options.mediaType,\r\n      context: options.context || null,\r\n      collections: options.collections,\r\n    };\r\n\r\n    getTileSetInfo(sourceInfo)\r\n      .then(this.handleTileSetInfo_.bind(this))\r\n      .catch(this.handleError_.bind(this));\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"./ogcTileUtil.js\").TileSetInfo} tileSetInfo Tile set info.\r\n   * @private\r\n   */\r\n  handleTileSetInfo_(tileSetInfo) {\r\n    this.tileGrid = tileSetInfo.grid;\r\n    this.projection = tileSetInfo.projection;\r\n    this.setTileUrlFunction(tileSetInfo.urlFunction, tileSetInfo.urlTemplate);\r\n    this.setState('ready');\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Error} error The error.\r\n   */\r\n  handleError_(error) {\r\n    logError(error);\r\n    this.setState('error');\r\n  }\r\n}\r\n\r\nexport default OGCMapTile;\r\n", "/**\r\n * @module ol/source/VectorTile\r\n */\r\n\r\nimport TileState from '../TileState.js';\r\nimport VectorRenderTile from '../VectorRenderTile.js';\r\nimport Tile from '../VectorTile.js';\r\nimport EventType from '../events/EventType.js';\r\nimport {\r\n  buffer as bufferExtent,\r\n  getIntersection,\r\n  intersects,\r\n} from '../extent.js';\r\nimport {loadFeaturesXhr} from '../featureloader.js';\r\nimport {isEmpty} from '../obj.js';\r\nimport {equivalent, transformExtent} from '../proj.js';\r\nimport {toSize} from '../size.js';\r\nimport TileGrid from '../tilegrid/TileGrid.js';\r\nimport {DEFAULT_MAX_ZOOM} from '../tilegrid/common.js';\r\nimport {\r\n  createXYZ,\r\n  extentFromProjection,\r\n  getForProjection,\r\n} from '../tilegrid.js';\r\nimport UrlTile from './UrlTile.js';\r\n\r\n/**\r\n * @template {import(\"../Feature.js\").FeatureLike} [FeatureType=import(\"../render/Feature.js\").default]\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\r\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least twice the number of tiles in the viewport.\r\n * @property {import(\"../extent.js\").Extent} [extent] Extent.\r\n * @property {import(\"../format/Feature.js\").default<FeatureType>} [format] Feature format for tiles. Used and required by the default.\r\n * @property {boolean} [overlaps=true] This source may have overlapping geometries. Setting this\r\n * to `false` (e.g. for sources with polygons that represent administrative\r\n * boundaries or TopoJSON sources) allows the renderer to optimise fill and\r\n * stroke operations.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Projection of the tile source.\r\n * @property {import(\"./Source.js\").State} [state] Source state.\r\n * @property {typeof import(\"../VectorTile.js\").default} [tileClass] Class used to instantiate tiles.\r\n * Default is {@link module:ol/VectorTile~VectorTile}.\r\n * @property {number} [maxZoom=22] Optional max zoom level. Not used if `tileGrid` is provided.\r\n * @property {number} [minZoom] Optional min zoom level. Not used if `tileGrid` is provided.\r\n * @property {number|import(\"../size.js\").Size} [tileSize=512] Optional tile size. Not used if `tileGrid` is provided.\r\n * @property {number} [maxResolution] Optional tile grid resolution at level zero. Not used if `tileGrid` is provided.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction]\r\n * Optional function to load a tile given a URL. Could look like this for pbf tiles:\r\n * ```js\r\n * function(tile, url) {\r\n *   tile.setLoader(function(extent, resolution, projection) {\r\n *     fetch(url).then(function(response) {\r\n *       response.arrayBuffer().then(function(data) {\r\n *         const format = tile.getFormat() // ol/format/MVT configured as source format\r\n *         const features = format.readFeatures(data, {\r\n *           extent: extent,\r\n *           featureProjection: projection\r\n *         });\r\n *         tile.setFeatures(features);\r\n *       });\r\n *     });\r\n *   });\r\n * }\r\n * ```\r\n * If you do not need extent, resolution and projection to get the features for a tile (e.g.\r\n * for GeoJSON tiles), your `tileLoadFunction` does not need a `setLoader()` call. Only make sure\r\n * to call `setFeatures()` on the tile:\r\n * ```js\r\n * const format = new GeoJSON({featureProjection: map.getView().getProjection()});\r\n * async function tileLoadFunction(tile, url) {\r\n *   const response = await fetch(url);\r\n *   const data = await response.json();\r\n *   tile.setFeatures(format.readFeatures(data));\r\n * }\r\n * ```\r\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get tile URL given a tile coordinate and the projection.\r\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\r\n * A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`, may be\r\n * used instead of defining each one separately in the `urls` option.\r\n * @property {number} [transition] A duration for tile opacity\r\n * transitions in milliseconds. A duration of 0 disables the opacity transition.\r\n * @property {Array<string>} [urls] An array of URL templates.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * When set to `false`, only one world\r\n * will be rendered. When set to `true`, tiles will be wrapped horizontally to\r\n * render multiple worlds.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=1]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Class for layer sources providing vector data divided into a tile grid, to be\r\n * used with {@link module:ol/layer/VectorTile~VectorTileLayer}. Although this source receives tiles\r\n * with vector features from the server, it is not meant for feature editing.\r\n * Features are optimized for rendering, their geometries are clipped at or near\r\n * tile boundaries and simplified for a view resolution. See\r\n * {@link module:ol/source/Vector~VectorSource} for vector sources that are suitable for feature\r\n * editing.\r\n *\r\n * @fires import(\"./Tile.js\").TileSourceEvent\r\n * @api\r\n * @template {import(\"../Feature.js\").FeatureLike} [FeatureType=import(\"../render/Feature.js\").default]\r\n */\r\nclass VectorTile extends UrlTile {\r\n  /**\r\n   * @param {!Options<FeatureType>} options Vector tile options.\r\n   */\r\n  constructor(options) {\r\n    const projection = options.projection || 'EPSG:3857';\r\n\r\n    const extent = options.extent || extentFromProjection(projection);\r\n\r\n    const tileGrid =\r\n      options.tileGrid ||\r\n      createXYZ({\r\n        extent: extent,\r\n        maxResolution: options.maxResolution,\r\n        maxZoom: options.maxZoom !== undefined ? options.maxZoom : 22,\r\n        minZoom: options.minZoom,\r\n        tileSize: options.tileSize || 512,\r\n      });\r\n\r\n    super({\r\n      attributions: options.attributions,\r\n      attributionsCollapsible: options.attributionsCollapsible,\r\n      cacheSize: options.cacheSize,\r\n      interpolate: true,\r\n      projection: projection,\r\n      state: options.state,\r\n      tileGrid: tileGrid,\r\n      tileLoadFunction: options.tileLoadFunction\r\n        ? options.tileLoadFunction\r\n        : defaultLoadFunction,\r\n      tileUrlFunction: options.tileUrlFunction,\r\n      url: options.url,\r\n      urls: options.urls,\r\n      wrapX: options.wrapX === undefined ? true : options.wrapX,\r\n      transition: options.transition,\r\n      zDirection: options.zDirection === undefined ? 1 : options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../format/Feature.js\").default<FeatureType>|null}\r\n     */\r\n    this.format_ = options.format ? options.format : null;\r\n\r\n    /**\r\n     * @type {Object<string, Array<string>>}\r\n     * @private\r\n     */\r\n    this.tileKeysBySourceTileUrl_ = {};\r\n\r\n    /**\r\n     @type {Object<string, Tile<FeatureType>>}\r\n     */\r\n    this.sourceTiles_ = {};\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.overlaps_ = options.overlaps == undefined ? true : options.overlaps;\r\n\r\n    /**\r\n     * @protected\r\n     * @type {typeof import(\"../VectorTile.js\").default}\r\n     */\r\n    this.tileClass = options.tileClass ? options.tileClass : Tile;\r\n\r\n    /**\r\n     * @private\r\n     * @type {Object<string, import(\"../tilegrid/TileGrid.js\").default>}\r\n     */\r\n    this.tileGrids_ = {};\r\n  }\r\n\r\n  /**\r\n   * @return {boolean} The source can have overlapping geometries.\r\n   */\r\n  getOverlaps() {\r\n    return this.overlaps_;\r\n  }\r\n\r\n  /**\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection\").default} projection Projection.\r\n   * @param {VectorRenderTile} tile Vector render tile.\r\n   * @return {Array<import(\"../VectorTile\").default>} Tile keys.\r\n   */\r\n  getSourceTiles(pixelRatio, projection, tile) {\r\n    if (tile.getState() === TileState.IDLE) {\r\n      tile.setState(TileState.LOADING);\r\n      const urlTileCoord = tile.wrappedTileCoord;\r\n      const tileGrid = this.getTileGridForProjection(projection);\r\n      let extent = tileGrid.getTileCoordExtent(urlTileCoord);\r\n      const z = urlTileCoord[0];\r\n      const resolution = tileGrid.getResolution(z);\r\n      // make extent 1 pixel smaller so we don't load tiles for < 0.5 pixel render space\r\n      bufferExtent(extent, -resolution, extent);\r\n      const sourceProjection = this.projection;\r\n      if (\r\n        projection &&\r\n        this.projection &&\r\n        !equivalent(projection, sourceProjection)\r\n      ) {\r\n        extent = transformExtent(extent, projection, sourceProjection);\r\n      }\r\n      const sourceTileGrid = this.tileGrid;\r\n      const sourceExtent = sourceTileGrid.getExtent();\r\n      if (sourceExtent) {\r\n        getIntersection(extent, sourceExtent, extent);\r\n      }\r\n      let sourceResolution = resolution;\r\n      if (\r\n        projection &&\r\n        sourceProjection &&\r\n        !equivalent(projection, sourceProjection)\r\n      ) {\r\n        sourceResolution =\r\n          resolution /\r\n          sourceProjection.getMetersPerUnit() /\r\n          projection.getMetersPerUnit();\r\n      }\r\n      const sourceZ = sourceTileGrid.getZForResolution(\r\n        sourceResolution,\r\n        this.zDirection,\r\n      );\r\n\r\n      sourceTileGrid.forEachTileCoord(extent, sourceZ, (sourceTileCoord) => {\r\n        const tileUrl = this.tileUrlFunction(\r\n          sourceTileCoord,\r\n          pixelRatio,\r\n          projection,\r\n        );\r\n        if (!this.sourceTiles_[tileUrl]) {\r\n          this.sourceTiles_[tileUrl] = new this.tileClass(\r\n            sourceTileCoord,\r\n            tileUrl ? TileState.IDLE : TileState.EMPTY,\r\n            tileUrl,\r\n            this.format_,\r\n            this.tileLoadFunction,\r\n          );\r\n        }\r\n        const sourceTile = this.sourceTiles_[tileUrl];\r\n        tile.sourceTiles.push(sourceTile);\r\n        if (!this.tileKeysBySourceTileUrl_[tileUrl]) {\r\n          this.tileKeysBySourceTileUrl_[tileUrl] = [];\r\n        }\r\n        this.tileKeysBySourceTileUrl_[tileUrl].push(tile.getKey());\r\n        const sourceTileState = sourceTile.getState();\r\n        if (sourceTileState < TileState.LOADED) {\r\n          const listenChange = (event) => {\r\n            this.handleTileChange(event);\r\n            const state = sourceTile.getState();\r\n            if (state === TileState.LOADED || state === TileState.ERROR) {\r\n              const sourceTileKey = sourceTile.getKey();\r\n              if (sourceTileKey in tile.errorTileKeys) {\r\n                if (sourceTile.getState() === TileState.LOADED) {\r\n                  delete tile.errorTileKeys[sourceTileKey];\r\n                }\r\n              } else {\r\n                tile.loadingSourceTiles--;\r\n              }\r\n              if (state === TileState.ERROR) {\r\n                tile.errorTileKeys[sourceTileKey] = true;\r\n              } else {\r\n                sourceTile.removeEventListener(EventType.CHANGE, listenChange);\r\n              }\r\n              if (tile.loadingSourceTiles === 0) {\r\n                tile.setState(\r\n                  isEmpty(tile.errorTileKeys)\r\n                    ? TileState.LOADED\r\n                    : TileState.ERROR,\r\n                );\r\n              }\r\n            }\r\n          };\r\n          sourceTile.addEventListener(EventType.CHANGE, listenChange);\r\n          tile.loadingSourceTiles++;\r\n        }\r\n        if (sourceTileState === TileState.IDLE) {\r\n          sourceTile.extent =\r\n            sourceTileGrid.getTileCoordExtent(sourceTileCoord);\r\n          sourceTile.projection = this.projection;\r\n          sourceTile.resolution = sourceTileGrid.getResolution(\r\n            sourceTileCoord[0],\r\n          );\r\n          sourceTile.load();\r\n        }\r\n      });\r\n      if (!tile.loadingSourceTiles) {\r\n        tile.setState(\r\n          tile.sourceTiles.some(\r\n            (sourceTile) => sourceTile.getState() === TileState.ERROR,\r\n          )\r\n            ? TileState.ERROR\r\n            : TileState.LOADED,\r\n        );\r\n      }\r\n    }\r\n\r\n    return tile.sourceTiles;\r\n  }\r\n\r\n  /**\r\n   * @param {VectorRenderTile} tile Vector render tile.\r\n   */\r\n  removeSourceTiles(tile) {\r\n    const tileKey = tile.getKey();\r\n    const sourceTiles = tile.sourceTiles;\r\n    for (let i = 0, ii = sourceTiles.length; i < ii; ++i) {\r\n      const sourceTileUrl = sourceTiles[i].getTileUrl();\r\n      if (!this.tileKeysBySourceTileUrl_[sourceTileUrl]) {\r\n        return;\r\n      }\r\n      const index =\r\n        this.tileKeysBySourceTileUrl_[sourceTileUrl].indexOf(tileKey);\r\n      if (index === -1) {\r\n        continue;\r\n      }\r\n      this.tileKeysBySourceTileUrl_[sourceTileUrl].splice(index, 1);\r\n      if (this.tileKeysBySourceTileUrl_[sourceTileUrl].length === 0) {\r\n        delete this.tileKeysBySourceTileUrl_[sourceTileUrl];\r\n        delete this.sourceTiles_[sourceTileUrl];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {number} z Tile coordinate z.\r\n   * @param {number} x Tile coordinate x.\r\n   * @param {number} y Tile coordinate y.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {!VectorRenderTile} Tile.\r\n   * @override\r\n   */\r\n  getTile(z, x, y, pixelRatio, projection) {\r\n    const tileCoord = [z, x, y];\r\n    let urlTileCoord = this.getTileCoordForTileUrlFunction(\r\n      tileCoord,\r\n      projection,\r\n    );\r\n    const sourceExtent = this.getTileGrid().getExtent();\r\n    const sourceProjection = this.projection;\r\n    const tileGrid = this.getTileGridForProjection(projection);\r\n    if (urlTileCoord && sourceExtent) {\r\n      const tileExtent = tileGrid.getTileCoordExtent(urlTileCoord);\r\n      // make extent 1 pixel smaller so we don't load tiles for < 0.5 pixel render space\r\n      bufferExtent(tileExtent, -tileGrid.getResolution(z), tileExtent);\r\n      if (\r\n        !intersects(\r\n          sourceExtent,\r\n          !projection ||\r\n            !sourceProjection ||\r\n            equivalent(projection, sourceProjection)\r\n            ? tileExtent\r\n            : transformExtent(tileExtent, projection, sourceProjection),\r\n        )\r\n      ) {\r\n        urlTileCoord = null;\r\n      }\r\n    }\r\n    let empty = true;\r\n    if (urlTileCoord !== null) {\r\n      const sourceTileGrid = this.tileGrid;\r\n      const resolution = tileGrid.getResolution(z);\r\n      let sourceResolution = resolution;\r\n      if (\r\n        projection &&\r\n        sourceProjection &&\r\n        !equivalent(projection, sourceProjection)\r\n      ) {\r\n        sourceResolution =\r\n          resolution /\r\n          sourceProjection.getMetersPerUnit() /\r\n          projection.getMetersPerUnit();\r\n      }\r\n      const sourceZ = sourceTileGrid.getZForResolution(sourceResolution, 1);\r\n      // make extent 1 pixel smaller so we don't load tiles for < 0.5 pixel render space\r\n      const extent = tileGrid.getTileCoordExtent(urlTileCoord);\r\n      bufferExtent(extent, -resolution, extent);\r\n      sourceTileGrid.forEachTileCoord(\r\n        !projection ||\r\n          !sourceProjection ||\r\n          equivalent(projection, sourceProjection)\r\n          ? extent\r\n          : transformExtent(extent, projection, sourceProjection),\r\n        sourceZ,\r\n        (sourceTileCoord) => {\r\n          empty =\r\n            empty &&\r\n            !this.tileUrlFunction(\r\n              sourceTileCoord,\r\n              pixelRatio,\r\n              sourceProjection,\r\n            );\r\n        },\r\n      );\r\n    }\r\n    const newTile = new VectorRenderTile(\r\n      tileCoord,\r\n      empty ? TileState.EMPTY : TileState.IDLE,\r\n      urlTileCoord,\r\n      this.getSourceTiles.bind(this, pixelRatio, projection),\r\n      this.removeSourceTiles.bind(this),\r\n    );\r\n    newTile.key = this.getKey();\r\n    return newTile;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\r\n   * @override\r\n   */\r\n  getTileGridForProjection(projection) {\r\n    const code = projection.getCode();\r\n    let tileGrid = this.tileGrids_[code];\r\n    if (!tileGrid) {\r\n      const sourceProjection = this.projection;\r\n      if (\r\n        sourceProjection !== null &&\r\n        !equivalent(sourceProjection, projection)\r\n      ) {\r\n        return getForProjection(projection);\r\n      }\r\n\r\n      // A tile grid that matches the tile size of the source tile grid is more\r\n      // likely to have 1:1 relationships between source tiles and rendered tiles.\r\n      const sourceTileGrid = this.tileGrid;\r\n      const resolutions = sourceTileGrid.getResolutions().slice();\r\n      const origins = resolutions.map(function (resolution, z) {\r\n        return sourceTileGrid.getOrigin(z);\r\n      });\r\n      const tileSizes = resolutions.map(function (resolution, z) {\r\n        return sourceTileGrid.getTileSize(z);\r\n      });\r\n      const length = DEFAULT_MAX_ZOOM + 1;\r\n      for (let z = resolutions.length; z < length; ++z) {\r\n        resolutions.push(resolutions[z - 1] / 2);\r\n        origins.push(origins[z - 1]);\r\n        tileSizes.push(tileSizes[z - 1]);\r\n      }\r\n      tileGrid = new TileGrid({\r\n        extent: sourceTileGrid.getExtent(),\r\n        origins: origins,\r\n        resolutions: resolutions,\r\n        tileSizes: tileSizes,\r\n      });\r\n      this.tileGrids_[code] = tileGrid;\r\n    }\r\n    return tileGrid;\r\n  }\r\n\r\n  /**\r\n   * Get the tile pixel ratio for this source.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @return {number} Tile pixel ratio.\r\n   * @override\r\n   */\r\n  getTilePixelRatio(pixelRatio) {\r\n    return pixelRatio;\r\n  }\r\n\r\n  /**\r\n   * @param {number} z Z.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {import(\"../size.js\").Size} Tile size.\r\n   * @override\r\n   */\r\n  getTilePixelSize(z, pixelRatio, projection) {\r\n    const tileGrid = this.getTileGridForProjection(projection);\r\n    const tileSize = toSize(tileGrid.getTileSize(z), this.tmpSize);\r\n    return [\r\n      Math.round(tileSize[0] * pixelRatio),\r\n      Math.round(tileSize[1] * pixelRatio),\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * @param {boolean} overlaps The source has overlapping geometries.\r\n   */\r\n  setOverlaps(overlaps) {\r\n    this.overlaps_ = overlaps;\r\n    this.changed();\r\n  }\r\n}\r\n\r\nexport default VectorTile;\r\n\r\n/**\r\n * Sets the loader for a tile.\r\n * @template {import(\"../Feature.js\").FeatureLike} [FeatureType=import(\"../render/Feature.js\").default]\r\n * @param {import(\"../VectorTile.js\").default<FeatureType>} tile Vector tile.\r\n * @param {string} url URL.\r\n */\r\nexport function defaultLoadFunction(tile, url) {\r\n  tile.setLoader(\r\n    /**\r\n     * @param {import(\"../extent.js\").Extent} extent Extent.\r\n     * @param {number} resolution Resolution.\r\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n     */\r\n    function (extent, resolution, projection) {\r\n      loadFeaturesXhr(\r\n        url,\r\n        tile.getFormat(),\r\n        extent,\r\n        resolution,\r\n        projection,\r\n        tile.onLoad.bind(tile),\r\n        tile.onError.bind(tile),\r\n      );\r\n    },\r\n  );\r\n}\r\n", "/**\r\n * @module ol/source/OGCVectorTile\r\n */\r\n\r\nimport {error as logError} from '../console.js';\r\nimport VectorTileSource from './VectorTile.js';\r\nimport {getTileSetInfo} from './ogcTileUtil.js';\r\n\r\n/**\r\n * @template {import(\"../Feature.js\").FeatureLike} [FeatureType=import(\"../render/Feature.js\").default]\r\n * @typedef {Object} Options\r\n * @property {string} url URL to the OGC Vector Tileset endpoint.\r\n * @property {Object} [context] A lookup of values to use in the tile URL template.  The `{tileMatrix}`\r\n * (zoom level), `{tileRow}`, and `{tileCol}` variables in the URL will always be provided by the source.\r\n * @property {import(\"../format/Feature.js\").default<FeatureType>} [format] Feature format for tiles. Used and required by the default.\r\n * @property {string} [mediaType] The content type for the tiles (e.g. \"application/vnd.mapbox-vector-tile\").  If not provided,\r\n * the source will try to find a link with rel=\"item\" that uses a vector type supported by the configured format.\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {boolean} [overlaps=true] This source may have overlapping geometries. Setting this\r\n * to `false` (e.g. for sources with polygons that represent administrative\r\n * boundaries or TopoJSON sources) allows the renderer to optimise fill and\r\n * stroke operations.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Projection of the tile grid.\r\n * @property {typeof import(\"../VectorTile.js\").default} [tileClass] Class used to instantiate image tiles.\r\n * Default is {@link module:ol/VectorTile~VectorTile}.\r\n * @property {number} [transition] A duration for tile opacity\r\n * transitions in milliseconds. A duration of 0 disables the opacity transition.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * When set to `false`, only one world\r\n * will be rendered. When set to `true`, tiles will be wrapped horizontally to\r\n * render multiple worlds.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=1]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n * @property {Array<string>} [collections] A list of geospatial data sub-resources to include. If not provided, the entire dataset will\r\n * be included. This option is not applicable when requesting the tileset for a single collection.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for map tiles from an [OGC API - Tiles](https://ogcapi.ogc.org/tiles/) service that provides \"vector\" type tiles.\r\n * The service must conform to at least the core (http://www.opengis.net/spec/ogcapi-tiles-1/1.0/conf/core)\r\n * and tileset (http://www.opengis.net/spec/ogcapi-tiles-1/1.0/conf/tileset) conformance classes. For supporting the `collections`\r\n * option, the service must conform to the collections selection\r\n * (http://www.opengis.net/spec/ogcapi-tiles-1/1.0/conf/collections-selection) conformance class.\r\n *\r\n * Vector tile sets may come in a variety of formats (e.g. GeoJSON, MVT).  The `format` option is used to determine\r\n * which of the advertised media types is used.  If you need to force the use of a particular media type, you can\r\n * provide the `mediaType` option.\r\n * @api\r\n * @template {import(\"../Feature.js\").FeatureLike} [FeatureType=import(\"../render/Feature.js\").default]\r\n * @extends {VectorTileSource<FeatureType>}\r\n */\r\nclass OGCVectorTile extends VectorTileSource {\r\n  /**\r\n   * @param {Options<FeatureType>} options OGC vector tile options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      attributions: options.attributions,\r\n      attributionsCollapsible: options.attributionsCollapsible,\r\n      cacheSize: options.cacheSize,\r\n      format: options.format,\r\n      overlaps: options.overlaps,\r\n      projection: options.projection,\r\n      tileClass: options.tileClass,\r\n      transition: options.transition,\r\n      wrapX: options.wrapX,\r\n      zDirection: options.zDirection,\r\n      state: 'loading',\r\n    });\r\n\r\n    const sourceInfo = {\r\n      url: options.url,\r\n      projection: this.getProjection(),\r\n      mediaType: options.mediaType,\r\n      supportedMediaTypes: options.format.supportedMediaTypes,\r\n      context: options.context || null,\r\n      collections: options.collections,\r\n    };\r\n\r\n    getTileSetInfo(sourceInfo)\r\n      .then(this.handleTileSetInfo_.bind(this))\r\n      .catch(this.handleError_.bind(this));\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"./ogcTileUtil.js\").TileSetInfo} tileSetInfo Tile set info.\r\n   * @private\r\n   */\r\n  handleTileSetInfo_(tileSetInfo) {\r\n    this.tileGrid = tileSetInfo.grid;\r\n    this.projection = tileSetInfo.projection;\r\n    this.setTileUrlFunction(tileSetInfo.urlFunction, tileSetInfo.urlTemplate);\r\n    this.setState('ready');\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Error} error The error.\r\n   */\r\n  handleError_(error) {\r\n    logError(error);\r\n    this.setState('error');\r\n  }\r\n}\r\n\r\nexport default OGCVectorTile;\r\n", "/**\r\n * @module ol/source/OSM\r\n */\r\n\r\nimport XYZ from './XYZ.js';\r\n\r\n/**\r\n * The attribution containing a link to the OpenStreetMap Copyright and License\r\n * page.\r\n * @const\r\n * @type {string}\r\n * @api\r\n */\r\nexport const ATTRIBUTION =\r\n  '&#169; ' +\r\n  '<a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap</a> ' +\r\n  'contributors.';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {null|string} [crossOrigin='anonymous'] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy='origin-when-cross-origin'] The `referrerPolicy` property for loaded images.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {number} [maxZoom=19] Max zoom.\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\r\n * ```js\r\n * function(imageTile, src) {\r\n *   imageTile.getImage().src = src;\r\n * };\r\n * ```\r\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {string} [url='https://tile.openstreetmap.org/{z}/{x}/{y}.png'] URL template.\r\n * Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for the OpenStreetMap tile server.\r\n * @api\r\n */\r\nclass OSM extends XYZ {\r\n  /**\r\n   * @param {Options} [options] Open Street Map options.\r\n   */\r\n  constructor(options) {\r\n    options = options || {};\r\n\r\n    let attributions;\r\n    if (options.attributions !== undefined) {\r\n      attributions = options.attributions;\r\n    } else {\r\n      attributions = [ATTRIBUTION];\r\n    }\r\n\r\n    const url =\r\n      options.url !== undefined\r\n        ? options.url\r\n        : 'https://tile.openstreetmap.org/{z}/{x}/{y}.png';\r\n\r\n    super({\r\n      attributions: attributions,\r\n      attributionsCollapsible: false,\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin:\r\n        options.crossOrigin !== undefined ? options.crossOrigin : 'anonymous',\r\n      referrerPolicy: options.referrerPolicy || 'origin-when-cross-origin',\r\n      interpolate: options.interpolate,\r\n      maxZoom: options.maxZoom !== undefined ? options.maxZoom : 19,\r\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\r\n      tileLoadFunction: options.tileLoadFunction,\r\n      transition: options.transition,\r\n      url: url,\r\n      wrapX: options.wrapX,\r\n      zDirection: options.zDirection,\r\n    });\r\n  }\r\n}\r\n\r\nexport default OSM;\r\n", "/**\r\n * @module ol/renderer/canvas/ImageLayer\r\n */\r\nimport ImageState from '../../ImageState.js';\r\nimport ViewHint from '../../ViewHint.js';\r\nimport {\r\n  containsCoordinate,\r\n  containsExtent,\r\n  getHeight,\r\n  getIntersection,\r\n  getWidth,\r\n  intersects as intersectsExtent,\r\n  isEmpty,\r\n} from '../../extent.js';\r\nimport {fromUserExtent} from '../../proj.js';\r\nimport {\r\n  apply as applyTransform,\r\n  compose as composeTransform,\r\n} from '../../transform.js';\r\nimport CanvasLayerRenderer from './Layer.js';\r\n\r\n/**\r\n * @classdesc\r\n * Canvas renderer for image layers.\r\n * @api\r\n */\r\nclass CanvasImageLayerRenderer extends CanvasLayerRenderer {\r\n  /**\r\n   * @param {import(\"../../layer/Image.js\").default} imageLayer Image layer.\r\n   */\r\n  constructor(imageLayer) {\r\n    super(imageLayer);\r\n\r\n    /**\r\n     * @protected\r\n     * @type {?import(\"../../Image.js\").default}\r\n     */\r\n    this.image = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.renderedSourceRevision_ = 0;\r\n  }\r\n\r\n  /**\r\n   * @return {import('../../DataTile.js').ImageLike} Image.\r\n   */\r\n  getImage() {\r\n    return !this.image ? null : this.image.getImage();\r\n  }\r\n\r\n  /**\r\n   * Determine whether render should be called.\r\n   * @param {import(\"../../Map.js\").FrameState} frameState Frame state.\r\n   * @return {boolean} Layer is ready to be rendered.\r\n   * @override\r\n   */\r\n  prepareFrame(frameState) {\r\n    const layerState = frameState.layerStatesArray[frameState.layerIndex];\r\n    const pixelRatio = frameState.pixelRatio;\r\n    const viewState = frameState.viewState;\r\n    const viewResolution = viewState.resolution;\r\n\r\n    const imageSource = this.getLayer().getSource();\r\n\r\n    const hints = frameState.viewHints;\r\n\r\n    let renderedExtent = frameState.extent;\r\n    if (layerState.extent !== undefined) {\r\n      renderedExtent = getIntersection(\r\n        renderedExtent,\r\n        fromUserExtent(layerState.extent, viewState.projection),\r\n      );\r\n    }\r\n\r\n    if (\r\n      !hints[ViewHint.ANIMATING] &&\r\n      !hints[ViewHint.INTERACTING] &&\r\n      !isEmpty(renderedExtent)\r\n    ) {\r\n      if (imageSource) {\r\n        if (\r\n          !this.getLayer().rendered &&\r\n          this.renderedSourceRevision_ !== imageSource.getRevision()\r\n        ) {\r\n          this.image = null;\r\n        }\r\n        this.renderedSourceRevision_ = imageSource.getRevision();\r\n\r\n        const projection = viewState.projection;\r\n        const image = imageSource.getImage(\r\n          renderedExtent,\r\n          viewResolution,\r\n          pixelRatio,\r\n          projection,\r\n        );\r\n        if (image) {\r\n          if (this.loadImage(image)) {\r\n            this.image = image;\r\n          } else if (image.getState() === ImageState.EMPTY) {\r\n            this.image = null;\r\n          }\r\n        }\r\n      } else {\r\n        this.image = null;\r\n      }\r\n    }\r\n\r\n    return !!this.image;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\r\n   * @return {Uint8ClampedArray} Data at the pixel location.\r\n   * @override\r\n   */\r\n  getData(pixel) {\r\n    const frameState = this.frameState;\r\n    if (!frameState) {\r\n      return null;\r\n    }\r\n\r\n    const layer = this.getLayer();\r\n    const coordinate = applyTransform(\r\n      frameState.pixelToCoordinateTransform,\r\n      pixel.slice(),\r\n    );\r\n\r\n    const layerExtent = layer.getExtent();\r\n    if (layerExtent) {\r\n      if (!containsCoordinate(layerExtent, coordinate)) {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    const imageExtent = this.image.getExtent();\r\n    const img = this.image.getImage();\r\n\r\n    const imageMapWidth = getWidth(imageExtent);\r\n    const col = Math.floor(\r\n      img.width * ((coordinate[0] - imageExtent[0]) / imageMapWidth),\r\n    );\r\n    if (col < 0 || col >= img.width) {\r\n      return null;\r\n    }\r\n\r\n    const imageMapHeight = getHeight(imageExtent);\r\n    const row = Math.floor(\r\n      img.height * ((imageExtent[3] - coordinate[1]) / imageMapHeight),\r\n    );\r\n    if (row < 0 || row >= img.height) {\r\n      return null;\r\n    }\r\n\r\n    return this.getImageData(img, col, row);\r\n  }\r\n\r\n  /**\r\n   * Render the layer.\r\n   * @param {import(\"../../Map.js\").FrameState} frameState Frame state.\r\n   * @param {HTMLElement} target Target that may be used to render content to.\r\n   * @return {HTMLElement} The rendered element.\r\n   * @override\r\n   */\r\n  renderFrame(frameState, target) {\r\n    const image = this.image;\r\n    const imageExtent = image.getExtent();\r\n    const imageResolution = image.getResolution();\r\n    const [imageResolutionX, imageResolutionY] = Array.isArray(imageResolution)\r\n      ? imageResolution\r\n      : [imageResolution, imageResolution];\r\n    const imagePixelRatio = image.getPixelRatio();\r\n    const layerState = frameState.layerStatesArray[frameState.layerIndex];\r\n    const pixelRatio = frameState.pixelRatio;\r\n    const viewState = frameState.viewState;\r\n    const viewCenter = viewState.center;\r\n    const viewResolution = viewState.resolution;\r\n    const scaleX =\r\n      (pixelRatio * imageResolutionX) / (viewResolution * imagePixelRatio);\r\n    const scaleY =\r\n      (pixelRatio * imageResolutionY) / (viewResolution * imagePixelRatio);\r\n\r\n    this.prepareContainer(frameState, target);\r\n\r\n    // desired dimensions of the canvas in pixels\r\n    const width = this.context.canvas.width;\r\n    const height = this.context.canvas.height;\r\n\r\n    const context = this.getRenderContext(frameState);\r\n\r\n    // clipped rendering if layer extent is set\r\n    let clipped = false;\r\n    let render = true;\r\n    if (layerState.extent) {\r\n      const layerExtent = fromUserExtent(\r\n        layerState.extent,\r\n        viewState.projection,\r\n      );\r\n      render = intersectsExtent(layerExtent, frameState.extent);\r\n      clipped = render && !containsExtent(layerExtent, frameState.extent);\r\n      if (clipped) {\r\n        this.clipUnrotated(context, frameState, layerExtent);\r\n      }\r\n    }\r\n\r\n    const img = image.getImage();\r\n\r\n    const transform = composeTransform(\r\n      this.tempTransform,\r\n      width / 2,\r\n      height / 2,\r\n      scaleX,\r\n      scaleY,\r\n      0,\r\n      (imagePixelRatio * (imageExtent[0] - viewCenter[0])) / imageResolutionX,\r\n      (imagePixelRatio * (viewCenter[1] - imageExtent[3])) / imageResolutionY,\r\n    );\r\n\r\n    this.renderedResolution = (imageResolutionY * pixelRatio) / imagePixelRatio;\r\n\r\n    const dw = img.width * transform[0];\r\n    const dh = img.height * transform[3];\r\n\r\n    if (!this.getLayer().getSource().getInterpolate()) {\r\n      context.imageSmoothingEnabled = false;\r\n    }\r\n\r\n    this.preRender(context, frameState);\r\n    if (render && dw >= 0.5 && dh >= 0.5) {\r\n      const dx = transform[4];\r\n      const dy = transform[5];\r\n      const opacity = layerState.opacity;\r\n      if (opacity !== 1) {\r\n        context.save();\r\n        context.globalAlpha = opacity;\r\n      }\r\n      context.drawImage(img, 0, 0, +img.width, +img.height, dx, dy, dw, dh);\r\n      if (opacity !== 1) {\r\n        context.restore();\r\n      }\r\n    }\r\n    this.postRender(this.context, frameState);\r\n\r\n    if (clipped) {\r\n      context.restore();\r\n    }\r\n    context.imageSmoothingEnabled = true;\r\n    return this.container;\r\n  }\r\n}\r\n\r\nexport default CanvasImageLayerRenderer;\r\n", "/**\r\n * @module ol/layer/BaseImage\r\n */\r\nimport Layer from './Layer.js';\r\n\r\n/**\r\n * @template {import(\"../source/Image.js\").default} ImageSourceType\r\n * @typedef {Object} Options\r\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\r\n * @property {number} [opacity=1] Opacity (0, 1).\r\n * @property {boolean} [visible=true] Visibility.\r\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\r\n * rendered outside of this extent.\r\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\r\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\r\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\r\n * method was used.\r\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\r\n * visible.\r\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\r\n * be visible.\r\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\r\n * visible.\r\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\r\n * be visible.\r\n * @property {import(\"../Map.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\r\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\r\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\r\n * use {@link import(\"../Map.js\").default#addLayer map.addLayer()}.\r\n * @property {ImageSourceType} [source] Source for this layer.\r\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Server-rendered images that are available for arbitrary extents and\r\n * resolutions.\r\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\r\n * property on the layer object; for example, setting `title: 'My Title'` in the\r\n * options means that `title` is observable, and has get/set accessors.\r\n *\r\n * @template {import(\"../source/Image.js\").default} ImageSourceType\r\n * @template {import(\"../renderer/Layer.js\").default} RendererType\r\n * @extends {Layer<ImageSourceType, RendererType>}\r\n * @api\r\n */\r\nclass BaseImageLayer extends Layer {\r\n  /**\r\n   * @param {Options<ImageSourceType>} [options] Layer options.\r\n   */\r\n  constructor(options) {\r\n    options = options ? options : {};\r\n    super(options);\r\n  }\r\n}\r\n\r\nexport default BaseImageLayer;\r\n", "/**\r\n * @module ol/layer/Image\r\n */\r\nimport CanvasImageLayerRenderer from '../renderer/canvas/ImageLayer.js';\r\nimport BaseImageLayer from './BaseImage.js';\r\n\r\n/**\r\n * @classdesc\r\n * Server-rendered images that are available for arbitrary extents and\r\n * resolutions.\r\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\r\n * property on the layer object; for example, setting `title: 'My Title'` in the\r\n * options means that `title` is observable, and has get/set accessors.\r\n *\r\n * @template {import(\"../source/Image.js\").default} ImageSourceType\r\n * @extends {BaseImageLayer<ImageSourceType, CanvasImageLayerRenderer>}\r\n * @api\r\n */\r\nclass ImageLayer extends BaseImageLayer {\r\n  /**\r\n   * @param {import(\"./BaseImage.js\").Options<ImageSourceType>} [options] Layer options.\r\n   */\r\n  constructor(options) {\r\n    super(options);\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   */\r\n  createRenderer() {\r\n    return new CanvasImageLayerRenderer(this);\r\n  }\r\n\r\n  /**\r\n   * Get data for a pixel location.  A four element RGBA array will be returned.  For requests outside the\r\n   * layer extent, `null` will be returned.  Data for an image can only be retrieved if the\r\n   * source's `crossOrigin` property is set.\r\n   *\r\n   * ```js\r\n   * // display layer data on every pointer move\r\n   * map.on('pointermove', (event) => {\r\n   *   console.log(layer.getData(event.pixel));\r\n   * });\r\n   * ```\r\n   * @param {import(\"../pixel\").Pixel} pixel Pixel.\r\n   * @return {Uint8ClampedArray|Uint8Array|Float32Array|DataView|null} Pixel data.\r\n   * @api\r\n   * @override\r\n   */\r\n  getData(pixel) {\r\n    return super.getData(pixel);\r\n  }\r\n}\r\n\r\nexport default ImageLayer;\r\n", "/**\r\n * @module ol/source/Raster\r\n */\r\nimport Disposable from '../Disposable.js';\r\nimport ImageCanvas from '../ImageCanvas.js';\r\nimport TileQueue from '../TileQueue.js';\r\nimport {createCanvasContext2D} from '../dom.js';\r\nimport Event from '../events/Event.js';\r\nimport EventType from '../events/EventType.js';\r\nimport {equals, getCenter, getHeight, getWidth} from '../extent.js';\r\nimport ImageLayer from '../layer/Image.js';\r\nimport TileLayer from '../layer/Tile.js';\r\nimport {create as createTransform} from '../transform.js';\r\nimport {getUid} from '../util.js';\r\nimport ImageSource from './Image.js';\r\nimport Source from './Source.js';\r\nimport TileSource from './Tile.js';\r\n\r\n/**\r\n * @typedef {Object} MinionData\r\n * @property {Array<ArrayBuffer>} buffers Array of buffers.\r\n * @property {Object} meta Operation metadata.\r\n * @property {boolean} imageOps The operation is an image operation.\r\n * @property {number} width The width of the image.\r\n * @property {number} height The height of the image.\r\n */\r\n\r\n/* istanbul ignore next */\r\n/**\r\n * Create a function for running operations.  This function is serialized for\r\n * use in a worker.\r\n * @param {function(Array, Object):*} operation The operation.\r\n * @return {function(MinionData):ArrayBuffer} A function that takes an object with\r\n * buffers, meta, imageOps, width, and height properties and returns an array\r\n * buffer.\r\n */\r\nfunction createMinion(operation) {\r\n  return function (data) {\r\n    // bracket notation for minification support\r\n    const buffers = data['buffers'];\r\n    const meta = data['meta'];\r\n    const imageOps = data['imageOps'];\r\n    const width = data['width'];\r\n    const height = data['height'];\r\n\r\n    const numBuffers = buffers.length;\r\n    const numBytes = buffers[0].byteLength;\r\n\r\n    if (imageOps) {\r\n      const images = new Array(numBuffers);\r\n      for (let b = 0; b < numBuffers; ++b) {\r\n        images[b] = new ImageData(\r\n          new Uint8ClampedArray(buffers[b]),\r\n          width,\r\n          height,\r\n        );\r\n      }\r\n      const output = operation(images, meta).data;\r\n      return output.buffer;\r\n    }\r\n\r\n    const output = new Uint8ClampedArray(numBytes);\r\n    const arrays = new Array(numBuffers);\r\n    const pixels = new Array(numBuffers);\r\n    for (let b = 0; b < numBuffers; ++b) {\r\n      arrays[b] = new Uint8ClampedArray(buffers[b]);\r\n      pixels[b] = [0, 0, 0, 0];\r\n    }\r\n    for (let i = 0; i < numBytes; i += 4) {\r\n      for (let j = 0; j < numBuffers; ++j) {\r\n        const array = arrays[j];\r\n        pixels[j][0] = array[i];\r\n        pixels[j][1] = array[i + 1];\r\n        pixels[j][2] = array[i + 2];\r\n        pixels[j][3] = array[i + 3];\r\n      }\r\n      const pixel = operation(pixels, meta);\r\n      output[i] = pixel[0];\r\n      output[i + 1] = pixel[1];\r\n      output[i + 2] = pixel[2];\r\n      output[i + 3] = pixel[3];\r\n    }\r\n    return output.buffer;\r\n  };\r\n}\r\n\r\n/**\r\n * Create a worker for running operations.\r\n * @param {ProcessorOptions} config Processor options.\r\n * @param {function(MessageEvent): void} onMessage Called with a message event.\r\n * @return {Worker} The worker.\r\n */\r\nfunction createWorker(config, onMessage) {\r\n  const lib = Object.keys(config.lib || {}).map(function (name) {\r\n    return 'const ' + name + ' = ' + config.lib[name].toString() + ';';\r\n  });\r\n\r\n  const lines = lib.concat([\r\n    'const __minion__ = (' + createMinion.toString() + ')(',\r\n    config.operation.toString(),\r\n    ');',\r\n    'self.addEventListener(\"message\", function(event) {',\r\n    '  const buffer = __minion__(event.data);',\r\n    '  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);',\r\n    '});',\r\n  ]);\r\n\r\n  const worker = new Worker(\r\n    typeof Blob === 'undefined'\r\n      ? 'data:text/javascript;base64,' +\r\n        Buffer.from(lines.join('\\n'), 'binary').toString('base64')\r\n      : URL.createObjectURL(new Blob(lines, {type: 'text/javascript'})),\r\n  );\r\n  worker.addEventListener('message', onMessage);\r\n  return worker;\r\n}\r\n\r\n/**\r\n * @typedef {Object} FauxMessageEvent\r\n * @property {Object} data Message data.\r\n */\r\n\r\n/**\r\n * Create a faux worker for running operations.\r\n * @param {ProcessorOptions} config Configuration.\r\n * @param {function(FauxMessageEvent): void} onMessage Called with a message event.\r\n * @return {Object} The faux worker.\r\n */\r\nfunction createFauxWorker(config, onMessage) {\r\n  const minion = createMinion(config.operation);\r\n  let terminated = false;\r\n  return {\r\n    postMessage: function (data) {\r\n      setTimeout(function () {\r\n        if (terminated) {\r\n          return;\r\n        }\r\n        onMessage({data: {buffer: minion(data), meta: data['meta']}});\r\n      }, 0);\r\n    },\r\n    terminate: function () {\r\n      terminated = true;\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * @typedef {function(Error, ImageData, (Object|Array<Object>)): void} JobCallback\r\n */\r\n\r\n/**\r\n * @typedef {Object} Job\r\n * @property {Object} meta Job metadata.\r\n * @property {Array<ImageData>} inputs Array of input data.\r\n * @property {JobCallback} callback Called when the job is complete.\r\n */\r\n\r\n/**\r\n * @typedef {Object} ProcessorOptions\r\n * @property {number} threads Number of workers to spawn.\r\n * @property {Operation} operation The operation.\r\n * @property {Object<string, Function>} [lib] Functions that will be made available to operations run in a worker.\r\n * @property {number} queue The number of queued jobs to allow.\r\n * @property {boolean} [imageOps=false] Pass all the image data to the operation instead of a single pixel.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * A processor runs pixel or image operations in workers.\r\n */\r\nexport class Processor extends Disposable {\r\n  /**\r\n   * @param {ProcessorOptions} config Configuration.\r\n   */\r\n  constructor(config) {\r\n    super();\r\n\r\n    /**\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    this.imageOps_ = !!config.imageOps;\r\n    let threads;\r\n    if (config.threads === 0) {\r\n      threads = 0;\r\n    } else if (this.imageOps_) {\r\n      threads = 1;\r\n    } else {\r\n      threads = config.threads || 1;\r\n    }\r\n\r\n    /**\r\n     * @type {Array<Worker>}\r\n     */\r\n    const workers = new Array(threads);\r\n    if (threads) {\r\n      for (let i = 0; i < threads; ++i) {\r\n        workers[i] = createWorker(config, this.onWorkerMessage_.bind(this, i));\r\n      }\r\n    } else {\r\n      workers[0] = createFauxWorker(\r\n        config,\r\n        this.onWorkerMessage_.bind(this, 0),\r\n      );\r\n    }\r\n    /**\r\n     * @type {Array<Worker>}\r\n     * @private\r\n     */\r\n    this.workers_ = workers;\r\n\r\n    /**\r\n     * @type {Array<Job>}\r\n     * @private\r\n     */\r\n    this.queue_ = [];\r\n\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.maxQueueLength_ = config.queue || Infinity;\r\n    /**\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.running_ = 0;\r\n\r\n    /**\r\n     * @type {Object<number, any>}\r\n     * @private\r\n     */\r\n    this.dataLookup_ = {};\r\n\r\n    /**\r\n     * @type {Job|null}\r\n     * @private\r\n     */\r\n    this.job_ = null;\r\n  }\r\n\r\n  /**\r\n   * Run operation on input data.\r\n   * @param {Array<ImageData>} inputs Array of image data.\r\n   * @param {Object} meta A user data object.  This is passed to all operations\r\n   *     and must be serializable.\r\n   * @param {function(Error, ImageData, Object): void} callback Called when work\r\n   *     completes.  The first argument is any error.  The second is the ImageData\r\n   *     generated by operations.  The third is the user data object.\r\n   */\r\n  process(inputs, meta, callback) {\r\n    this.enqueue_({\r\n      inputs: inputs,\r\n      meta: meta,\r\n      callback: callback,\r\n    });\r\n    this.dispatch_();\r\n  }\r\n\r\n  /**\r\n   * Add a job to the queue.\r\n   * @param {Job} job The job.\r\n   */\r\n  enqueue_(job) {\r\n    this.queue_.push(job);\r\n    while (this.queue_.length > this.maxQueueLength_) {\r\n      this.queue_.shift().callback(null, null);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Dispatch a job.\r\n   */\r\n  dispatch_() {\r\n    if (this.running_ || this.queue_.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const job = this.queue_.shift();\r\n    this.job_ = job;\r\n    const width = job.inputs[0].width;\r\n    const height = job.inputs[0].height;\r\n    const buffers = job.inputs.map(function (input) {\r\n      return input.data.buffer;\r\n    });\r\n    const threads = this.workers_.length;\r\n    this.running_ = threads;\r\n    if (threads === 1) {\r\n      this.workers_[0].postMessage(\r\n        {\r\n          buffers: buffers,\r\n          meta: job.meta,\r\n          imageOps: this.imageOps_,\r\n          width: width,\r\n          height: height,\r\n        },\r\n        buffers,\r\n      );\r\n      return;\r\n    }\r\n\r\n    const length = job.inputs[0].data.length;\r\n    const segmentLength = 4 * Math.ceil(length / 4 / threads);\r\n    for (let i = 0; i < threads; ++i) {\r\n      const offset = i * segmentLength;\r\n      const slices = [];\r\n      for (let j = 0, jj = buffers.length; j < jj; ++j) {\r\n        slices.push(buffers[j].slice(offset, offset + segmentLength));\r\n      }\r\n      this.workers_[i].postMessage(\r\n        {\r\n          buffers: slices,\r\n          meta: job.meta,\r\n          imageOps: this.imageOps_,\r\n          width: width,\r\n          height: height,\r\n        },\r\n        slices,\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle messages from the worker.\r\n   * @param {number} index The worker index.\r\n   * @param {MessageEvent} event The message event.\r\n   */\r\n  onWorkerMessage_(index, event) {\r\n    if (this.disposed) {\r\n      return;\r\n    }\r\n    this.dataLookup_[index] = event.data;\r\n    --this.running_;\r\n    if (this.running_ === 0) {\r\n      this.resolveJob_();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Resolve a job.  If there are no more worker threads, the processor callback\r\n   * will be called.\r\n   */\r\n  resolveJob_() {\r\n    const job = this.job_;\r\n    const threads = this.workers_.length;\r\n    let data, meta;\r\n    if (threads === 1) {\r\n      data = new Uint8ClampedArray(this.dataLookup_[0]['buffer']);\r\n      meta = this.dataLookup_[0]['meta'];\r\n    } else {\r\n      const length = job.inputs[0].data.length;\r\n      data = new Uint8ClampedArray(length);\r\n      meta = new Array(threads);\r\n      const segmentLength = 4 * Math.ceil(length / 4 / threads);\r\n      for (let i = 0; i < threads; ++i) {\r\n        const buffer = this.dataLookup_[i]['buffer'];\r\n        const offset = i * segmentLength;\r\n        data.set(new Uint8ClampedArray(buffer), offset);\r\n        meta[i] = this.dataLookup_[i]['meta'];\r\n      }\r\n    }\r\n    this.job_ = null;\r\n    this.dataLookup_ = {};\r\n    job.callback(\r\n      null,\r\n      new ImageData(data, job.inputs[0].width, job.inputs[0].height),\r\n      meta,\r\n    );\r\n    this.dispatch_();\r\n  }\r\n\r\n  /**\r\n   * Terminate all workers associated with the processor.\r\n   * @override\r\n   */\r\n  disposeInternal() {\r\n    for (let i = 0; i < this.workers_.length; ++i) {\r\n      this.workers_[i].terminate();\r\n    }\r\n    this.workers_.length = 0;\r\n  }\r\n}\r\n\r\n/**\r\n * A function that takes an array of input data, performs some operation, and\r\n * returns an array of output data.\r\n * For `pixel` type operations, the function will be called with an array of\r\n * pixels, where each pixel is an array of four numbers (`[r, g, b, a]`) in the\r\n * range of 0 - 255. It should return a single pixel array.\r\n * For `'image'` type operations, functions will be called with an array of\r\n * [ImageData](https://developer.mozilla.org/en-US/docs/Web/API/ImageData)\r\n * and should return a single\r\n * [ImageData](https://developer.mozilla.org/en-US/docs/Web/API/ImageData).\r\n * The operations\r\n * are called with a second \"data\" argument, which can be used for storage.  The\r\n * data object is accessible from raster events, where it can be initialized in\r\n * \"beforeoperations\" and accessed again in \"afteroperations\".\r\n *\r\n * @typedef {function((Array<Array<number>>|Array<ImageData>), Object):\r\n *     (Array<number>|ImageData)} Operation\r\n */\r\n\r\n/**\r\n * @enum {string}\r\n */\r\nconst RasterEventType = {\r\n  /**\r\n   * Triggered before operations are run.  Listeners will receive an event object with\r\n   * a `data` property that can be used to make data available to operations.\r\n   * @event module:ol/source/Raster.RasterSourceEvent#beforeoperations\r\n   * @api\r\n   */\r\n  BEFOREOPERATIONS: 'beforeoperations',\r\n\r\n  /**\r\n   * Triggered after operations are run.  Listeners will receive an event object with\r\n   * a `data` property.  If more than one thread is used, `data` will be an array of\r\n   * objects.  If a single thread is used, `data` will be a single object.\r\n   * @event module:ol/source/Raster.RasterSourceEvent#afteroperations\r\n   * @api\r\n   */\r\n  AFTEROPERATIONS: 'afteroperations',\r\n};\r\n\r\n/**\r\n * @typedef {'pixel' | 'image'} RasterOperationType\r\n * Raster operation type. Supported values are `'pixel'` and `'image'`.\r\n */\r\n\r\n/**\r\n * @typedef {import(\"./Image.js\").ImageSourceEventTypes|'beforeoperations'|'afteroperations'} RasterSourceEventTypes\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Events emitted by {@link module:ol/source/Raster~RasterSource} instances are instances of this\r\n * type.\r\n */\r\nexport class RasterSourceEvent extends Event {\r\n  /**\r\n   * @param {string} type Type.\r\n   * @param {import(\"../Map.js\").FrameState} frameState The frame state.\r\n   * @param {Object|Array<Object>} data An object made available to operations.  For \"afteroperations\" evenets\r\n   * this will be an array of objects if more than one thread is used.\r\n   */\r\n  constructor(type, frameState, data) {\r\n    super(type);\r\n\r\n    /**\r\n     * The raster extent.\r\n     * @type {import(\"../extent.js\").Extent}\r\n     * @api\r\n     */\r\n    this.extent = frameState.extent;\r\n\r\n    /**\r\n     * The pixel resolution (map units per pixel).\r\n     * @type {number}\r\n     * @api\r\n     */\r\n    this.resolution = frameState.viewState.resolution / frameState.pixelRatio;\r\n\r\n    /**\r\n     * An object made available to all operations.  This can be used by operations\r\n     * as a storage object (e.g. for calculating statistics).\r\n     * @type {Object}\r\n     * @api\r\n     */\r\n    this.data = data;\r\n  }\r\n}\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {Array<import(\"./Source.js\").default|import(\"../layer/Layer.js\").default>} sources Input\r\n * sources or layers.  For vector data, use an VectorImage layer.\r\n * @property {Operation} [operation] Raster operation.\r\n * The operation will be called with data from input sources\r\n * and the output will be assigned to the raster source.\r\n * @property {Object} [lib] Functions that will be made available to operations run in a worker.\r\n * @property {number} [threads] By default, operations will be run in a single worker thread.\r\n * To avoid using workers altogether, set `threads: 0`.  For pixel operations, operations can\r\n * be run in multiple worker threads.  Note that there is additional overhead in\r\n * transferring data to multiple workers, and that depending on the user's\r\n * system, it may not be possible to parallelize the work.\r\n * @property {RasterOperationType} [operationType='pixel'] Operation type.\r\n * Supported values are `'pixel'` and `'image'`.  By default,\r\n * `'pixel'` operations are assumed, and operations will be called with an\r\n * array of pixels from input sources.  If set to `'image'`, operations will\r\n * be called with an array of ImageData objects from input sources.\r\n * @property {Array<number>|null} [resolutions] Resolutions. If specified, raster operations will only\r\n * be run at the given resolutions.  By default, the resolutions of the first source with resolutions\r\n * specified will be used, if any. Set to `null` to use any view resolution instead.\r\n */\r\n\r\n/***\r\n * @template Return\r\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\r\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\r\n *   import(\"../Observable\").OnSignature<import(\"./Image.js\").ImageSourceEventTypes, import(\"./Image.js\").ImageSourceEvent, Return> &\r\n *   import(\"../Observable\").OnSignature<RasterSourceEventTypes, RasterSourceEvent, Return> &\r\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types\r\n *     |RasterSourceEventTypes, Return>} RasterSourceOnSignature\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * A source that transforms data from any number of input sources using an\r\n * {@link module:ol/source/Raster~Operation} function to transform input pixel values into\r\n * output pixel values.\r\n *\r\n * @fires module:ol/source/Raster.RasterSourceEvent\r\n * @api\r\n */\r\nclass RasterSource extends ImageSource {\r\n  /**\r\n   * @param {Options} options Options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      projection: null,\r\n    });\r\n\r\n    /***\r\n     * @type {RasterSourceOnSignature<import(\"../events\").EventsKey>}\r\n     */\r\n    this.on;\r\n\r\n    /***\r\n     * @type {RasterSourceOnSignature<import(\"../events\").EventsKey>}\r\n     */\r\n    this.once;\r\n\r\n    /***\r\n     * @type {RasterSourceOnSignature<void>}\r\n     */\r\n    this.un;\r\n\r\n    /**\r\n     * @private\r\n     * @type {Processor}\r\n     */\r\n    this.processor_ = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {RasterOperationType}\r\n     */\r\n    this.operationType_ =\r\n      options.operationType !== undefined ? options.operationType : 'pixel';\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.threads_ = options.threads !== undefined ? options.threads : 1;\r\n\r\n    /**\r\n     * @private\r\n     * @type {Array<import(\"../layer/Layer.js\").default>}\r\n     */\r\n    this.layers_ = createLayers(options.sources);\r\n\r\n    const changed = this.changed.bind(this);\r\n    for (let i = 0, ii = this.layers_.length; i < ii; ++i) {\r\n      this.layers_[i].addEventListener(EventType.CHANGE, changed);\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.useResolutions_ = options.resolutions !== null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../TileQueue.js\").default}\r\n     */\r\n    this.tileQueue_ = new TileQueue(function () {\r\n      return 1;\r\n    }, this.processSources_.bind(this));\r\n\r\n    /**\r\n     * The most recently requested frame state.\r\n     * @type {import(\"../Map.js\").FrameState}\r\n     * @private\r\n     */\r\n    this.requestedFrameState_;\r\n\r\n    /**\r\n     * The most recently rendered image canvas.\r\n     * @type {import(\"../ImageCanvas.js\").default}\r\n     * @private\r\n     */\r\n    this.renderedImageCanvas_ = null;\r\n\r\n    /**\r\n     * The most recently rendered revision.\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this.renderedRevision_;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../Map.js\").FrameState}\r\n     */\r\n    this.frameState_ = {\r\n      animate: false,\r\n      coordinateToPixelTransform: createTransform(),\r\n      declutter: null,\r\n      extent: null,\r\n      index: 0,\r\n      layerIndex: 0,\r\n      layerStatesArray: getLayerStatesArray(this.layers_),\r\n      pixelRatio: 1,\r\n      pixelToCoordinateTransform: createTransform(),\r\n      postRenderFunctions: [],\r\n      size: [0, 0],\r\n      tileQueue: this.tileQueue_,\r\n      time: Date.now(),\r\n      usedTiles: {},\r\n      viewState: /** @type {import(\"../View.js\").State} */ ({\r\n        rotation: 0,\r\n      }),\r\n      viewHints: [],\r\n      wantedTiles: {},\r\n      mapId: getUid(this),\r\n      renderTargets: {},\r\n    };\r\n\r\n    this.setAttributions(function (frameState) {\r\n      /** @type {Array<string>} */\r\n      const attributions = [];\r\n      for (let i = 0, iMax = options.sources.length; i < iMax; ++i) {\r\n        const sourceOrLayer = options.sources[i];\r\n        const source =\r\n          sourceOrLayer instanceof Source\r\n            ? sourceOrLayer\r\n            : sourceOrLayer.getSource();\r\n        if (!source) {\r\n          continue;\r\n        }\r\n        const sourceAttributions = source.getAttributions()?.(frameState);\r\n        if (typeof sourceAttributions === 'string') {\r\n          attributions.push(sourceAttributions);\r\n        } else if (sourceAttributions !== undefined) {\r\n          attributions.push(...sourceAttributions);\r\n        }\r\n      }\r\n      return attributions;\r\n    });\r\n\r\n    if (options.operation !== undefined) {\r\n      this.setOperation(options.operation, options.lib);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the operation.\r\n   * @param {Operation} operation New operation.\r\n   * @param {Object} [lib] Functions that will be available to operations run\r\n   *     in a worker.\r\n   * @api\r\n   */\r\n  setOperation(operation, lib) {\r\n    if (this.processor_) {\r\n      this.processor_.dispose();\r\n    }\r\n\r\n    this.processor_ = new Processor({\r\n      operation: operation,\r\n      imageOps: this.operationType_ === 'image',\r\n      queue: 1,\r\n      lib: lib,\r\n      threads: this.threads_,\r\n    });\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * Update the stored frame state.\r\n   * @param {import(\"../extent.js\").Extent} extent The view extent (in map units).\r\n   * @param {number} resolution The view resolution.\r\n   * @param {import(\"../proj/Projection.js\").default} projection The view projection.\r\n   * @return {import(\"../Map.js\").FrameState} The updated frame state.\r\n   * @private\r\n   */\r\n  updateFrameState_(extent, resolution, projection) {\r\n    const frameState = /** @type {import(\"../Map.js\").FrameState} */ (\r\n      Object.assign({}, this.frameState_)\r\n    );\r\n\r\n    frameState.viewState = /** @type {import(\"../View.js\").State} */ (\r\n      Object.assign({}, frameState.viewState)\r\n    );\r\n\r\n    const center = getCenter(extent);\r\n\r\n    frameState.size[0] = Math.ceil(getWidth(extent) / resolution);\r\n    frameState.size[1] = Math.ceil(getHeight(extent) / resolution);\r\n    frameState.extent = [\r\n      center[0] - (frameState.size[0] * resolution) / 2,\r\n      center[1] - (frameState.size[1] * resolution) / 2,\r\n      center[0] + (frameState.size[0] * resolution) / 2,\r\n      center[1] + (frameState.size[1] * resolution) / 2,\r\n    ];\r\n    frameState.time = Date.now();\r\n\r\n    const viewState = frameState.viewState;\r\n    viewState.center = center;\r\n    viewState.projection = projection;\r\n    viewState.resolution = resolution;\r\n    return frameState;\r\n  }\r\n\r\n  /**\r\n   * Determine if all sources are ready.\r\n   * @return {boolean} All sources are ready.\r\n   * @private\r\n   */\r\n  allSourcesReady_() {\r\n    let ready = true;\r\n    let source;\r\n    for (let i = 0, ii = this.layers_.length; i < ii; ++i) {\r\n      source = this.layers_[i].getSource();\r\n      if (!source || source.getState() !== 'ready') {\r\n        ready = false;\r\n        break;\r\n      }\r\n    }\r\n    return ready;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../extent.js\").Extent} extent Extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {import(\"../ImageCanvas.js\").default} Single image.\r\n   * @override\r\n   */\r\n  getImage(extent, resolution, pixelRatio, projection) {\r\n    if (!this.allSourcesReady_()) {\r\n      return null;\r\n    }\r\n\r\n    this.tileQueue_.loadMoreTiles(16, 16);\r\n\r\n    resolution = this.findNearestResolution(resolution);\r\n    const frameState = this.updateFrameState_(extent, resolution, projection);\r\n    this.requestedFrameState_ = frameState;\r\n\r\n    // check if we can't reuse the existing ol/ImageCanvas\r\n    if (this.renderedImageCanvas_) {\r\n      const renderedResolution = this.renderedImageCanvas_.getResolution();\r\n      const renderedExtent = this.renderedImageCanvas_.getExtent();\r\n      if (\r\n        resolution !== renderedResolution ||\r\n        !equals(frameState.extent, renderedExtent)\r\n      ) {\r\n        this.renderedImageCanvas_ = null;\r\n      }\r\n    }\r\n\r\n    if (\r\n      !this.renderedImageCanvas_ ||\r\n      this.getRevision() !== this.renderedRevision_\r\n    ) {\r\n      this.processSources_();\r\n    }\r\n\r\n    if (frameState.animate) {\r\n      requestAnimationFrame(this.changed.bind(this));\r\n    }\r\n\r\n    return this.renderedImageCanvas_;\r\n  }\r\n\r\n  /**\r\n   * Start processing source data.\r\n   * @private\r\n   */\r\n  processSources_() {\r\n    const frameState = this.requestedFrameState_;\r\n    const len = this.layers_.length;\r\n    const imageDatas = new Array(len);\r\n    for (let i = 0; i < len; ++i) {\r\n      frameState.layerIndex = i;\r\n      frameState.renderTargets = {};\r\n      const imageData = getImageData(this.layers_[i], frameState);\r\n      if (imageData) {\r\n        imageDatas[i] = imageData;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n\r\n    const data = {};\r\n    this.dispatchEvent(\r\n      new RasterSourceEvent(RasterEventType.BEFOREOPERATIONS, frameState, data),\r\n    );\r\n    this.processor_.process(\r\n      imageDatas,\r\n      data,\r\n      this.onWorkerComplete_.bind(this, frameState),\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Called when pixel processing is complete.\r\n   * @param {import(\"../Map.js\").FrameState} frameState The frame state.\r\n   * @param {Error} err Any error during processing.\r\n   * @param {ImageData} output The output image data.\r\n   * @param {Object|Array<Object>} data The user data (or an array if more than one thread).\r\n   * @private\r\n   */\r\n  onWorkerComplete_(frameState, err, output, data) {\r\n    if (err || !output) {\r\n      return;\r\n    }\r\n\r\n    // do nothing if extent or resolution changed\r\n    const extent = frameState.extent;\r\n    const resolution = frameState.viewState.resolution;\r\n    if (\r\n      resolution !== this.requestedFrameState_.viewState.resolution ||\r\n      !equals(extent, this.requestedFrameState_.extent)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    let context;\r\n    if (this.renderedImageCanvas_) {\r\n      context =\r\n        /** @type {CanvasRenderingContext2D|OffscreenCanvasRenderingContext2D} */ (\r\n          this.renderedImageCanvas_.getImage().getContext('2d')\r\n        );\r\n    } else {\r\n      const width = Math.round(getWidth(extent) / resolution);\r\n      const height = Math.round(getHeight(extent) / resolution);\r\n      context = createCanvasContext2D(width, height);\r\n      this.renderedImageCanvas_ = new ImageCanvas(\r\n        extent,\r\n        resolution,\r\n        1,\r\n        context.canvas,\r\n      );\r\n    }\r\n    context.putImageData(output, 0, 0);\r\n\r\n    if (frameState.animate) {\r\n      requestAnimationFrame(this.changed.bind(this));\r\n    } else {\r\n      this.changed();\r\n    }\r\n    this.renderedRevision_ = this.getRevision();\r\n\r\n    this.dispatchEvent(\r\n      new RasterSourceEvent(RasterEventType.AFTEROPERATIONS, frameState, data),\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../proj/Projection\").default} [projection] Projection.\r\n   * @return {Array<number>|null} Resolutions.\r\n   * @override\r\n   */\r\n  getResolutions(projection) {\r\n    if (!this.useResolutions_) {\r\n      return null;\r\n    }\r\n    let resolutions = super.getResolutions();\r\n    if (!resolutions) {\r\n      for (let i = 0, ii = this.layers_.length; i < ii; ++i) {\r\n        const source = this.layers_[i].getSource();\r\n        resolutions = source.getResolutions(projection);\r\n        if (resolutions) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return resolutions;\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   */\r\n  disposeInternal() {\r\n    if (this.processor_) {\r\n      this.processor_.dispose();\r\n    }\r\n    super.disposeInternal();\r\n  }\r\n}\r\n\r\n/**\r\n * Clean up and unregister the worker.\r\n * @function\r\n * @api\r\n */\r\nRasterSource.prototype.dispose;\r\n\r\n/**\r\n * A reusable canvas context.\r\n * @type {CanvasRenderingContext2D|OffscreenCanvasRenderingContext2D}\r\n * @private\r\n */\r\nlet sharedContext = null;\r\n\r\n/**\r\n * Get image data from a layer.\r\n * @param {import(\"../layer/Layer.js\").default} layer Layer to render.\r\n * @param {import(\"../Map.js\").FrameState} frameState The frame state.\r\n * @return {ImageData} The image data.\r\n */\r\nfunction getImageData(layer, frameState) {\r\n  const renderer = layer.getRenderer();\r\n  if (!renderer) {\r\n    throw new Error('Unsupported layer type: ' + layer);\r\n  }\r\n\r\n  if (!renderer.prepareFrame(frameState)) {\r\n    return null;\r\n  }\r\n  const width = frameState.size[0];\r\n  const height = frameState.size[1];\r\n  if (width === 0 || height === 0) {\r\n    return null;\r\n  }\r\n  const container = renderer.renderFrame(frameState, null);\r\n  let element;\r\n  if (container instanceof HTMLCanvasElement) {\r\n    element = container;\r\n  } else {\r\n    if (container) {\r\n      element = container.firstElementChild;\r\n    }\r\n    if (!(element instanceof HTMLCanvasElement)) {\r\n      throw new Error('Unsupported rendered element: ' + element);\r\n    }\r\n    if (element.width === width && element.height === height) {\r\n      const context = element.getContext('2d');\r\n      return context.getImageData(0, 0, width, height);\r\n    }\r\n  }\r\n\r\n  if (!sharedContext) {\r\n    sharedContext = createCanvasContext2D(width, height, undefined, {\r\n      willReadFrequently: true,\r\n    });\r\n  } else {\r\n    const canvas = sharedContext.canvas;\r\n    if (canvas.width !== width || canvas.height !== height) {\r\n      sharedContext = createCanvasContext2D(width, height, undefined, {\r\n        willReadFrequently: true,\r\n      });\r\n    } else {\r\n      sharedContext.clearRect(0, 0, width, height);\r\n    }\r\n  }\r\n  sharedContext.drawImage(element, 0, 0, width, height);\r\n  return sharedContext.getImageData(0, 0, width, height);\r\n}\r\n\r\n/**\r\n * Get a list of layer states from a list of layers.\r\n * @param {Array<import(\"../layer/Layer.js\").default>} layers Layers.\r\n * @return {Array<import(\"../layer/Layer.js\").State>} The layer states.\r\n */\r\nfunction getLayerStatesArray(layers) {\r\n  return layers.map(function (layer) {\r\n    return layer.getLayerState();\r\n  });\r\n}\r\n\r\n/**\r\n * Create layers for all sources.\r\n * @param {Array<import(\"./Source.js\").default|import(\"../layer/Layer.js\").default>} sources The sources.\r\n * @return {Array<import(\"../layer/Layer.js\").default>} Array of layers.\r\n */\r\nfunction createLayers(sources) {\r\n  const len = sources.length;\r\n  const layers = new Array(len);\r\n  for (let i = 0; i < len; ++i) {\r\n    layers[i] = createLayer(sources[i]);\r\n  }\r\n  return layers;\r\n}\r\n\r\n/**\r\n * Create a layer for the provided source.\r\n * @param {import(\"./Source.js\").default|import(\"../layer/Layer.js\").default} layerOrSource The layer or source.\r\n * @return {import(\"../layer/Layer.js\").default} The layer.\r\n */\r\nfunction createLayer(layerOrSource) {\r\n  // @type {import(\"../layer/Layer.js\").default}\r\n  let layer;\r\n  if (layerOrSource instanceof Source) {\r\n    if (layerOrSource instanceof TileSource) {\r\n      layer = new TileLayer({source: layerOrSource});\r\n    } else if (layerOrSource instanceof ImageSource) {\r\n      layer = new ImageLayer({source: layerOrSource});\r\n    }\r\n  } else {\r\n    layer = layerOrSource;\r\n  }\r\n  return layer;\r\n}\r\n\r\nexport default RasterSource;\r\n", "/**\r\n * @module ol/source/StadiaMaps\r\n */\r\n\r\nimport {ATTRIBUTION as OSM_ATTRIBUTION} from './OSM.js';\r\nimport XYZ from './XYZ.js';\r\n\r\n/**\r\n * @type {string}\r\n */\r\nconst STADIA_ATTRIBUTION =\r\n  '&copy; <a href=\"https://www.stadiamaps.com/\" target=\"_blank\">Stadia Maps</a>';\r\n\r\n/**\r\n * @type {string}\r\n */\r\nconst OMT_ATTRIBUTION =\r\n  '&copy; <a href=\"https://openmaptiles.org/\" target=\"_blank\">OpenMapTiles</a>';\r\n\r\n/**\r\n * @type {string}\r\n */\r\nconst STAMEN_ATTRIBUTION =\r\n  '&copy; <a href=\"https://stamen.com/\" target=\"_blank\">Stamen Design</a>';\r\n\r\n/**\r\n * @type {Object<string, {extension: string}>}\r\n */\r\nconst LayerConfig = {\r\n  'stamen_terrain': {\r\n    extension: 'png',\r\n  },\r\n  'stamen_terrain_background': {\r\n    extension: 'png',\r\n  },\r\n  'stamen_terrain_labels': {\r\n    extension: 'png',\r\n  },\r\n  'stamen_terrain_lines': {\r\n    extension: 'png',\r\n  },\r\n  'stamen_toner_background': {\r\n    extension: 'png',\r\n  },\r\n  'stamen_toner': {\r\n    extension: 'png',\r\n  },\r\n  'stamen_toner_labels': {\r\n    extension: 'png',\r\n  },\r\n  'stamen_toner_lines': {\r\n    extension: 'png',\r\n  },\r\n  'stamen_toner_lite': {\r\n    extension: 'png',\r\n  },\r\n  'stamen_toner_dark': {\r\n    extension: 'png',\r\n  },\r\n  'stamen_toner_blacklite': {\r\n    extension: 'png',\r\n  },\r\n  'stamen_watercolor': {\r\n    extension: 'jpg',\r\n  },\r\n  'alidade_smooth': {\r\n    extension: 'png',\r\n  },\r\n  'alidade_smooth_dark': {\r\n    extension: 'png',\r\n  },\r\n  'alidade_satellite': {\r\n    extension: 'png',\r\n  },\r\n  'outdoors': {\r\n    extension: 'png',\r\n  },\r\n  'osm_bright': {\r\n    extension: 'png',\r\n  },\r\n};\r\n\r\n/**\r\n * @type {Object<string, {minZoom: number, maxZoom: number, retina: boolean}>}\r\n */\r\nconst ProviderConfig = {\r\n  'stamen_terrain': {\r\n    minZoom: 0,\r\n    maxZoom: 18,\r\n    retina: true,\r\n  },\r\n  'stamen_toner': {\r\n    minZoom: 0,\r\n    maxZoom: 20,\r\n    retina: true,\r\n  },\r\n  'stamen_toner_dark': {\r\n    minZoom: 0,\r\n    maxZoom: 20,\r\n    retina: true,\r\n  },\r\n  'stamen_toner_blacklite': {\r\n    minZoom: 0,\r\n    maxZoom: 20,\r\n    retina: true,\r\n  },\r\n  'stamen_watercolor': {\r\n    minZoom: 1,\r\n    maxZoom: 18,\r\n    retina: false,\r\n  },\r\n};\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {string} layer Layer name. Valid values: `alidade_smooth`, `alidade_smooth_dark`, `outdoors`, `stamen_terrain`, `stamen_terrain_background`, `stamen_terrain_labels`, `stamen_terrain_lines`, `stamen_toner_background`, `stamen_toner`, `stamen_toner_labels`, `stamen_toner_lines`, `stamen_toner_lite`, `stamen_watercolor`, and `osm_bright`.\r\n * @property {number} [minZoom] Minimum zoom.\r\n * @property {number} [maxZoom] Maximum zoom.\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction]\r\n * Optional function to load a tile given a URL. The default is\r\n * ```js\r\n * function(imageTile, src) {\r\n *   imageTile.getImage().src = src;\r\n * };\r\n * ```\r\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n * @property {string} [apiKey] Stadia Maps API key. Not required for localhost or most public web deployments. See https://docs.stadiamaps.com/authentication/ for details.\r\n * @property {boolean} [retina] Use retina tiles (if available; not available for Stamen Watercolor).\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for the Stadia Maps tile server.\r\n * @api\r\n */\r\nclass StadiaMaps extends XYZ {\r\n  /**\r\n   * @param {Options} options StadiaMaps options.\r\n   */\r\n  constructor(options) {\r\n    const i = options.layer.indexOf('-');\r\n    const provider = i == -1 ? options.layer : options.layer.slice(0, i);\r\n    const providerConfig = ProviderConfig[provider] || {\r\n      'minZoom': 0,\r\n      'maxZoom': 20,\r\n      'retina': true,\r\n    };\r\n\r\n    const layerConfig = LayerConfig[options.layer];\r\n    const query = options.apiKey ? '?api_key=' + options.apiKey : '';\r\n    const retina = providerConfig.retina && options.retina ? '@2x' : '';\r\n\r\n    const url =\r\n      options.url !== undefined\r\n        ? options.url\r\n        : 'https://tiles.stadiamaps.com/tiles/' +\r\n          options.layer +\r\n          '/{z}/{x}/{y}' +\r\n          retina +\r\n          '.' +\r\n          layerConfig.extension +\r\n          query;\r\n\r\n    const attributions = [STADIA_ATTRIBUTION, OMT_ATTRIBUTION, OSM_ATTRIBUTION];\r\n\r\n    if (options.layer.startsWith('stamen_')) {\r\n      attributions.splice(1, 0, STAMEN_ATTRIBUTION);\r\n    }\r\n\r\n    super({\r\n      attributions: attributions,\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin: 'anonymous',\r\n      interpolate: options.interpolate,\r\n      maxZoom:\r\n        options.maxZoom !== undefined\r\n          ? options.maxZoom\r\n          : providerConfig.maxZoom,\r\n      minZoom:\r\n        options.minZoom !== undefined\r\n          ? options.minZoom\r\n          : providerConfig.minZoom,\r\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\r\n      tileLoadFunction: options.tileLoadFunction,\r\n      transition: options.transition,\r\n      url: url,\r\n      tilePixelRatio: retina ? 2 : 1,\r\n      wrapX: options.wrapX,\r\n      zDirection: options.zDirection,\r\n    });\r\n  }\r\n}\r\n\r\nexport default StadiaMaps;\r\n", "/**\r\n * @module ol/source/TileArcGISRest\r\n */\r\n\r\nimport {createEmpty} from '../extent.js';\r\nimport {modulo} from '../math.js';\r\nimport {scale as scaleSize, toSize} from '../size.js';\r\nimport {hash as tileCoordHash} from '../tilecoord.js';\r\nimport TileImage from './TileImage.js';\r\nimport {getRequestUrl} from './arcgisRest.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {Object<string,*>} [params] ArcGIS Rest parameters. This field is optional. Service defaults will be\r\n * used for any fields not specified. `FORMAT` is `PNG32` by default. `F` is `IMAGE` by\r\n * default. `TRANSPARENT` is `true` by default.  `BBOX`, `SIZE`, `BBOXSR`,\r\n * and `IMAGESR` will be set dynamically. Set `LAYERS` to\r\n * override the default service layer visibility. See\r\n * https://developers.arcgis.com/rest/services-reference/export-map.htm\r\n * for further reference.\r\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting\r\n * the image from the remote server.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid. Base this on the resolutions,\r\n * tilesize and extent supported by the server.\r\n * If this is not defined, a default grid will be used: if there is a projection\r\n * extent, the grid will be based on that; if not, a grid based on a global\r\n * extent with origin at 0,0 will be used.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\r\n * The projection code must contain a numeric end portion separated by :\r\n * or the entire code must form a valid ArcGIS SpatialReference definition.\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL.\r\n * The default is\r\n * ```js\r\n * function(imageTile, src) {\r\n *   imageTile.getImage().src = src;\r\n * };\r\n * ```\r\n * @property {string} [url] ArcGIS Rest service URL for a Map Service or Image Service. The\r\n * url should include /MapServer or /ImageServer.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * @property {number} [transition] Duration of the opacity transition for rendering.  To disable the opacity\r\n * transition, pass `transition: 0`.\r\n * @property {Array<string>} [urls] ArcGIS Rest service urls. Use this instead of `url` when the ArcGIS\r\n * Service supports multiple urls for export requests.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for tile data from ArcGIS Rest services. Map and Image\r\n * Services are supported.\r\n *\r\n * For cached ArcGIS services, better performance is available using the\r\n * {@link module:ol/source/XYZ~XYZ} data source.\r\n * @api\r\n */\r\nclass TileArcGISRest extends TileImage {\r\n  /**\r\n   * @param {Options} [options] Tile ArcGIS Rest options.\r\n   */\r\n  constructor(options) {\r\n    options = options ? options : {};\r\n\r\n    super({\r\n      attributions: options.attributions,\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin: options.crossOrigin,\r\n      referrerPolicy: options.referrerPolicy,\r\n      interpolate: options.interpolate,\r\n      projection: options.projection,\r\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\r\n      tileGrid: options.tileGrid,\r\n      tileLoadFunction: options.tileLoadFunction,\r\n      url: options.url,\r\n      urls: options.urls,\r\n      wrapX: options.wrapX !== undefined ? options.wrapX : true,\r\n      transition: options.transition,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Object}\r\n     */\r\n    this.params_ = Object.assign({}, options.params);\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../extent.js\").Extent}\r\n     */\r\n    this.tmpExtent_ = createEmpty();\r\n\r\n    this.setKey(this.getKeyForParams_());\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @return {string} The key for the current params.\r\n   */\r\n  getKeyForParams_() {\r\n    let i = 0;\r\n    const res = [];\r\n    for (const key in this.params_) {\r\n      res[i++] = key + '-' + this.params_[key];\r\n    }\r\n    return res.join('/');\r\n  }\r\n\r\n  /**\r\n   * Get the user-provided params, i.e. those passed to the constructor through\r\n   * the \"params\" option, and possibly updated using the updateParams method.\r\n   * @return {Object} Params.\r\n   * @api\r\n   */\r\n  getParams() {\r\n    return this.params_;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @param {import(\"../size.js\").Size} tileSize Tile size.\r\n   * @param {import(\"../extent.js\").Extent} tileExtent Tile extent.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @param {Object} params Params.\r\n   * @return {string|undefined} Request URL.\r\n   * @private\r\n   */\r\n  getRequestUrl_(\r\n    tileCoord,\r\n    tileSize,\r\n    tileExtent,\r\n    pixelRatio,\r\n    projection,\r\n    params,\r\n  ) {\r\n    const urls = this.urls;\r\n    if (!urls) {\r\n      return undefined;\r\n    }\r\n    let url;\r\n    if (urls.length == 1) {\r\n      url = urls[0];\r\n    } else {\r\n      const index = modulo(tileCoordHash(tileCoord), urls.length);\r\n      url = urls[index];\r\n    }\r\n\r\n    return getRequestUrl(\r\n      url,\r\n      tileExtent,\r\n      (\r\n        this.tileGrid || this.getTileGridForProjection(projection)\r\n      ).getResolution(tileCoord[0]),\r\n      pixelRatio,\r\n      projection,\r\n      params,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get the tile pixel ratio for this source.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @return {number} Tile pixel ratio.\r\n   * @override\r\n   */\r\n  getTilePixelRatio(pixelRatio) {\r\n    return this.hidpi_ ? pixelRatio : 1;\r\n  }\r\n\r\n  /**\r\n   * Set the user-provided params.\r\n   * @param {Object} params Params.\r\n   * @api\r\n   */\r\n  setParams(params) {\r\n    this.params_ = Object.assign({}, params);\r\n    this.setKey(this.getKeyForParams_());\r\n  }\r\n\r\n  /**\r\n   * Update the user-provided params.\r\n   * @param {Object} params Params.\r\n   * @api\r\n   */\r\n  updateParams(params) {\r\n    Object.assign(this.params_, params);\r\n    this.setKey(this.getKeyForParams_());\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord The tile coordinate\r\n   * @param {number} pixelRatio The pixel ratio\r\n   * @param {import(\"../proj/Projection.js\").default} projection The projection\r\n   * @return {string|undefined} The tile URL\r\n   * @override\r\n   */\r\n  tileUrlFunction(tileCoord, pixelRatio, projection) {\r\n    let tileGrid = this.getTileGrid();\r\n    if (!tileGrid) {\r\n      tileGrid = this.getTileGridForProjection(projection);\r\n    }\r\n\r\n    if (tileGrid.getResolutions().length <= tileCoord[0]) {\r\n      return undefined;\r\n    }\r\n\r\n    if (pixelRatio != 1 && !this.hidpi_) {\r\n      pixelRatio = 1;\r\n    }\r\n\r\n    const tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent_);\r\n    let tileSize = toSize(tileGrid.getTileSize(tileCoord[0]), this.tmpSize);\r\n\r\n    if (pixelRatio != 1) {\r\n      tileSize = scaleSize(tileSize, pixelRatio, this.tmpSize);\r\n    }\r\n\r\n    // Apply default params and override with user specified values.\r\n    const baseParams = {\r\n      'F': 'image',\r\n      'FORMAT': 'PNG32',\r\n      'TRANSPARENT': true,\r\n    };\r\n    Object.assign(baseParams, this.params_);\r\n\r\n    return this.getRequestUrl_(\r\n      tileCoord,\r\n      tileSize,\r\n      tileExtent,\r\n      pixelRatio,\r\n      projection,\r\n      baseParams,\r\n    );\r\n  }\r\n}\r\n\r\nexport default TileArcGISRest;\r\n", "/**\r\n * @module ol/source/TileDebug\r\n */\r\n\r\nimport {createCanvasContext2D} from '../dom.js';\r\nimport EventType from '../events/EventType.js';\r\nimport {get as getProjection} from '../proj.js';\r\nimport {toSize} from '../size.js';\r\nimport {renderXYZTemplate} from '../uri.js';\r\nimport DataTile from './DataTile.js';\r\nimport ImageTile from './ImageTile.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Optional projection.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Set to `1` when debugging `VectorTile` sources with a default configuration.\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n * @property {import(\"./Tile.js\").default} [source] Tile source.\r\n * This allows `projection`, `tileGrid`, `wrapX` and `zDirection` to be copied from another source.\r\n * If both `source` and individual options are specified the individual options will have precedence.\r\n * @property {string} [template='z:{z} x:{x} y:{y}'] Template for labeling the tiles.\r\n * Should include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\r\n * @property {string} [color='grey'] CSS color to fill text and stroke grid lines of each tile.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * A pseudo tile source, which does not fetch tiles from a server, but renders\r\n * a grid outline for the tile grid/projection along with the coordinates for\r\n * each tile. See examples/canvas-tiles for an example.\r\n * @api\r\n */\r\nclass TileDebug extends ImageTile {\r\n  /**\r\n   * @param {Options} [options] Debug tile options.\r\n   */\r\n  constructor(options) {\r\n    /**\r\n     * @type {Options}\r\n     */\r\n    options = options || {};\r\n    const template = options.template || 'z:{z} x:{x} y:{y}';\r\n    const source = options.source;\r\n    const color = options.color || 'grey';\r\n\r\n    super({\r\n      transition: 0,\r\n      wrapX:\r\n        options.wrapX !== undefined\r\n          ? options.wrapX\r\n          : source !== undefined\r\n            ? source.getWrapX()\r\n            : undefined,\r\n    });\r\n\r\n    const setReady = () => {\r\n      this.projection =\r\n        options.projection !== undefined\r\n          ? getProjection(options.projection)\r\n          : source !== undefined\r\n            ? source.getProjection()\r\n            : this.projection;\r\n      this.tileGrid =\r\n        options.tileGrid !== undefined\r\n          ? options.tileGrid\r\n          : source !== undefined\r\n            ? source.getTileGrid()\r\n            : this.tileGrid;\r\n      this.zDirection =\r\n        options.zDirection !== undefined\r\n          ? options.zDirection\r\n          : source !== undefined\r\n            ? source.zDirection\r\n            : this.zDirection;\r\n\r\n      if (source instanceof DataTile) {\r\n        this.transformMatrix = source.transformMatrix?.slice() || null;\r\n      }\r\n\r\n      const tileGrid = this.tileGrid;\r\n      if (tileGrid) {\r\n        this.setTileSizes(\r\n          tileGrid\r\n            .getResolutions()\r\n            .map((r, i) =>\r\n              toSize(tileGrid.getTileSize(i)).map((s) =>\r\n                Math.max(Math.floor(s), 1),\r\n              ),\r\n            ),\r\n        );\r\n      }\r\n\r\n      this.setLoader((z, x, y, loaderOptions) => {\r\n        const text = renderXYZTemplate(template, z, x, y, loaderOptions.maxY);\r\n        const [width, height] = this.getTileSize(z);\r\n        const context = createCanvasContext2D(width, height);\r\n\r\n        context.strokeStyle = color;\r\n        context.strokeRect(0.5, 0.5, width + 0.5, height + 0.5);\r\n\r\n        context.fillStyle = color;\r\n        context.strokeStyle = 'white';\r\n        context.textAlign = 'center';\r\n        context.textBaseline = 'middle';\r\n        context.font = '24px sans-serif';\r\n        context.lineWidth = 4;\r\n        context.strokeText(text, width / 2, height / 2, width);\r\n        context.fillText(text, width / 2, height / 2, width);\r\n        // make the loader aysnc, so it behaves like other sources that fetch data from a remote server\r\n        return Promise.resolve(context.canvas);\r\n      });\r\n      this.setState('ready');\r\n    };\r\n\r\n    if (source === undefined || source.getState() === 'ready') {\r\n      setReady();\r\n    } else {\r\n      const handler = () => {\r\n        if (source.getState() === 'ready') {\r\n          source.removeEventListener(EventType.CHANGE, handler);\r\n          setReady();\r\n        }\r\n      };\r\n      source.addEventListener(EventType.CHANGE, handler);\r\n    }\r\n  }\r\n}\r\n\r\nexport default TileDebug;\r\n", "/**\r\n * @module ol/source/TileJSON\r\n */\r\n// FIXME check order of async callbacks\r\n\r\n/**\r\n * See https://mapbox.com/developers/api/.\r\n */\r\n\r\nimport {applyTransform, intersects} from '../extent.js';\r\nimport {jsonp as requestJSONP} from '../net.js';\r\nimport {get as getProjection, getTransformFromProjections} from '../proj.js';\r\nimport {createXYZ, extentFromProjection} from '../tilegrid.js';\r\nimport {createFromTemplates} from '../tileurlfunction.js';\r\nimport TileImage from './TileImage.js';\r\n\r\n/**\r\n * @typedef {Object} Config\r\n * @property {string} [name] The name.\r\n * @property {string} [description] The description.\r\n * @property {string} [version] The version.\r\n * @property {string} [attribution] The attribution.\r\n * @property {string} [template] The template.\r\n * @property {string} [legend] The legend.\r\n * @property {string} [scheme] The scheme.\r\n * @property {Array<string>} tiles The tile URL templates.\r\n * @property {Array<string>} [grids] Optional grids.\r\n * @property {number} [minzoom] Minimum zoom level.\r\n * @property {number} [maxzoom] Maximum zoom level.\r\n * @property {Array<number>} [bounds] Optional bounds.\r\n * @property {Array<number>} [center] Optional center.\r\n */\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {boolean} [jsonp=false] Use JSONP with callback to load the TileJSON.\r\n * Useful when the server does not support CORS..\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {Config} [tileJSON] TileJSON configuration for this source.\r\n * If not provided, `url` must be configured.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\r\n * ```js\r\n * function(imageTile, src) {\r\n *   imageTile.getImage().src = src;\r\n * };\r\n * ```\r\n * @property {number|import(\"../size.js\").Size} [tileSize=[256, 256]] The tile size used by the tile service.\r\n * Note: `tileSize` and other non-standard TileJSON properties are currently ignored.\r\n * @property {string} [url] URL to the TileJSON file. If not provided, `tileJSON` must be configured.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * @property {number} [transition] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for tile data in TileJSON format.\r\n * @api\r\n */\r\nclass TileJSON extends TileImage {\r\n  /**\r\n   * @param {Options} options TileJSON options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      attributions: options.attributions,\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin: options.crossOrigin,\r\n      interpolate: options.interpolate,\r\n      projection: getProjection('EPSG:3857'),\r\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\r\n      state: 'loading',\r\n      tileLoadFunction: options.tileLoadFunction,\r\n      wrapX: options.wrapX !== undefined ? options.wrapX : true,\r\n      transition: options.transition,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @type {Config}\r\n     * @private\r\n     */\r\n    this.tileJSON_ = null;\r\n\r\n    /**\r\n     * @type {number|import(\"../size.js\").Size}\r\n     * @private\r\n     */\r\n    this.tileSize_ = options.tileSize;\r\n\r\n    if (options.url) {\r\n      if (options.jsonp) {\r\n        requestJSONP(\r\n          options.url,\r\n          this.handleTileJSONResponse.bind(this),\r\n          this.handleTileJSONError.bind(this),\r\n        );\r\n      } else {\r\n        const client = new XMLHttpRequest();\r\n        client.addEventListener('load', this.onXHRLoad_.bind(this));\r\n        client.addEventListener('error', this.onXHRError_.bind(this));\r\n        client.open('GET', options.url);\r\n        client.send();\r\n      }\r\n    } else if (options.tileJSON) {\r\n      this.handleTileJSONResponse(options.tileJSON);\r\n    } else {\r\n      throw new Error('Either `url` or `tileJSON` options must be provided');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Event} event The load event.\r\n   */\r\n  onXHRLoad_(event) {\r\n    const client = /** @type {XMLHttpRequest} */ (event.target);\r\n    // status will be 0 for file:// urls\r\n    if (!client.status || (client.status >= 200 && client.status < 300)) {\r\n      let response;\r\n      try {\r\n        response = /** @type {Config} */ (JSON.parse(client.responseText));\r\n      } catch {\r\n        this.handleTileJSONError();\r\n        return;\r\n      }\r\n      this.handleTileJSONResponse(response);\r\n    } else {\r\n      this.handleTileJSONError();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Event} event The error event.\r\n   */\r\n  onXHRError_(event) {\r\n    this.handleTileJSONError();\r\n  }\r\n\r\n  /**\r\n   * @return {Config} The tilejson object.\r\n   * @api\r\n   */\r\n  getTileJSON() {\r\n    return this.tileJSON_;\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   * @param {Config} tileJSON Tile JSON.\r\n   */\r\n  handleTileJSONResponse(tileJSON) {\r\n    const epsg4326Projection = getProjection('EPSG:4326');\r\n\r\n    const sourceProjection = this.getProjection();\r\n    let extent;\r\n    if (tileJSON['bounds'] !== undefined) {\r\n      const transform = getTransformFromProjections(\r\n        epsg4326Projection,\r\n        sourceProjection,\r\n      );\r\n      extent = applyTransform(tileJSON['bounds'], transform);\r\n    }\r\n\r\n    const gridExtent = extentFromProjection(sourceProjection);\r\n    const minZoom = tileJSON['minzoom'] || 0;\r\n    const maxZoom = tileJSON['maxzoom'] || 22;\r\n    const tileGrid = createXYZ({\r\n      extent: gridExtent,\r\n      maxZoom: maxZoom,\r\n      minZoom: minZoom,\r\n      tileSize: this.tileSize_,\r\n    });\r\n    this.tileGrid = tileGrid;\r\n\r\n    this.tileUrlFunction = createFromTemplates(tileJSON['tiles'], tileGrid);\r\n\r\n    if (tileJSON['attribution'] && !this.getAttributions()) {\r\n      const attributionExtent = extent !== undefined ? extent : gridExtent;\r\n      this.setAttributions(function (frameState) {\r\n        if (intersects(attributionExtent, frameState.extent)) {\r\n          return [tileJSON['attribution']];\r\n        }\r\n        return null;\r\n      });\r\n    }\r\n    this.tileJSON_ = tileJSON;\r\n    this.setState('ready');\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   */\r\n  handleTileJSONError() {\r\n    this.setState('error');\r\n  }\r\n}\r\n\r\nexport default TileJSON;\r\n", "/**\r\n * @module ol/source/TileWMS\r\n */\r\n\r\nimport {buffer, createEmpty} from '../extent.js';\r\nimport {modulo} from '../math.js';\r\nimport {get as getProjection, transform} from '../proj.js';\r\nimport {calculateSourceResolution} from '../reproj.js';\r\nimport {compareVersions} from '../string.js';\r\nimport {hash as tileCoordHash} from '../tilecoord.js';\r\nimport {appendParams} from '../uri.js';\r\nimport TileImage from './TileImage.js';\r\nimport {DEFAULT_VERSION, getImageSrc, getRequestParams} from './wms.js';\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {Object<string,*>} params WMS request parameters.\r\n * At least a `LAYERS` param is required. `STYLES` is\r\n * `''` by default. `VERSION` is `1.3.0` by default. `WIDTH`, `HEIGHT`, `BBOX`\r\n * and `CRS` (`SRS` for WMS version < 1.3.0) will be set dynamically.\r\n * @property {number} [gutter=0]\r\n * The size in pixels of the gutter around image tiles to ignore. By setting\r\n * this property to a non-zero value, images will be requested that are wider\r\n * and taller than the tile size by a value of `2 x gutter`.\r\n * Using a non-zero value allows artifacts of rendering at tile edges to be\r\n * ignored. If you control the WMS service it is recommended to address\r\n * \"artifacts at tile edges\" issues by properly configuring the WMS service. For\r\n * example, MapServer has a `tile_map_edge_buffer` configuration parameter for\r\n * this. See https://mapserver.org/output/tile_mode.html.\r\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting\r\n * the image from the remote server.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {typeof import(\"../ImageTile.js\").default} [tileClass] Class used to instantiate image tiles.\r\n * Default is {@link module:ol/ImageTile~ImageTile}.\r\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid. Base this on the resolutions,\r\n * tilesize and extent supported by the server.\r\n * If this is not defined, a default grid will be used: if there is a projection\r\n * extent, the grid will be based on that; if not, a grid based on a global\r\n * extent with origin at 0,0 will be used.\r\n * @property {import(\"./wms.js\").ServerType} [serverType] The type of\r\n * the remote WMS server: `mapserver`, `geoserver`, `carmentaserver`, or `qgis`.\r\n * Only needed if `hidpi` is `true`.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\r\n * ```js\r\n * function(imageTile, src) {\r\n *   imageTile.getImage().src = src;\r\n * };\r\n * ```\r\n * @property {string} [url] WMS service URL.\r\n * @property {Array<string>} [urls] WMS service urls.\r\n * Use this instead of `url` when the WMS supports multiple urls for GetMap requests.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * When set to `false`, only one world\r\n * will be rendered. When `true`, tiles will be requested for one world only,\r\n * but they will be wrapped horizontally to render multiple worlds.\r\n * @property {number} [transition] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for tile data from WMS servers.\r\n * @api\r\n */\r\nclass TileWMS extends TileImage {\r\n  /**\r\n   * @param {Options} [options] Tile WMS options.\r\n   */\r\n  constructor(options) {\r\n    options = options ? options : /** @type {Options} */ ({});\r\n\r\n    const params = Object.assign({}, options.params);\r\n\r\n    super({\r\n      attributions: options.attributions,\r\n      attributionsCollapsible: options.attributionsCollapsible,\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin: options.crossOrigin,\r\n      interpolate: options.interpolate,\r\n      projection: options.projection,\r\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\r\n      tileClass: options.tileClass,\r\n      tileGrid: options.tileGrid,\r\n      tileLoadFunction: options.tileLoadFunction,\r\n      url: options.url,\r\n      urls: options.urls,\r\n      wrapX: options.wrapX !== undefined ? options.wrapX : true,\r\n      transition: options.transition,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.gutter_ = options.gutter !== undefined ? options.gutter : 0;\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Object}\r\n     */\r\n    this.params_ = params;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.v13_ = true;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"./wms.js\").ServerType}\r\n     */\r\n    this.serverType_ = options.serverType;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.hidpi_ = options.hidpi !== undefined ? options.hidpi : true;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../extent.js\").Extent}\r\n     */\r\n    this.tmpExtent_ = createEmpty();\r\n\r\n    this.updateV13_();\r\n    this.setKey(this.getKeyForParams_());\r\n  }\r\n\r\n  /**\r\n   * Return the GetFeatureInfo URL for the passed coordinate, resolution, and\r\n   * projection. Return `undefined` if the GetFeatureInfo URL cannot be\r\n   * constructed.\r\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\r\n   * @param {number} resolution Resolution.\r\n   * @param {import(\"../proj.js\").ProjectionLike} projection Projection.\r\n   * @param {!Object} params GetFeatureInfo params. `INFO_FORMAT` at least should\r\n   *     be provided. If `QUERY_LAYERS` is not provided then the layers specified\r\n   *     in the `LAYERS` parameter will be used. `VERSION` should not be\r\n   *     specified here.\r\n   * @return {string|undefined} GetFeatureInfo URL.\r\n   * @api\r\n   */\r\n  getFeatureInfoUrl(coordinate, resolution, projection, params) {\r\n    const projectionObj = getProjection(projection);\r\n    const sourceProjectionObj = this.getProjection() || projectionObj;\r\n\r\n    let tileGrid = this.getTileGrid();\r\n    if (!tileGrid) {\r\n      tileGrid = this.getTileGridForProjection(sourceProjectionObj);\r\n    }\r\n\r\n    const sourceProjCoord = transform(\r\n      coordinate,\r\n      projectionObj,\r\n      sourceProjectionObj,\r\n    );\r\n    const sourceResolution = calculateSourceResolution(\r\n      sourceProjectionObj,\r\n      projectionObj,\r\n      coordinate,\r\n      resolution,\r\n    );\r\n\r\n    const z = tileGrid.getZForResolution(sourceResolution, this.zDirection);\r\n    const tileResolution = tileGrid.getResolution(z);\r\n    const tileCoord = tileGrid.getTileCoordForCoordAndZ(sourceProjCoord, z);\r\n\r\n    if (tileGrid.getResolutions().length <= tileCoord[0]) {\r\n      return undefined;\r\n    }\r\n\r\n    let tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent_);\r\n\r\n    const gutter = this.gutter_;\r\n    if (gutter !== 0) {\r\n      tileExtent = buffer(tileExtent, tileResolution * gutter, tileExtent);\r\n    }\r\n\r\n    const baseParams = {\r\n      'QUERY_LAYERS': this.params_['LAYERS'],\r\n    };\r\n    Object.assign(\r\n      baseParams,\r\n      getRequestParams(this.params_, 'GetFeatureInfo'),\r\n      params,\r\n    );\r\n\r\n    const x = Math.floor((sourceProjCoord[0] - tileExtent[0]) / tileResolution);\r\n    const y = Math.floor((tileExtent[3] - sourceProjCoord[1]) / tileResolution);\r\n\r\n    baseParams[this.v13_ ? 'I' : 'X'] = x;\r\n    baseParams[this.v13_ ? 'J' : 'Y'] = y;\r\n\r\n    return this.getRequestUrl_(\r\n      tileCoord,\r\n      tileExtent,\r\n      1,\r\n      sourceProjectionObj || projectionObj,\r\n      baseParams,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Return the GetLegendGraphic URL, optionally optimized for the passed\r\n   * resolution and possibly including any passed specific parameters. Returns\r\n   * `undefined` if the GetLegendGraphic URL cannot be constructed.\r\n   *\r\n   * @param {number} [resolution] Resolution. If set to undefined, `SCALE`\r\n   *     will not be calculated and included in URL.\r\n   * @param {Object} [params] GetLegendGraphic params. If `LAYER` is set, the\r\n   *     request is generated for this wms layer, else it will try to use the\r\n   *     configured wms layer. Default `FORMAT` is `image/png`.\r\n   *     `VERSION` should not be specified here.\r\n   * @return {string|undefined} GetLegendGraphic URL.\r\n   * @api\r\n   */\r\n  getLegendUrl(resolution, params) {\r\n    if (this.urls[0] === undefined) {\r\n      return undefined;\r\n    }\r\n\r\n    const baseParams = {\r\n      'SERVICE': 'WMS',\r\n      'VERSION': DEFAULT_VERSION,\r\n      'REQUEST': 'GetLegendGraphic',\r\n      'FORMAT': 'image/png',\r\n    };\r\n\r\n    if (params === undefined || params['LAYER'] === undefined) {\r\n      const layers = this.params_.LAYERS;\r\n      const isSingleLayer = !Array.isArray(layers) || layers.length === 1;\r\n      if (!isSingleLayer) {\r\n        return undefined;\r\n      }\r\n      baseParams['LAYER'] = layers;\r\n    }\r\n\r\n    if (resolution !== undefined) {\r\n      const mpu = this.getProjection()\r\n        ? this.getProjection().getMetersPerUnit()\r\n        : 1;\r\n      const pixelSize = 0.00028;\r\n      baseParams['SCALE'] = (resolution * mpu) / pixelSize;\r\n    }\r\n\r\n    Object.assign(baseParams, params);\r\n\r\n    return appendParams(/** @type {string} */ (this.urls[0]), baseParams);\r\n  }\r\n\r\n  /**\r\n   * @return {number} Gutter.\r\n   * @override\r\n   */\r\n  getGutter() {\r\n    return this.gutter_;\r\n  }\r\n\r\n  /**\r\n   * Get the user-provided params, i.e. those passed to the constructor through\r\n   * the \"params\" option, and possibly updated using the updateParams method.\r\n   * @return {Object} Params.\r\n   * @api\r\n   */\r\n  getParams() {\r\n    return this.params_;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @param {import(\"../extent.js\").Extent} tileExtent Tile extent.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @param {Object} params Params.\r\n   * @return {string|undefined} Request URL.\r\n   * @private\r\n   */\r\n  getRequestUrl_(tileCoord, tileExtent, pixelRatio, projection, params) {\r\n    const urls = this.urls;\r\n    if (!urls) {\r\n      return undefined;\r\n    }\r\n    let url;\r\n    if (urls.length == 1) {\r\n      url = urls[0];\r\n    } else {\r\n      const index = modulo(tileCoordHash(tileCoord), urls.length);\r\n      url = urls[index];\r\n    }\r\n\r\n    return getImageSrc(\r\n      tileExtent,\r\n      (\r\n        this.tileGrid || this.getTileGridForProjection(projection)\r\n      ).getResolution(tileCoord[0]),\r\n      pixelRatio,\r\n      projection,\r\n      url,\r\n      params,\r\n      this.serverType_,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get the tile pixel ratio for this source.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @return {number} Tile pixel ratio.\r\n   * @override\r\n   */\r\n  getTilePixelRatio(pixelRatio) {\r\n    return !this.hidpi_ || this.serverType_ === undefined ? 1 : pixelRatio;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @return {string} The key for the current params.\r\n   */\r\n  getKeyForParams_() {\r\n    let i = 0;\r\n    const res = [];\r\n    for (const key in this.params_) {\r\n      res[i++] = key + '-' + this.params_[key];\r\n    }\r\n    return res.join('/');\r\n  }\r\n\r\n  /**\r\n   * @param {Object} params New URL paremeters.\r\n   * @private\r\n   */\r\n  setParams_(params) {\r\n    this.params_ = params;\r\n    this.updateV13_();\r\n    this.setKey(this.getKeyForParams_());\r\n  }\r\n\r\n  /**\r\n   * Set the URL parameters passed to the WMS source.\r\n   * @param {Object} params New URL paremeters.\r\n   * @api\r\n   */\r\n  setParams(params) {\r\n    this.setParams_(Object.assign({}, params));\r\n  }\r\n\r\n  /**\r\n   * Update the URL parameters. This method can be used to update a subset of the WMS\r\n   * parameters. Call `setParams` to set all of the parameters.\r\n   * @param {Object} params Updated URL parameters.\r\n   * @api\r\n   */\r\n  updateParams(params) {\r\n    this.setParams_(Object.assign(this.params_, params));\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  updateV13_() {\r\n    const version = this.params_['VERSION'] || DEFAULT_VERSION;\r\n    this.v13_ = compareVersions(version, '1.3') >= 0;\r\n  }\r\n\r\n  /**\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord The tile coordinate\r\n   * @param {number} pixelRatio The pixel ratio\r\n   * @param {import(\"../proj/Projection.js\").default} projection The projection\r\n   * @return {string|undefined} The tile URL\r\n   * @override\r\n   */\r\n  tileUrlFunction(tileCoord, pixelRatio, projection) {\r\n    let tileGrid = this.getTileGrid();\r\n    if (!tileGrid) {\r\n      tileGrid = this.getTileGridForProjection(projection);\r\n    }\r\n\r\n    if (tileGrid.getResolutions().length <= tileCoord[0]) {\r\n      return undefined;\r\n    }\r\n\r\n    if (pixelRatio != 1 && (!this.hidpi_ || this.serverType_ === undefined)) {\r\n      pixelRatio = 1;\r\n    }\r\n\r\n    const tileResolution = tileGrid.getResolution(tileCoord[0]);\r\n    let tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent_);\r\n\r\n    const gutter = this.gutter_;\r\n    if (gutter !== 0) {\r\n      tileExtent = buffer(tileExtent, tileResolution * gutter, tileExtent);\r\n    }\r\n\r\n    const baseParams = Object.assign(\r\n      {},\r\n      getRequestParams(this.params_, 'GetMap'),\r\n    );\r\n\r\n    return this.getRequestUrl_(\r\n      tileCoord,\r\n      tileExtent,\r\n      pixelRatio,\r\n      projection,\r\n      baseParams,\r\n    );\r\n  }\r\n}\r\n\r\nexport default TileWMS;\r\n", "/**\r\n * @module ol/source/UTFGrid\r\n */\r\n\r\nimport Tile from '../Tile.js';\r\nimport TileState from '../TileState.js';\r\nimport EventType from '../events/EventType.js';\r\nimport {listenOnce} from '../events.js';\r\nimport {applyTransform, intersects} from '../extent.js';\r\nimport {jsonp as requestJSONP} from '../net.js';\r\nimport {get as getProjection, getTransformFromProjections} from '../proj.js';\r\nimport LRUCache from '../structs/LRUCache.js';\r\nimport {getKeyZXY} from '../tilecoord.js';\r\nimport {createXYZ, extentFromProjection} from '../tilegrid.js';\r\nimport {createFromTemplates, nullTileUrlFunction} from '../tileurlfunction.js';\r\nimport TileSource from './Tile.js';\r\n\r\n/**\r\n * @typedef {Object} UTFGridJSON\r\n * @property {Array<string>} grid The grid.\r\n * @property {Array<string>} keys The keys.\r\n * @property {Object<string, Object>} [data] Optional data.\r\n */\r\n\r\nexport class CustomTile extends Tile {\r\n  /**\r\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n   * @param {import(\"../TileState.js\").default} state State.\r\n   * @param {string} src Image source URI.\r\n   * @param {import(\"../extent.js\").Extent} extent Extent of the tile.\r\n   * @param {boolean} preemptive Load the tile when visible (before it's needed).\r\n   * @param {boolean} jsonp Load the tile as a script.\r\n   */\r\n  constructor(tileCoord, state, src, extent, preemptive, jsonp) {\r\n    super(tileCoord, state);\r\n\r\n    /**\r\n     * @private\r\n     * @type {string}\r\n     */\r\n    this.src_ = src;\r\n\r\n    /**\r\n     * @private\r\n     * @type {import(\"../extent.js\").Extent}\r\n     */\r\n    this.extent_ = extent;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.preemptive_ = preemptive;\r\n\r\n    /**\r\n     * @private\r\n     * @type {Array<string>}\r\n     */\r\n    this.grid_ = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {Array<string>}\r\n     */\r\n    this.keys_ = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {Object<string, Object>|undefined}\r\n     */\r\n    this.data_ = null;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.jsonp_ = jsonp;\r\n  }\r\n\r\n  /**\r\n   * Get the image element for this tile.\r\n   * @return {HTMLImageElement} Image.\r\n   */\r\n  getImage() {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Synchronously returns data at given coordinate (if available).\r\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\r\n   * @return {*} The data.\r\n   */\r\n  getData(coordinate) {\r\n    if (!this.grid_ || !this.keys_) {\r\n      return null;\r\n    }\r\n    const xRelative =\r\n      (coordinate[0] - this.extent_[0]) / (this.extent_[2] - this.extent_[0]);\r\n    const yRelative =\r\n      (coordinate[1] - this.extent_[1]) / (this.extent_[3] - this.extent_[1]);\r\n\r\n    const row = this.grid_[Math.floor((1 - yRelative) * this.grid_.length)];\r\n\r\n    if (typeof row !== 'string') {\r\n      return null;\r\n    }\r\n\r\n    let code = row.charCodeAt(Math.floor(xRelative * row.length));\r\n    if (code >= 93) {\r\n      code--;\r\n    }\r\n    if (code >= 35) {\r\n      code--;\r\n    }\r\n    code -= 32;\r\n\r\n    let data = null;\r\n    if (code in this.keys_) {\r\n      const id = this.keys_[code];\r\n      if (this.data_ && id in this.data_) {\r\n        data = this.data_[id];\r\n      } else {\r\n        data = id;\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Calls the callback (synchronously by default) with the available data\r\n   * for given coordinate (or `null` if not yet loaded).\r\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\r\n   * @param {function(*): void} callback Callback.\r\n   * @param {boolean} [request] If `true` the callback is always async.\r\n   *                               The tile data is requested if not yet loaded.\r\n   */\r\n  forDataAtCoordinate(coordinate, callback, request) {\r\n    if (this.state == TileState.EMPTY && request === true) {\r\n      this.state = TileState.IDLE;\r\n      listenOnce(this, EventType.CHANGE, (e) => {\r\n        callback(this.getData(coordinate));\r\n      });\r\n      this.loadInternal_();\r\n    } else {\r\n      if (request === true) {\r\n        setTimeout(() => {\r\n          callback(this.getData(coordinate));\r\n        }, 0);\r\n      } else {\r\n        callback(this.getData(coordinate));\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the key to be used for all tiles in the source.\r\n   * @return {string} The key for all tiles.\r\n   * @override\r\n   */\r\n  getKey() {\r\n    return this.src_;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  handleError_() {\r\n    this.state = TileState.ERROR;\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * @param {!UTFGridJSON} json UTFGrid data.\r\n   * @private\r\n   */\r\n  handleLoad_(json) {\r\n    this.grid_ = json['grid'];\r\n    this.keys_ = json['keys'];\r\n    this.data_ = json['data'];\r\n\r\n    this.state = TileState.LOADED;\r\n    this.changed();\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  loadInternal_() {\r\n    if (this.state == TileState.IDLE) {\r\n      this.state = TileState.LOADING;\r\n      if (this.jsonp_) {\r\n        requestJSONP(\r\n          this.src_,\r\n          this.handleLoad_.bind(this),\r\n          this.handleError_.bind(this),\r\n        );\r\n      } else {\r\n        const client = new XMLHttpRequest();\r\n        client.addEventListener('load', this.onXHRLoad_.bind(this));\r\n        client.addEventListener('error', this.onXHRError_.bind(this));\r\n        client.open('GET', this.src_);\r\n        client.send();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Event} event The load event.\r\n   */\r\n  onXHRLoad_(event) {\r\n    const client = /** @type {XMLHttpRequest} */ (event.target);\r\n    // status will be 0 for file:// urls\r\n    if (!client.status || (client.status >= 200 && client.status < 300)) {\r\n      let response;\r\n      try {\r\n        response = /** @type {!UTFGridJSON} */ (\r\n          JSON.parse(client.responseText)\r\n        );\r\n      } catch {\r\n        this.handleError_();\r\n        return;\r\n      }\r\n      this.handleLoad_(response);\r\n    } else {\r\n      this.handleError_();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Event} event The error event.\r\n   */\r\n  onXHRError_(event) {\r\n    this.handleError_();\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   */\r\n  load() {\r\n    if (this.preemptive_) {\r\n      this.loadInternal_();\r\n    } else {\r\n      this.setState(TileState.EMPTY);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {boolean} [preemptive=true]\r\n * If `true` the UTFGrid source loads the tiles based on their \"visibility\".\r\n * This improves the speed of response, but increases traffic.\r\n * Note that if set to `false` (lazy loading), you need to pass `true` as\r\n * `request` to the `forDataAtCoordinateAndResolution` method otherwise no\r\n * data will ever be loaded.\r\n * @property {boolean} [jsonp=false] Use JSONP with callback to load the TileJSON.\r\n * Useful when the server does not support CORS..\r\n * @property {import(\"./TileJSON.js\").Config} [tileJSON] TileJSON configuration for this source.\r\n * If not provided, `url` must be configured.\r\n * @property {string} [url] TileJSON endpoint that provides the configuration for this source.\r\n * Request will be made through JSONP. If not provided, `tileJSON` must be configured.\r\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for UTFGrid interaction data loaded from TileJSON format.\r\n * @api\r\n */\r\nclass UTFGrid extends TileSource {\r\n  /**\r\n   * @param {Options} options Source options.\r\n   */\r\n  constructor(options) {\r\n    super({\r\n      projection: getProjection('EPSG:3857'),\r\n      state: 'loading',\r\n      wrapX: options.wrapX !== undefined ? options.wrapX : true,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.preemptive_ =\r\n      options.preemptive !== undefined ? options.preemptive : true;\r\n\r\n    /**\r\n     * @private\r\n     * @type {!import(\"../Tile.js\").UrlFunction}\r\n     */\r\n    this.tileUrlFunction_ = nullTileUrlFunction;\r\n\r\n    /**\r\n     * @private\r\n     * @type {string|undefined}\r\n     */\r\n    this.template_ = undefined;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.jsonp_ = options.jsonp || false;\r\n\r\n    /**\r\n     * @private\r\n     * @type {LRUCache}\r\n     */\r\n    this.tileCache_ = new LRUCache(512);\r\n\r\n    if (options.url) {\r\n      if (this.jsonp_) {\r\n        requestJSONP(\r\n          options.url,\r\n          this.handleTileJSONResponse.bind(this),\r\n          this.handleTileJSONError.bind(this),\r\n        );\r\n      } else {\r\n        const client = new XMLHttpRequest();\r\n        client.addEventListener('load', this.onXHRLoad_.bind(this));\r\n        client.addEventListener('error', this.onXHRError_.bind(this));\r\n        client.open('GET', options.url);\r\n        client.send();\r\n      }\r\n    } else if (options.tileJSON) {\r\n      this.handleTileJSONResponse(options.tileJSON);\r\n    } else {\r\n      throw new Error('Either `url` or `tileJSON` options must be provided');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Event} event The load event.\r\n   */\r\n  onXHRLoad_(event) {\r\n    const client = /** @type {XMLHttpRequest} */ (event.target);\r\n    // status will be 0 for file:// urls\r\n    if (!client.status || (client.status >= 200 && client.status < 300)) {\r\n      let response;\r\n      try {\r\n        response = /** @type {import(\"./TileJSON.js\").Config} */ (\r\n          JSON.parse(client.responseText)\r\n        );\r\n      } catch {\r\n        this.handleTileJSONError();\r\n        return;\r\n      }\r\n      this.handleTileJSONResponse(response);\r\n    } else {\r\n      this.handleTileJSONError();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {Event} event The error event.\r\n   */\r\n  onXHRError_(event) {\r\n    this.handleTileJSONError();\r\n  }\r\n\r\n  /**\r\n   * Return the template from TileJSON.\r\n   * @return {string|undefined} The template from TileJSON.\r\n   * @api\r\n   */\r\n  getTemplate() {\r\n    return this.template_;\r\n  }\r\n\r\n  /**\r\n   * Calls the callback (synchronously by default) with the available data\r\n   * for given coordinate and resolution (or `null` if not yet loaded or\r\n   * in case of an error).\r\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\r\n   * @param {number} resolution Resolution.\r\n   * @param {function(*): void} callback Callback.\r\n   * @param {boolean} [request] If `true` the callback is always async.\r\n   *                               The tile data is requested if not yet loaded.\r\n   * @api\r\n   */\r\n  forDataAtCoordinateAndResolution(coordinate, resolution, callback, request) {\r\n    if (this.tileGrid) {\r\n      const z = this.tileGrid.getZForResolution(resolution, this.zDirection);\r\n      const tileCoord = this.tileGrid.getTileCoordForCoordAndZ(coordinate, z);\r\n      const tile = /** @type {!CustomTile} */ (\r\n        this.getTile(\r\n          tileCoord[0],\r\n          tileCoord[1],\r\n          tileCoord[2],\r\n          1,\r\n          this.getProjection(),\r\n        )\r\n      );\r\n      if (tile.getState() == TileState.IDLE) {\r\n        tile.load();\r\n      }\r\n      tile.forDataAtCoordinate(coordinate, callback, request);\r\n    } else {\r\n      if (request === true) {\r\n        setTimeout(function () {\r\n          callback(null);\r\n        }, 0);\r\n      } else {\r\n        callback(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   */\r\n  handleTileJSONError() {\r\n    this.setState('error');\r\n  }\r\n\r\n  /**\r\n   * TODO: very similar to ol/source/TileJSON#handleTileJSONResponse\r\n   * @protected\r\n   * @param {import(\"./TileJSON.js\").Config} tileJSON Tile JSON.\r\n   */\r\n  handleTileJSONResponse(tileJSON) {\r\n    const epsg4326Projection = getProjection('EPSG:4326');\r\n\r\n    const sourceProjection = this.getProjection();\r\n    let extent;\r\n    if (tileJSON['bounds'] !== undefined) {\r\n      const transform = getTransformFromProjections(\r\n        epsg4326Projection,\r\n        sourceProjection,\r\n      );\r\n      extent = applyTransform(tileJSON['bounds'], transform);\r\n    }\r\n\r\n    const gridExtent = extentFromProjection(sourceProjection);\r\n    const minZoom = tileJSON['minzoom'] || 0;\r\n    const maxZoom = tileJSON['maxzoom'] || 22;\r\n    const tileGrid = createXYZ({\r\n      extent: gridExtent,\r\n      maxZoom: maxZoom,\r\n      minZoom: minZoom,\r\n    });\r\n    this.tileGrid = tileGrid;\r\n\r\n    this.template_ = tileJSON['template'];\r\n\r\n    const grids = tileJSON['grids'];\r\n    if (!grids) {\r\n      this.setState('error');\r\n      return;\r\n    }\r\n\r\n    this.tileUrlFunction_ = createFromTemplates(grids, tileGrid);\r\n\r\n    if (tileJSON['attribution']) {\r\n      const attributionExtent = extent !== undefined ? extent : gridExtent;\r\n      this.setAttributions(function (frameState) {\r\n        if (intersects(attributionExtent, frameState.extent)) {\r\n          return [tileJSON['attribution']];\r\n        }\r\n        return null;\r\n      });\r\n    }\r\n\r\n    this.setState('ready');\r\n  }\r\n\r\n  /**\r\n   * @param {number} z Tile coordinate z.\r\n   * @param {number} x Tile coordinate x.\r\n   * @param {number} y Tile coordinate y.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n   * @return {!CustomTile} Tile.\r\n   * @override\r\n   */\r\n  getTile(z, x, y, pixelRatio, projection) {\r\n    const tileCoord = [z, x, y];\r\n    const urlTileCoord = this.getTileCoordForTileUrlFunction(\r\n      tileCoord,\r\n      projection,\r\n    );\r\n    const tileUrl = this.tileUrlFunction_(urlTileCoord, pixelRatio, projection);\r\n    const tileKey = `${this.getKey()},${getKeyZXY(z, x, y)}`;\r\n    if (this.tileCache_.containsKey(tileKey)) {\r\n      return this.tileCache_.get(tileKey);\r\n    }\r\n    this.tileCache_.expireCache();\r\n    const tile = new CustomTile(\r\n      tileCoord,\r\n      tileUrl !== undefined ? TileState.IDLE : TileState.EMPTY,\r\n      tileUrl !== undefined ? tileUrl : '',\r\n      this.tileGrid.getTileCoordExtent(tileCoord),\r\n      this.preemptive_,\r\n      this.jsonp_,\r\n    );\r\n    this.tileCache_.set(tileKey, tile);\r\n    return tile;\r\n  }\r\n}\r\n\r\nexport default UTFGrid;\r\n", "/**\r\n * @module ol/source/WMTS\r\n */\r\n\r\nimport {containsExtent} from '../extent.js';\r\nimport {equivalent, get as getProjection, transformExtent} from '../proj.js';\r\nimport {createFromCapabilitiesMatrixSet} from '../tilegrid/WMTS.js';\r\nimport {createFromTileUrlFunctions} from '../tileurlfunction.js';\r\nimport {appendParams, expandUrl} from '../uri.js';\r\nimport TileImage from './TileImage.js';\r\n\r\n/**\r\n * Request encoding. One of 'KVP', 'REST'.\r\n * @typedef {'KVP' | 'REST'} RequestEncoding\r\n */\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\r\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\r\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\r\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\r\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\r\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\r\n * @property {ReferrerPolicy} [referrerPolicy] The `referrerPolicy` property for loaded images.\r\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\r\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\r\n * @property {import(\"../tilegrid/WMTS.js\").default} tileGrid Tile grid.\r\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\r\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\r\n * Higher values can increase reprojection performance, but decrease precision.\r\n * @property {RequestEncoding} [requestEncoding='KVP'] Request encoding.\r\n * @property {string} layer Layer name as advertised in the WMTS capabilities.\r\n * @property {string} style Style name as advertised in the WMTS capabilities.\r\n * @property {typeof import(\"../ImageTile.js\").default} [tileClass]  Class used to instantiate image tiles. Default is {@link module:ol/ImageTile~ImageTile}.\r\n * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service.\r\n * For example, if the tile service advertizes 256px by 256px tiles but actually sends 512px\r\n * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\r\n * should be set to `2`.\r\n * @property {string} [format='image/jpeg'] Image format. Only used when `requestEncoding` is `'KVP'`.\r\n * @property {string} [version='1.0.0'] WMTS version.\r\n * @property {string} matrixSet Matrix set.\r\n * @property {!Object} [dimensions] Additional \"dimensions\" for tile requests.\r\n * This is an object with properties named like the advertised WMTS dimensions.\r\n * @property {string} [url]  A URL for the service.\r\n * For the RESTful request encoding, this is a URL\r\n * template.  For KVP encoding, it is normal URL. A `{?-?}` template pattern,\r\n * for example `subdomain{a-f}.domain.com`, may be used instead of defining\r\n * each one separately in the `urls` option.\r\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\r\n * ```js\r\n * function(imageTile, src) {\r\n *   imageTile.getImage().src = src;\r\n * };\r\n * ```\r\n * @property {Array<string>} [urls] An array of URLs.\r\n * Requests will be distributed among the URLs in this array.\r\n * @property {boolean} [wrapX=false] Whether to wrap the world horizontally.\r\n * @property {number} [transition] Duration of the opacity transition for rendering.\r\n * To disable the opacity transition, pass `transition: 0`.\r\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\r\n * Choose whether to use tiles with a higher or lower zoom level when between integer\r\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Layer source for tile data from WMTS servers.\r\n * @api\r\n */\r\nclass WMTS extends TileImage {\r\n  /**\r\n   * @param {Options} options WMTS options.\r\n   */\r\n  constructor(options) {\r\n    // TODO: add support for TileMatrixLimits\r\n\r\n    const requestEncoding =\r\n      options.requestEncoding !== undefined ? options.requestEncoding : 'KVP';\r\n\r\n    // FIXME: should we create a default tileGrid?\r\n    // we could issue a getCapabilities xhr to retrieve missing configuration\r\n    const tileGrid = options.tileGrid;\r\n\r\n    let urls = options.urls;\r\n    if (urls === undefined && options.url !== undefined) {\r\n      urls = expandUrl(options.url);\r\n    }\r\n\r\n    super({\r\n      attributions: options.attributions,\r\n      attributionsCollapsible: options.attributionsCollapsible,\r\n      cacheSize: options.cacheSize,\r\n      crossOrigin: options.crossOrigin,\r\n      referrerPolicy: options.referrerPolicy,\r\n      interpolate: options.interpolate,\r\n      projection: options.projection,\r\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\r\n      tileClass: options.tileClass,\r\n      tileGrid: tileGrid,\r\n      tileLoadFunction: options.tileLoadFunction,\r\n      tilePixelRatio: options.tilePixelRatio,\r\n      urls: urls,\r\n      wrapX: options.wrapX !== undefined ? options.wrapX : false,\r\n      transition: options.transition,\r\n      zDirection: options.zDirection,\r\n    });\r\n\r\n    /**\r\n     * @private\r\n     * @type {string}\r\n     */\r\n    this.version_ = options.version !== undefined ? options.version : '1.0.0';\r\n\r\n    /**\r\n     * @private\r\n     * @type {string}\r\n     */\r\n    this.format_ = options.format !== undefined ? options.format : 'image/jpeg';\r\n\r\n    /**\r\n     * @private\r\n     * @type {!Object}\r\n     */\r\n    this.dimensions_ =\r\n      options.dimensions !== undefined ? options.dimensions : {};\r\n\r\n    /**\r\n     * @private\r\n     * @type {string}\r\n     */\r\n    this.layer_ = options.layer;\r\n\r\n    /**\r\n     * @private\r\n     * @type {string}\r\n     */\r\n    this.matrixSet_ = options.matrixSet;\r\n\r\n    /**\r\n     * @private\r\n     * @type {string}\r\n     */\r\n    this.style_ = options.style;\r\n\r\n    // FIXME: should we guess this requestEncoding from options.url(s)\r\n    //        structure? that would mean KVP only if a template is not provided.\r\n\r\n    /**\r\n     * @private\r\n     * @type {RequestEncoding}\r\n     */\r\n    this.requestEncoding_ = requestEncoding;\r\n\r\n    this.setKey(this.getKeyForDimensions_());\r\n\r\n    if (urls && urls.length > 0) {\r\n      this.tileUrlFunction = createFromTileUrlFunctions(\r\n        urls.map(this.createFromWMTSTemplate.bind(this)),\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the URLs to use for requests.\r\n   * URLs may contain OGC conform URL Template Variables: {TileMatrix}, {TileRow}, {TileCol}.\r\n   * @param {Array<string>} urls URLs.\r\n   * @override\r\n   */\r\n  setUrls(urls) {\r\n    this.urls = urls;\r\n    const key = urls.join('\\n');\r\n    this.setTileUrlFunction(\r\n      createFromTileUrlFunctions(\r\n        urls.map(this.createFromWMTSTemplate.bind(this)),\r\n      ),\r\n      key,\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get the dimensions, i.e. those passed to the constructor through the\r\n   * \"dimensions\" option, and possibly updated using the updateDimensions\r\n   * method.\r\n   * @return {!Object} Dimensions.\r\n   * @api\r\n   */\r\n  getDimensions() {\r\n    return this.dimensions_;\r\n  }\r\n\r\n  /**\r\n   * Return the image format of the WMTS source.\r\n   * @return {string} Format.\r\n   * @api\r\n   */\r\n  getFormat() {\r\n    return this.format_;\r\n  }\r\n\r\n  /**\r\n   * Return the layer of the WMTS source.\r\n   * @return {string} Layer.\r\n   * @api\r\n   */\r\n  getLayer() {\r\n    return this.layer_;\r\n  }\r\n\r\n  /**\r\n   * Return the matrix set of the WMTS source.\r\n   * @return {string} MatrixSet.\r\n   * @api\r\n   */\r\n  getMatrixSet() {\r\n    return this.matrixSet_;\r\n  }\r\n\r\n  /**\r\n   * Return the request encoding, either \"KVP\" or \"REST\".\r\n   * @return {RequestEncoding} Request encoding.\r\n   * @api\r\n   */\r\n  getRequestEncoding() {\r\n    return this.requestEncoding_;\r\n  }\r\n\r\n  /**\r\n   * Return the style of the WMTS source.\r\n   * @return {string} Style.\r\n   * @api\r\n   */\r\n  getStyle() {\r\n    return this.style_;\r\n  }\r\n\r\n  /**\r\n   * Return the version of the WMTS source.\r\n   * @return {string} Version.\r\n   * @api\r\n   */\r\n  getVersion() {\r\n    return this.version_;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @return {string} The key for the current dimensions.\r\n   */\r\n  getKeyForDimensions_() {\r\n    const res = this.urls ? this.urls.slice(0) : [];\r\n    for (const key in this.dimensions_) {\r\n      res.push(key + '-' + this.dimensions_[key]);\r\n    }\r\n    return res.join('/');\r\n  }\r\n\r\n  /**\r\n   * Update the dimensions.\r\n   * @param {Object} dimensions Dimensions.\r\n   * @api\r\n   */\r\n  updateDimensions(dimensions) {\r\n    Object.assign(this.dimensions_, dimensions);\r\n    this.setKey(this.getKeyForDimensions_());\r\n  }\r\n\r\n  /**\r\n   * @param {string} template Template.\r\n   * @return {import(\"../Tile.js\").UrlFunction} Tile URL function.\r\n   */\r\n  createFromWMTSTemplate(template) {\r\n    const requestEncoding = this.requestEncoding_;\r\n\r\n    // context property names are lower case to allow for a case insensitive\r\n    // replacement as some services use different naming conventions\r\n    const context = {\r\n      'layer': this.layer_,\r\n      'style': this.style_,\r\n      'tilematrixset': this.matrixSet_,\r\n    };\r\n\r\n    if (requestEncoding == 'KVP') {\r\n      Object.assign(context, {\r\n        'Service': 'WMTS',\r\n        'Request': 'GetTile',\r\n        'Version': this.version_,\r\n        'Format': this.format_,\r\n      });\r\n    }\r\n\r\n    // TODO: we may want to create our own appendParams function so that params\r\n    // order conforms to wmts spec guidance, and so that we can avoid to escape\r\n    // special template params\r\n\r\n    template =\r\n      requestEncoding == 'KVP'\r\n        ? appendParams(template, context)\r\n        : template.replace(/\\{(\\w+?)\\}/g, function (m, p) {\r\n            return p.toLowerCase() in context ? context[p.toLowerCase()] : m;\r\n          });\r\n\r\n    const tileGrid = /** @type {import(\"../tilegrid/WMTS.js\").default} */ (\r\n      this.tileGrid\r\n    );\r\n    const dimensions = this.dimensions_;\r\n\r\n    return (\r\n      /**\r\n       * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\r\n       * @param {number} pixelRatio Pixel ratio.\r\n       * @param {import(\"../proj/Projection.js\").default} projection Projection.\r\n       * @return {string|undefined} Tile URL.\r\n       */\r\n      function (tileCoord, pixelRatio, projection) {\r\n        if (!tileCoord) {\r\n          return undefined;\r\n        }\r\n        const localContext = {\r\n          'TileMatrix': tileGrid.getMatrixId(tileCoord[0]),\r\n          'TileCol': tileCoord[1],\r\n          'TileRow': tileCoord[2],\r\n        };\r\n        Object.assign(localContext, dimensions);\r\n        let url = template;\r\n        if (requestEncoding == 'KVP') {\r\n          url = appendParams(url, localContext);\r\n        } else {\r\n          url = url.replace(/\\{(\\w+?)\\}/g, function (m, p) {\r\n            return encodeURIComponent(localContext[p]);\r\n          });\r\n        }\r\n        return url;\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\nexport default WMTS;\r\n\r\n/**\r\n * Generate source options from a capabilities object.\r\n * @param {Object} wmtsCap An object representing the capabilities document.\r\n * @param {!Object} config Configuration properties for the layer.  Defaults for\r\n *                  the layer will apply if not provided.\r\n *\r\n * Required config properties:\r\n *  - layer - {string} The layer identifier.\r\n *\r\n * Optional config properties:\r\n *  - matrixSet - {string} The matrix set identifier, required if there is\r\n *       more than one matrix set in the layer capabilities.\r\n *  - projection - {string} The desired CRS when no matrixSet is specified.\r\n *       eg: \"EPSG:3857\". If the desired projection is not available,\r\n *       an error is thrown.\r\n *  - requestEncoding - {string} url encoding format for the layer. Default is\r\n *       the first tile url format found in the GetCapabilities response.\r\n *  - style - {string} The name of the style\r\n *  - format - {string} Image format for the layer. Default is the first\r\n *       format returned in the GetCapabilities response.\r\n *  - crossOrigin - {string|null|undefined} Cross origin. Default is `undefined`.\r\n * @return {Options|null} WMTS source options object or `null` if the layer was not found.\r\n * @api\r\n */\r\nexport function optionsFromCapabilities(wmtsCap, config) {\r\n  const layers = wmtsCap['Contents']['Layer'];\r\n  const l = layers?.find(function (elt) {\r\n    return elt['Identifier'] == config['layer'];\r\n  });\r\n  if (!l) {\r\n    return null;\r\n  }\r\n  const tileMatrixSets = wmtsCap['Contents']['TileMatrixSet'];\r\n  let idx;\r\n  if (l['TileMatrixSetLink'].length > 1) {\r\n    if ('projection' in config) {\r\n      idx = l['TileMatrixSetLink'].findIndex(function (elt) {\r\n        const tileMatrixSet = tileMatrixSets.find(function (el) {\r\n          return el['Identifier'] == elt['TileMatrixSet'];\r\n        });\r\n        const supportedCRS = tileMatrixSet['SupportedCRS'];\r\n        const proj1 = getProjection(supportedCRS);\r\n        const proj2 = getProjection(config['projection']);\r\n        if (proj1 && proj2) {\r\n          return equivalent(proj1, proj2);\r\n        }\r\n        return supportedCRS == config['projection'];\r\n      });\r\n    } else {\r\n      idx = l['TileMatrixSetLink'].findIndex(function (elt) {\r\n        return elt['TileMatrixSet'] == config['matrixSet'];\r\n      });\r\n    }\r\n  } else {\r\n    idx = 0;\r\n  }\r\n  if (idx < 0) {\r\n    idx = 0;\r\n  }\r\n  const matrixSet =\r\n    /** @type {string} */\r\n    (l['TileMatrixSetLink'][idx]['TileMatrixSet']);\r\n  const matrixLimits =\r\n    /** @type {Array<Object>} */\r\n    (l['TileMatrixSetLink'][idx]['TileMatrixSetLimits']);\r\n\r\n  let format = /** @type {string} */ (l['Format'][0]);\r\n  if ('format' in config) {\r\n    format = config['format'];\r\n  }\r\n  idx = l['Style'].findIndex(function (elt) {\r\n    if ('style' in config) {\r\n      return elt['Title'] == config['style'];\r\n    }\r\n    return elt['isDefault'];\r\n  });\r\n  if (idx < 0) {\r\n    idx = 0;\r\n  }\r\n  const style = /** @type {string} */ (l['Style'][idx]['Identifier']);\r\n\r\n  const dimensions = {};\r\n  if ('Dimension' in l) {\r\n    l['Dimension'].forEach(function (elt, index, array) {\r\n      const key = elt['Identifier'];\r\n      let value = elt['Default'];\r\n      if (value === undefined) {\r\n        value = elt['Value'][0];\r\n      }\r\n      dimensions[key] = value;\r\n    });\r\n  }\r\n\r\n  const matrixSets = wmtsCap['Contents']['TileMatrixSet'];\r\n  const matrixSetObj = matrixSets.find(function (elt) {\r\n    return elt['Identifier'] == matrixSet;\r\n  });\r\n\r\n  let projection;\r\n  const code = matrixSetObj['SupportedCRS'];\r\n  if (code) {\r\n    projection = getProjection(code);\r\n  }\r\n  if ('projection' in config) {\r\n    const projConfig = getProjection(config['projection']);\r\n    if (projConfig) {\r\n      if (!projection || equivalent(projConfig, projection)) {\r\n        projection = projConfig;\r\n      }\r\n    }\r\n  }\r\n\r\n  let wrapX = false;\r\n  const switchXY = projection.getAxisOrientation().startsWith('ne');\r\n\r\n  let matrix = matrixSetObj.TileMatrix[0];\r\n\r\n  // create default matrixLimit\r\n  let selectedMatrixLimit = {\r\n    MinTileCol: 0,\r\n    MinTileRow: 0,\r\n    // subtract one to end up at tile top left\r\n    MaxTileCol: matrix.MatrixWidth - 1,\r\n    MaxTileRow: matrix.MatrixHeight - 1,\r\n  };\r\n\r\n  //in case of matrix limits, use matrix limits to calculate extent\r\n  if (matrixLimits) {\r\n    selectedMatrixLimit = matrixLimits[matrixLimits.length - 1];\r\n    const m = matrixSetObj.TileMatrix.find(\r\n      (tileMatrixValue) =>\r\n        tileMatrixValue.Identifier === selectedMatrixLimit.TileMatrix ||\r\n        matrixSetObj.Identifier + ':' + tileMatrixValue.Identifier ===\r\n          selectedMatrixLimit.TileMatrix,\r\n    );\r\n    if (m) {\r\n      matrix = m;\r\n    }\r\n  }\r\n\r\n  const layerExtent = l['BoundingBox']?.find(\r\n    (bbox) =>\r\n      getProjection(bbox.crs) &&\r\n      equivalent(getProjection(bbox.crs), projection),\r\n  );\r\n\r\n  const resolution =\r\n    (matrix.ScaleDenominator * 0.00028) / projection.getMetersPerUnit(); // WMTS 1.0.0: standardized rendering pixel size\r\n  const origin = switchXY\r\n    ? [matrix.TopLeftCorner[1], matrix.TopLeftCorner[0]]\r\n    : matrix.TopLeftCorner;\r\n  const tileSpanX = matrix.TileWidth * resolution;\r\n  const tileSpanY = matrix.TileHeight * resolution;\r\n  let matrixSetExtent = layerExtent?.extent ?? matrixSetObj['BoundingBox'];\r\n  if (matrixSetExtent && switchXY) {\r\n    matrixSetExtent = [\r\n      matrixSetExtent[1],\r\n      matrixSetExtent[0],\r\n      matrixSetExtent[3],\r\n      matrixSetExtent[2],\r\n    ];\r\n  }\r\n  let extent = [\r\n    origin[0] + tileSpanX * selectedMatrixLimit.MinTileCol,\r\n    // add one to get proper bottom/right coordinate\r\n    origin[1] - tileSpanY * (1 + selectedMatrixLimit.MaxTileRow),\r\n    origin[0] + tileSpanX * (1 + selectedMatrixLimit.MaxTileCol),\r\n    origin[1] - tileSpanY * selectedMatrixLimit.MinTileRow,\r\n  ];\r\n\r\n  if (\r\n    matrixSetExtent !== undefined &&\r\n    !containsExtent(matrixSetExtent, extent)\r\n  ) {\r\n    const wgs84BoundingBox = l['WGS84BoundingBox'];\r\n    const wgs84ProjectionExtent = getProjection('EPSG:4326').getExtent();\r\n    extent = matrixSetExtent;\r\n    if (wgs84BoundingBox) {\r\n      wrapX =\r\n        wgs84BoundingBox[0] === wgs84ProjectionExtent[0] &&\r\n        wgs84BoundingBox[2] === wgs84ProjectionExtent[2];\r\n    } else {\r\n      const wgs84MatrixSetExtent = transformExtent(\r\n        matrixSetExtent,\r\n        matrixSetObj['SupportedCRS'],\r\n        'EPSG:4326',\r\n      );\r\n      // Ignore slight deviation from the correct x limits\r\n      wrapX =\r\n        wgs84MatrixSetExtent[0] - 1e-10 <= wgs84ProjectionExtent[0] &&\r\n        wgs84MatrixSetExtent[2] + 1e-10 >= wgs84ProjectionExtent[2];\r\n    }\r\n  }\r\n\r\n  const tileGrid = createFromCapabilitiesMatrixSet(\r\n    matrixSetObj,\r\n    extent,\r\n    matrixLimits,\r\n  );\r\n\r\n  /** @type {!Array<string>} */\r\n  const urls = [];\r\n  let requestEncoding = config['requestEncoding'];\r\n  requestEncoding = requestEncoding !== undefined ? requestEncoding : '';\r\n\r\n  if (\r\n    'OperationsMetadata' in wmtsCap &&\r\n    'GetTile' in wmtsCap['OperationsMetadata']\r\n  ) {\r\n    const gets = wmtsCap['OperationsMetadata']['GetTile']['DCP']['HTTP']['Get'];\r\n\r\n    for (let i = 0, ii = gets.length; i < ii; ++i) {\r\n      if (gets[i]['Constraint']) {\r\n        const constraint = gets[i]['Constraint'].find(function (element) {\r\n          return element['name'] == 'GetEncoding';\r\n        });\r\n        const encodings = constraint['AllowedValues']['Value'];\r\n\r\n        if (requestEncoding === '') {\r\n          // requestEncoding not provided, use the first encoding from the list\r\n          requestEncoding = encodings[0];\r\n        }\r\n        if (requestEncoding === 'KVP') {\r\n          if (encodings.includes('KVP')) {\r\n            urls.push(/** @type {string} */ (gets[i]['href']));\r\n          }\r\n        } else {\r\n          break;\r\n        }\r\n      } else if (gets[i]['href']) {\r\n        requestEncoding = 'KVP';\r\n        urls.push(/** @type {string} */ (gets[i]['href']));\r\n      }\r\n    }\r\n  }\r\n  if (urls.length === 0) {\r\n    requestEncoding = 'REST';\r\n    l['ResourceURL'].forEach(function (element) {\r\n      if (element['resourceType'] === 'tile') {\r\n        format = element['format'];\r\n        urls.push(/** @type {string} */ (element['template']));\r\n      }\r\n    });\r\n  }\r\n\r\n  return {\r\n    urls: urls,\r\n    layer: config['layer'],\r\n    matrixSet: matrixSet,\r\n    format: format,\r\n    projection: projection,\r\n    requestEncoding: requestEncoding,\r\n    tileGrid: tileGrid,\r\n    style: style,\r\n    dimensions: dimensions,\r\n    wrapX: wrapX,\r\n    crossOrigin: config['crossOrigin'],\r\n  };\r\n}\r\n", "/**\r\n * @module ol/source\r\n */\r\n\r\nimport {getIntersection} from './extent.js';\r\nimport LRUCache from './structs/LRUCache.js';\r\n\r\nexport {default as BingMaps} from './source/BingMaps.js';\r\nexport {default as CartoDB} from './source/CartoDB.js';\r\nexport {default as Cluster} from './source/Cluster.js';\r\nexport {default as DataTile} from './source/DataTile.js';\r\nexport {default as GeoTIFF} from './source/GeoTIFF.js';\r\nexport {default as Google} from './source/Google.js';\r\nexport {default as IIIF} from './source/IIIF.js';\r\nexport {default as Image} from './source/Image.js';\r\nexport {default as ImageArcGISRest} from './source/ImageArcGISRest.js';\r\nexport {default as ImageCanvas} from './source/ImageCanvas.js';\r\nexport {default as ImageMapGuide} from './source/ImageMapGuide.js';\r\nexport {default as ImageStatic} from './source/ImageStatic.js';\r\nexport {default as ImageTile} from './source/ImageTile.js';\r\nexport {default as ImageWMS} from './source/ImageWMS.js';\r\nexport {default as OGCMapTile} from './source/OGCMapTile.js';\r\nexport {default as OGCVectorTile} from './source/OGCVectorTile.js';\r\nexport {default as OSM} from './source/OSM.js';\r\nexport {default as Raster} from './source/Raster.js';\r\nexport {default as Source} from './source/Source.js';\r\nexport {default as StadiaMaps} from './source/StadiaMaps.js';\r\nexport {default as Tile} from './source/Tile.js';\r\nexport {default as TileArcGISRest} from './source/TileArcGISRest.js';\r\nexport {default as TileDebug} from './source/TileDebug.js';\r\nexport {default as TileImage} from './source/TileImage.js';\r\nexport {default as TileJSON} from './source/TileJSON.js';\r\nexport {default as TileWMS} from './source/TileWMS.js';\r\nexport {default as UrlTile} from './source/UrlTile.js';\r\nexport {default as UTFGrid} from './source/UTFGrid.js';\r\nexport {default as Vector} from './source/Vector.js';\r\nexport {default as VectorTile} from './source/VectorTile.js';\r\nexport {default as WMTS} from './source/WMTS.js';\r\nexport {default as XYZ} from './source/XYZ.js';\r\nexport {default as Zoomify} from './source/Zoomify.js';\r\nexport {createLoader as createWMSLoader} from './source/wms.js';\r\nexport {createLoader as createArcGISRestLoader} from './source/arcgisRest.js';\r\nexport {createLoader as createStaticLoader} from './source/static.js';\r\nexport {createLoader as createMapGuideLoader} from './source/mapguide.js';\r\n\r\n/**\r\n * Creates a sources function from a tile grid. This function can be used as value for the\r\n * `sources` property of the {@link module:ol/layer/Layer~Layer} subclasses that support it.\r\n * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\r\n * @param {function(import(\"./tilecoord.js\").TileCoord): import(\"./source/Source.js\").default} factory Source factory.\r\n * This function takes a {@link module:ol/tilecoord~TileCoord} as argument and is expected to return a\r\n * {@link module:ol/source/Source~Source}. **Note**: The returned sources should have a tile grid with\r\n * a limited set of resolutions, matching the resolution range of a single zoom level of the pyramid\r\n * `tileGrid` that `sourcesFromTileGrid` was called with.\r\n * @return {function(import(\"./extent.js\").Extent, number): Array<import(\"./source/Source.js\").default>} Sources function.\r\n * @api\r\n */\r\nexport function sourcesFromTileGrid(tileGrid, factory) {\r\n  const sourceCache = new LRUCache(32);\r\n  const tileGridExtent = tileGrid.getExtent();\r\n  return function (extent, resolution) {\r\n    sourceCache.expireCache();\r\n    if (tileGridExtent) {\r\n      extent = getIntersection(tileGridExtent, extent);\r\n    }\r\n    const z = tileGrid.getZForResolution(resolution);\r\n    const wantedSources = [];\r\n    tileGrid.forEachTileCoord(extent, z, (tileCoord) => {\r\n      const key = tileCoord.toString();\r\n      if (!sourceCache.containsKey(key)) {\r\n        const source = factory(tileCoord);\r\n        sourceCache.set(key, source);\r\n      }\r\n      wantedSources.push(sourceCache.get(key));\r\n    });\r\n    return wantedSources;\r\n  };\r\n}\r\n"],
  "mappings": "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",
  "names": ["createOrUpdate", "scale", "maxZoom", "hash", "scale", "Tile_default", "Tile_default", "Tile_default", "z", "x", "y", "pixelRatio", "tile", "render", "maxZoom", "scale", "createOrUpdate", "transform", "tileGrid", "extent", "geometry", "create", "create", "scale", "scale", "render", "xPos", "yPos", "width", "height", "lines", "size", "bandCount", "width", "height", "data", "offset", "len", "render", "state", "DataTile_default", "Tile_default", "z", "x", "y", "DataTile_default", "next", "buffer", "buffer", "buffer", "array", "isNaN", "startIndex", "tags", "buffer", "window", "create", "error", "createWorker", "create", "buffer", "urlMod", "http", "https", "values", "getValues", "values", "error", "DataTile_default", "values", "url", "createFromTemplate", "maxZoom", "scale", "size", "isEmpty", "sourceState", "Image_default", "DECIMALS", "Image_default", "extent", "resolution", "pixelRatio", "DECIMALS", "DECIMALS", "image", "resolution", "Image_default", "Image_default", "ImageCanvas_default", "scale", "createLoader", "image", "Image_default", "createLoader", "createLoader", "image", "Image_default", "createLoader", "DataTile_default", "wrapX", "ImageTile_default", "getRequestUrl", "DECIMALS", "createLoader", "image", "Image_default", "createLoader", "client", "projection", "error", "VectorTile_default", "VectorTile_default", "error", "isEmpty", "render", "transform", "Layer_default", "Image_default", "output", "buffer", "Image_default", "Tile_default", "scale", "ImageTile_default", "DataTile_default", "handler", "transform", "maxZoom", "CustomTile", "jsonp", "Tile_default", "transform", "maxZoom", "WMTS_default"]
}
